var mH=Object.defineProperty,_H=Object.defineProperties,yH=Object.getOwnPropertyDescriptors,oV=Object.getOwnPropertySymbols,bH=Object.prototype.hasOwnProperty,vH=Object.prototype.propertyIsEnumerable,aV=(je,be,k)=>be in je?mH(je,be,{enumerable:!0,configurable:!0,writable:!0,value:k}):je[be]=k,ct=(je,be)=>{for(var k in be||(be={}))bH.call(be,k)&&aV(je,k,be[k]);if(oV)for(var k of oV(be))vH.call(be,k)&&aV(je,k,be[k]);return je},ai=(je,be)=>_H(je,yH(be));(self.webpackChunkpizza_app=self.webpackChunkpizza_app||[]).push([[179],{7905:(je,be,k)=>{"use strict";k.d(be,{hO:()=>fe,xv:()=>$,Dh:()=>se,GT:()=>ne,cc:()=>ke,on:()=>L,pX:()=>K});var u=k(6079),X=k(7892),F=k(5940);je=k.hmd(je);const le=["ngOnDestroy"],K=(he,ae,Se,oe={})=>new Proxy(he,{get:(Ge,Nt)=>Se.runOutsideAngular(()=>{var mn;if(he[Nt])return(null===(mn=null==oe?void 0:oe.spy)||void 0===mn?void 0:mn.get)&&oe.spy.get(Nt,he[Nt]),he[Nt];if(le.indexOf(Nt)>-1)return()=>{};const yt=ae.toPromise().then(Ie=>{const te=Ie&&Ie[Nt];return"function"==typeof te?te.bind(Ie):te&&te.then?te.then(ge=>Se.run(()=>ge)):Se.run(()=>te)});return new Proxy(()=>{},{get:(Ie,te)=>yt[te],apply:(Ie,te,ge)=>yt.then(Ee=>{var Te;const Pe=Ee&&Ee(...ge);return(null===(Te=null==oe?void 0:oe.spy)||void 0===Te?void 0:Te.apply)&&oe.spy.apply(Nt,ge,Pe),Pe})})})}),ne=(he,ae)=>{ae.forEach(Se=>{Object.getOwnPropertyNames(Se.prototype||Se).forEach(oe=>{Object.defineProperty(he.prototype,oe,Object.getOwnPropertyDescriptor(Se.prototype||Se,oe))})})};class re{constructor(ae){return ae}}const se=new u.OlP("angularfire2.app.options"),$=new u.OlP("angularfire2.app.name");function L(he,ae,Se){const Ge="object"==typeof Se&&Se||{};Ge.name=Ge.name||"string"==typeof Se&&Se||"[DEFAULT]";const mn=X.Z.apps.filter(yt=>yt&&yt.name===Ge.name)[0]||ae.runOutsideAngular(()=>X.Z.initializeApp(he,Ge));try{JSON.stringify(he)!==JSON.stringify(mn.options)&&V("error",`${mn.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(yt){}return new re(mn)}const V=(he,...ae)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[he](...ae)},Y={provide:re,useFactory:L,deps:[se,u.R0b,[new u.FiY,$]]};let fe=(()=>{class he{constructor(Se){X.Z.registerVersion("angularfire",F.q4.full,"core"),X.Z.registerVersion("angularfire",F.q4.full,"app-compat"),X.Z.registerVersion("angular",u.q4F.full,Se.toString())}static initializeApp(Se,oe){return{ngModule:he,providers:[{provide:se,useValue:Se},{provide:$,useValue:oe}]}}}return he.\u0275fac=function(Se){return new(Se||he)(u.LFG(u.Lbi))},he.\u0275mod=u.oAB({type:he}),he.\u0275inj=u.cJS({providers:[Y]}),he})();function ke(he,ae,Se,oe,Ge){const[,Nt,mn]=globalThis.\u0275AngularfireInstanceCache.find(yt=>yt[0]===he)||[];if(Nt)return function(he,ae){try{return he.toString()===ae.toString()}catch(Se){return he===ae}}(Ge,mn)||(pe("error",`${ae} was already initialized on the ${Se} Firebase App with different settings.${Ae?" You may need to reload as Firebase is not HMR aware.":""}`),pe("warn",{is:Ge,was:mn})),Nt;{const yt=oe();return globalThis.\u0275AngularfireInstanceCache.push([he,yt,Ge]),yt}}const Ae=!!je.hot,pe=(he,...ae)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[he](...ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5940:(je,be,k)=>{"use strict";k.d(be,{q4:()=>Fg,iC:()=>ts,fc:()=>bd,HU:()=>Yn,vb:()=>su,JM:()=>yd});var u=k(6079),X=k(7713),F=k(8239),le=k(1572),K=k(4213),ne=k(1177),re=k(3855),se=k(4995);const $="@firebase/installations",L="0.5.4",Y=`w:${L}`,fe="FIS_v2",ae=new K.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(E){return E instanceof K.ZR&&E.code.includes("request-failed")}function oe({projectId:E}){return`https://firebaseinstallations.googleapis.com/v1/projects/${E}/installations`}function Ge(E){return{token:E.token,requestStatus:2,expiresIn:Ee(E.expiresIn),creationTime:Date.now()}}function Nt(E,I){return mn.apply(this,arguments)}function mn(){return(mn=(0,F.Z)(function*(E,I){const U=(yield I.json()).error;return ae.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function yt({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ie(E,{refreshToken:I}){const M=yt(E);return M.append("Authorization",function(E){return`${fe} ${E}`}(I)),M}function te(E){return ge.apply(this,arguments)}function ge(){return(ge=(0,F.Z)(function*(E){const I=yield E();return I.status>=500&&I.status<600?E():I})).apply(this,arguments)}function Ee(E){return Number(E.replace("s","000"))}function Pe(E,I){return _e.apply(this,arguments)}function _e(){return(_e=(0,F.Z)(function*(E,{fid:I}){const M=oe(E),de={method:"POST",headers:yt(E),body:JSON.stringify({fid:I,authVersion:fe,appId:E.appId,sdkVersion:Y})},Me=yield te(()=>fetch(M,de));if(Me.ok){const $e=yield Me.json();return{fid:$e.fid||I,registrationStatus:2,refreshToken:$e.refreshToken,authToken:Ge($e.authToken)}}throw yield Nt("Create Installation",Me)})).apply(this,arguments)}function mt(E){return new Promise(I=>{setTimeout(I,E)})}const Gn=/^[cdef][\w-]{21}$/;function Qt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const M=function(E){return function(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return Gn.test(M)?M:""}catch(E){return""}}function nn(E){return`${E.appName}!${E.appId}`}const Wt=new Map;function At(E,I){const M=nn(E);Lt(M,I),function(E,I){const M=(!_r&&"BroadcastChannel"in self&&(_r=new BroadcastChannel("[Firebase] FID Change"),_r.onmessage=E=>{Lt(E.data.key,E.data.fid)}),_r);M&&M.postMessage({key:E,fid:I}),0===Wt.size&&_r&&(_r.close(),_r=null)}(M,I)}function Lt(E,I){const M=Wt.get(E);if(M)for(const U of M)U(I)}let _r=null;const Mi="firebase-installations-store";let Ri=null;function ci(){return Ri||(Ri=(0,se.openDb)("firebase-installations-database",1,E=>{0===E.oldVersion&&E.createObjectStore(Mi)})),Ri}function Zr(E,I){return jn.apply(this,arguments)}function jn(){return(jn=(0,F.Z)(function*(E,I){const M=nn(E),J=(yield ci()).transaction(Mi,"readwrite"),de=J.objectStore(Mi),Me=yield de.get(M);return yield de.put(I,M),yield J.complete,(!Me||Me.fid!==I.fid)&&At(E,I.fid),I})).apply(this,arguments)}function zr(E){return tt.apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(E){const I=nn(E),U=(yield ci()).transaction(Mi,"readwrite");yield U.objectStore(Mi).delete(I),yield U.complete})).apply(this,arguments)}function ot(E,I){return rt.apply(this,arguments)}function rt(){return(rt=(0,F.Z)(function*(E,I){const M=nn(E),J=(yield ci()).transaction(Mi,"readwrite"),de=J.objectStore(Mi),Me=yield de.get(M),$e=I(Me);return void 0===$e?yield de.delete(M):yield de.put($e,M),yield J.complete,$e&&(!Me||Me.fid!==$e.fid)&&At(E,$e.fid),$e})).apply(this,arguments)}function kt(E){return an.apply(this,arguments)}function an(){return(an=(0,F.Z)(function*(E){let I;const M=yield ot(E,U=>{const J=yr(U),de=Mt(E,J);return I=de.registrationPromise,de.installationEntry});return""===M.fid?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}})).apply(this,arguments)}function yr(E){return na(E||{fid:Qt(),registrationStatus:0})}function Mt(E,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(ae.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function(E,I){return at.apply(this,arguments)}(E,M);return{installationEntry:M,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Zi(E)}:{installationEntry:I}}function at(){return(at=(0,F.Z)(function*(E,I){try{return Zr(E,yield Pe(E,I))}catch(M){throw Se(M)&&409===M.customData.serverCode?yield zr(E):yield Zr(E,{fid:I.fid,registrationStatus:0}),M}})).apply(this,arguments)}function Zi(E){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,F.Z)(function*(E){let I=yield ui(E);for(;1===I.registrationStatus;)yield mt(100),I=yield ui(E);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield kt(E);return U||M}return I})).apply(this,arguments)}function ui(E){return ot(E,I=>{if(!I)throw ae.create("installation-not-found");return na(I)})}function na(E){return function(E){return 1===E.registrationStatus&&E.registrationTime+1e4<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function ra(E,I){return j.apply(this,arguments)}function j(){return(j=(0,F.Z)(function*({appConfig:E,platformLoggerProvider:I},M){const U=Z(E,M),J=Ie(E,M),de=I.getImmediate({optional:!0});de&&J.append("x-firebase-client",de.getPlatformInfoString());const $e={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Y}})},We=yield te(()=>fetch(U,$e));if(We.ok)return Ge(yield We.json());throw yield Nt("Generate Auth Token",We)})).apply(this,arguments)}function Z(E,{fid:I}){return`${oe(E)}/${I}/authTokens:generate`}function z(E){return De.apply(this,arguments)}function De(){return(De=(0,F.Z)(function*(E,I=!1){let M;const U=yield ot(E.appConfig,de=>{if(!Vt(de))throw ae.create("not-registered");const Me=de.authToken;if(!I&&hr(Me))return de;if(1===Me.requestStatus)return M=Q(E,I),de;{if(!navigator.onLine)throw ae.create("app-offline");const $e=$n(de);return M=Zt(E,$e),$e}});return M?yield M:U.authToken})).apply(this,arguments)}function Q(E,I){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(E,I){let M=yield pt(E.appConfig);for(;1===M.authToken.requestStatus;)yield mt(100),M=yield pt(E.appConfig);const U=M.authToken;return 0===U.requestStatus?z(E,I):U})).apply(this,arguments)}function pt(E){return ot(E,I=>{if(!Vt(I))throw ae.create("not-registered");return function(E){return 1===E.requestStatus&&E.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Zt(E,I){return yn.apply(this,arguments)}function yn(){return(yn=(0,F.Z)(function*(E,I){try{const M=yield ra(E,I),U=Object.assign(Object.assign({},I),{authToken:M});return yield Zr(E.appConfig,U),M}catch(M){if(!Se(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Zr(E.appConfig,U)}else yield zr(E.appConfig);throw M}})).apply(this,arguments)}function Vt(E){return void 0!==E&&2===E.registrationStatus}function hr(E){return 2===E.requestStatus&&!function(E){const I=Date.now();return I<E.creationTime||E.creationTime+E.expiresIn<I+36e5}(E)}function $n(E){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:I})}function Ka(){return(Ka=(0,F.Z)(function*(E){const I=E,{installationEntry:M,registrationPromise:U}=yield kt(I.appConfig);return U?U.catch(console.error):z(I).catch(console.error),M.fid})).apply(this,arguments)}function ia(){return(ia=(0,F.Z)(function*(E,I=!1){const M=E;return yield Lc(M.appConfig),(yield z(M,I)).token})).apply(this,arguments)}function Lc(E){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,F.Z)(function*(E){const{registrationPromise:I}=yield kt(E);I&&(yield I)})).apply(this,arguments)}function vt(E){return ae.create("missing-app-config-values",{valueName:E})}const hn="installations";(0,le._registerComponent)(new ne.wA(hn,E=>{const I=E.getProvider("app").getImmediate(),M=function(E){if(!E||!E.options)throw vt("App Configuration");if(!E.name)throw vt("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!E.options[M])throw vt(M);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(I);return{app:I,appConfig:M,platformLoggerProvider:(0,le._getProvider)(I,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,le._registerComponent)(new ne.wA("installations-internal",E=>{const I=E.getProvider("app").getImmediate(),M=(0,le._getProvider)(I,hn).getImmediate();return{getId:()=>function(E){return Ka.apply(this,arguments)}(M),getToken:J=>function(E){return ia.apply(this,arguments)}(M,J)}},"PRIVATE")),(0,le.registerVersion)($,L),(0,le.registerVersion)($,L,"esm2017");const wn="@firebase/remote-config",Rn=new K.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class zi{constructor(I,M,U,J){this.client=I,this.storage=M,this.storageCache=U,this.logger=J}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var M=this;return(0,F.Z)(function*(){const[U,J]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(J&&M.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const de=yield M.client.fetch(I),Me=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===de.status&&Me.push(M.storage.setLastSuccessfulFetchResponse(de)),yield Promise.all(Me),de})()}}function _o(E=navigator){return E.languages&&E.languages[0]||E.language}class qt{constructor(I,M,U,J,de,Me){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=U,this.projectId=J,this.apiKey=de,this.appId=Me}fetch(I){var M=this;return(0,F.Z)(function*(){const[U,J]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},We={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:M.appId,language_code:_o()},Bt={method:"POST",headers:$e,body:JSON.stringify(We)},ln=fetch(Me,Bt),ar=new Promise((ei,Ao)=>{I.signal.addEventListener(()=>{const gs=new Error("The operation was aborted.");gs.name="AbortError",Ao(gs)})});let Er;try{yield Promise.race([ln,ar]),Er=yield ln}catch(ei){let Ao="fetch-client-network";throw"AbortError"===ei.name&&(Ao="fetch-timeout"),Rn.create(Ao,{originalErrorMessage:ei.message})}let Qe=Er.status;const Fi=Er.headers.get("ETag")||void 0;let Xs,pn;if(200===Er.status){let ei;try{ei=yield Er.json()}catch(Ao){throw Rn.create("fetch-client-parse",{originalErrorMessage:Ao.message})}Xs=ei.entries,pn=ei.state}if("INSTANCE_STATE_UNSPECIFIED"===pn?Qe=500:"NO_CHANGE"===pn?Qe=304:("NO_TEMPLATE"===pn||"EMPTY_CONFIG"===pn)&&(Xs={}),304!==Qe&&200!==Qe)throw Rn.create("fetch-status",{httpStatus:Qe});return{status:Qe,eTag:Fi,config:Xs}})()}}class qi{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,F.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,U)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:U}){var J=this;return(0,F.Z)(function*(){yield function(E,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),de=setTimeout(M,J);E.addEventListener(()=>{clearTimeout(de),U(Rn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const de=yield J.client.fetch(I);return yield J.storage.deleteThrottleMetadata(),de}catch(de){if(!function(E){if(!(E instanceof K.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}(de))throw de;const Me={throttleEndTimeMillis:Date.now()+(0,K.$s)(U),backoffCount:U+1};return yield J.storage.setThrottleMetadata(Me),J.attemptFetch(I,Me)}})()}}class Eg{constructor(I,M,U,J,de){this.app=I,this._client=M,this._storageCache=U,this._storage=J,this._logger=de,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Qa(E,I){const M=E.target.error||void 0;return Rn.create(I,{originalErrorMessage:M&&M.message})}const la="app_namespace_store";class ld{constructor(I,M,U,J=function(){return new Promise((E,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{I(Qa(U,"storage-open"))},M.onsuccess=U=>{E(U.target.result)},M.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(la,{keyPath:"compositeKey"})}}catch(M){I(Rn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=I,this.appName=M,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,F.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,de)=>{const $e=U.transaction([la],"readonly").objectStore(la),We=M.createCompositeKey(I);try{const Bt=$e.get(We);Bt.onerror=ln=>{de(Qa(ln,"storage-get"))},Bt.onsuccess=ln=>{const ar=ln.target.result;J(ar?ar.value:void 0)}}catch(Bt){de(Rn.create("storage-get",{originalErrorMessage:Bt&&Bt.message}))}})})()}set(I,M){var U=this;return(0,F.Z)(function*(){const J=yield U.openDbPromise;return new Promise((de,Me)=>{const We=J.transaction([la],"readwrite").objectStore(la),Bt=U.createCompositeKey(I);try{const ln=We.put({compositeKey:Bt,value:M});ln.onerror=ar=>{Me(Qa(ar,"storage-set"))},ln.onsuccess=()=>{de()}}catch(ln){Me(Rn.create("storage-set",{originalErrorMessage:ln&&ln.message}))}})})()}delete(I){var M=this;return(0,F.Z)(function*(){const U=yield M.openDbPromise;return new Promise((J,de)=>{const $e=U.transaction([la],"readwrite").objectStore(la),We=M.createCompositeKey(I);try{const Bt=$e.delete(We);Bt.onerror=ln=>{de(Qa(ln,"storage-delete"))},Bt.onsuccess=()=>{J()}}catch(Bt){de(Rn.create("storage-delete",{originalErrorMessage:Bt&&Bt.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ca{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,F.Z)(function*(){const M=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),de=yield M;de&&(I.lastFetchStatus=de);const Me=yield U;Me&&(I.lastSuccessfulFetchTimestampMillis=Me);const $e=yield J;$e&&(I.activeConfig=$e)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function Sg(){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,F.Z)(function*(){if(!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(E){return!1}})).apply(this,arguments)}(0,le._registerComponent)(new ne.wA("remote-config",function(I,{instanceIdentifier:M}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,K.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:de,apiKey:Me,appId:$e}=U.options;if(!de)throw Rn.create("registration-project-id");if(!Me)throw Rn.create("registration-api-key");if(!$e)throw Rn.create("registration-app-id");const We=new ld($e,U.name,M=M||"firebase"),Bt=new ca(We),ln=new re.Yd(wn);ln.logLevel=re.in.ERROR;const ar=new qt(J,le.SDK_VERSION,M,de,Me,$e),Er=new qi(ar,We),Qe=new zi(Er,We,Bt,ln),Fi=new Eg(U,Qe,Bt,We,ln);return function(E){const I=(0,K.m9)(E);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Fi),Fi},"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(wn,"0.3.3"),(0,le.registerVersion)(wn,"0.3.3","esm2017");const Ki="/firebase-messaging-sw.js",Vs="/firebase-cloud-messaging-push-scope",da="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wl="google.c.a.c_id",Bs="google.c.a.c_l",Yh="google.c.a.ts",Fn="google.c.a.e";var cs=(()=>{return(E=cs||(cs={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",cs;var E})();function Yi(E){const I=new Uint8Array(E);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jc(E){const M=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),J=new Uint8Array(U.length);for(let de=0;de<U.length;++de)J[de]=U.charCodeAt(de);return J}const Pi="fcm_token_details_db",Zl="fcm_token_object_Store";function Ag(E){return vr.apply(this,arguments)}function vr(){return vr=(0,F.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(de=>de.name).includes(Pi))return null;let I=null;return(yield(0,se.openDb)(Pi,5,function(){var U=(0,F.Z)(function*(J){var de;if(J.oldVersion<2||!J.objectStoreNames.contains(Zl))return;const Me=J.transaction.objectStore(Zl),$e=yield Me.index("fcmSenderId").get(E);if(yield Me.clear(),$e)if(2===J.oldVersion){const We=$e;if(!We.auth||!We.p256dh||!We.endpoint)return;I={token:We.fcmToken,createTime:null!==(de=We.createTime)&&void 0!==de?de:Date.now(),subscriptionOptions:{auth:We.auth,p256dh:We.p256dh,endpoint:We.endpoint,swScope:We.swScope,vapidKey:"string"==typeof We.vapidKey?We.vapidKey:Yi(We.vapidKey)}}}else if(3===J.oldVersion){const We=$e;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:Yi(We.auth),p256dh:Yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:Yi(We.vapidKey)}}}else if(4===J.oldVersion){const We=$e;I={token:We.fcmToken,createTime:We.createTime,subscriptionOptions:{auth:Yi(We.auth),p256dh:Yi(We.p256dh),endpoint:We.endpoint,swScope:We.swScope,vapidKey:Yi(We.vapidKey)}}}});return function(J){return U.apply(this,arguments)}}())).close(),yield(0,se.deleteDb)(Pi),yield(0,se.deleteDb)("fcm_vapid_details_db"),yield(0,se.deleteDb)("undefined"),Xa(I)?I:null}),vr.apply(this,arguments)}function Xa(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:I}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const yo="firebase-messaging-store";let ha=null;function zl(){return ha||(ha=(0,se.openDb)("firebase-messaging-database",1,E=>{0===E.oldVersion&&E.createObjectStore(yo)})),ha}function fn(E){return us.apply(this,arguments)}function us(){return(us=(0,F.Z)(function*(E){const I=hs(E),U=yield(yield zl()).transaction(yo).objectStore(yo).get(I);if(U)return U;{const J=yield Ag(E.appConfig.senderId);if(J)return yield ds(E,J),J}})).apply(this,arguments)}function ds(E,I){return En.apply(this,arguments)}function En(){return(En=(0,F.Z)(function*(E,I){const M=hs(E),J=(yield zl()).transaction(yo,"readwrite");return yield J.objectStore(yo).put(I,M),yield J.complete,I})).apply(this,arguments)}function fa(E){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,F.Z)(function*(E){const I=hs(E),U=(yield zl()).transaction(yo,"readwrite");yield U.objectStore(yo).delete(I),yield U.complete})).apply(this,arguments)}function hs({appConfig:E}){return E.appId}const Wn=new K.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pa(E,I){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,F.Z)(function*(E,I){const M=yield ma(E),U=ft(I),J={method:"POST",headers:M,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(Jr(E.appConfig),J)).json()}catch(Me){throw Wn.create("token-subscribe-failed",{errorInfo:Me})}if(de.error)throw Wn.create("token-subscribe-failed",{errorInfo:de.error.message});if(!de.token)throw Wn.create("token-subscribe-no-token");return de.token})).apply(this,arguments)}function Rr(E,I){return ga.apply(this,arguments)}function ga(){return(ga=(0,F.Z)(function*(E,I){const M=yield ma(E),U=ft(I.subscriptionOptions),J={method:"PATCH",headers:M,body:JSON.stringify(U)};let de;try{de=yield(yield fetch(`${Jr(E.appConfig)}/${I.token}`,J)).json()}catch(Me){throw Wn.create("token-update-failed",{errorInfo:Me})}if(de.error)throw Wn.create("token-update-failed",{errorInfo:de.error.message});if(!de.token)throw Wn.create("token-update-no-token");return de.token})).apply(this,arguments)}function Zc(E,I){return ql.apply(this,arguments)}function ql(){return(ql=(0,F.Z)(function*(E,I){const U={method:"DELETE",headers:yield ma(E)};try{const de=yield(yield fetch(`${Jr(E.appConfig)}/${I}`,U)).json();if(de.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:de.error.message})}catch(J){throw Wn.create("token-unsubscribe-failed",{errorInfo:J})}})).apply(this,arguments)}function Jr({projectId:E}){return`https://fcmregistrations.googleapis.com/v1/projects/${E}/registrations`}function ma(E){return Us.apply(this,arguments)}function Us(){return(Us=(0,F.Z)(function*({appConfig:E,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ft({p256dh:E,auth:I,endpoint:M,vapidKey:U}){const J={web:{endpoint:M,auth:I,p256dh:E}};return U!==da&&(J.web.applicationPubKey=U),J}const Kl=6048e5;function Qh(E){return tl.apply(this,arguments)}function tl(){return(tl=(0,F.Z)(function*(E){const I=yield zc(E.swRegistration,E.vapidKey),M={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:I.endpoint,auth:Yi(I.getKey("auth")),p256dh:Yi(I.getKey("p256dh"))},U=yield fn(E.firebaseDependencies);if(U){if(qc(U.subscriptionOptions,M))return Date.now()>=U.createTime+Kl?Jh(E,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield Zc(E.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Ne(E.firebaseDependencies,M)}return Ne(E.firebaseDependencies,M)})).apply(this,arguments)}function ud(E){return nl.apply(this,arguments)}function nl(){return(nl=(0,F.Z)(function*(E){const I=yield fn(E.firebaseDependencies);I&&(yield Zc(E.firebaseDependencies,I.token),yield fa(E.firebaseDependencies));const M=yield E.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function Jh(E,I){return fs.apply(this,arguments)}function fs(){return(fs=(0,F.Z)(function*(E,I){try{const M=yield Rr(E.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield ds(E.firebaseDependencies,U),M}catch(M){throw yield ud(E),M}})).apply(this,arguments)}function Ne(E,I){return It.apply(this,arguments)}function It(){return(It=(0,F.Z)(function*(E,I){const U={token:yield pa(E,I),createTime:Date.now(),subscriptionOptions:I};return yield ds(E,U),U.token})).apply(this,arguments)}function zc(E,I){return rn.apply(this,arguments)}function rn(){return(rn=(0,F.Z)(function*(E,I){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jc(I)})})).apply(this,arguments)}function qc(E,I){return I.vapidKey===E.vapidKey&&I.endpoint===E.endpoint&&I.auth===E.auth&&I.p256dh===E.p256dh}function Ji(E){const I={from:E.from,collapseKey:E.collapse_key,messageId:E.fcm_message_id};return function(E,I){if(!I.notification)return;E.notification={};const M=I.notification.title;M&&(E.notification.title=M);const U=I.notification.body;U&&(E.notification.body=U);const J=I.notification.image;J&&(E.notification.image=J)}(I,E),function(E,I){!I.data||(E.data=I.data)}(I,E),function(E,I){if(!I.fcmOptions)return;E.fcmOptions={};const M=I.fcmOptions.link;M&&(E.fcmOptions.link=M);const U=I.fcmOptions.analytics_label;U&&(E.fcmOptions.analyticsLabel=U)}(I,E),I}function Ng(E){return"object"==typeof E&&!!E&&Wl in E}function dd(E,I){const M=[];for(let U=0;U<E.length;U++)M.push(E.charAt(U)),U<I.length&&M.push(I.charAt(U));return M.join("")}function ba(E){return Wn.create("missing-app-config-values",{valueName:E})}dd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),dd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ln{constructor(I,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function(E){if(!E||!E.options)throw ba("App Configuration Object");if(!E.name)throw ba("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=E;for(const U of I)if(!M[U])throw ba(U);return{appName:E.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function xi(E){return rl.apply(this,arguments)}function rl(){return(rl=(0,F.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Ki,{scope:Vs}),E.swRegistration.update().catch(()=>{})}catch(I){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:I.message})}})).apply(this,arguments)}function Gs(E,I){return wr.apply(this,arguments)}function wr(){return(wr=(0,F.Z)(function*(E,I){if(!I&&!E.swRegistration&&(yield xi(E)),I||!E.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");E.swRegistration=I}})).apply(this,arguments)}function Xh(E,I){return bo.apply(this,arguments)}function bo(){return(bo=(0,F.Z)(function*(E,I){I?E.vapidKey=I:E.vapidKey||(E.vapidKey=da)})).apply(this,arguments)}function il(){return(il=(0,F.Z)(function*(E,I){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield Xh(E,null==I?void 0:I.vapidKey),yield Gs(E,null==I?void 0:I.serviceWorkerRegistration),Qh(E)})).apply(this,arguments)}function Kc(E,I,M){return vo.apply(this,arguments)}function vo(){return(vo=(0,F.Z)(function*(E,I,M){const U=Ql(I);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[Wl],message_name:M[Bs],message_time:M[Yh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ql(E){switch(E){case cs.NOTIFICATION_CLICKED:return"notification_open";case cs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xl(){return(Xl=(0,F.Z)(function*(E,I){const M=I.data;if(!M.isFirebaseMessaging)return;E.onMessageHandler&&M.messageType===cs.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Ji(M)):E.onMessageHandler.next(Ji(M)));const U=M.data;Ng(U)&&"1"===U[Fn]&&(yield Kc(E,M.messageType,U))})).apply(this,arguments)}const sl="@firebase/messaging";function ec(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,F.Z)(function*(){return"undefined"!=typeof window&&(0,K.hl)()&&(yield(0,K.eu)())&&(0,K.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,le._registerComponent)(new ne.wA("messaging",E=>{const I=new Ln(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function(E,I){return Xl.apply(this,arguments)}(I,M)),I},"PUBLIC")),(0,le._registerComponent)(new ne.wA("messaging-internal",E=>{const I=E.getProvider("messaging").getImmediate();return{getToken:U=>function(E,I){return il.apply(this,arguments)}(I,U)}},"PRIVATE")),(0,le.registerVersion)(sl,"0.9.4"),(0,le.registerVersion)(sl,"0.9.4","esm2017");const Qc="analytics",Jc="firebase_id",Xc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rc="https://www.googletagmanager.com/gtag/js",Zn=new re.Yd("@firebase/analytics");function eu(E){return Promise.all(E.map(I=>I.catch(M=>M)))}function tu(E,I){const M=document.createElement("script");M.src=`${rc}?l=${E}&id=${I}`,M.async=!0,document.head.appendChild(M)}function ic(E,I,M,U,J,de){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,F.Z)(function*(E,I,M,U,J,de){const Me=U[J];try{if(Me)yield I[Me];else{const We=(yield eu(M)).find(Bt=>Bt.measurementId===J);We&&(yield I[We.appId])}}catch($e){Zn.error($e)}E("config",J,de)})).apply(this,arguments)}function rf(E,I,M,U,J){return Da.apply(this,arguments)}function Da(){return(Da=(0,F.Z)(function*(E,I,M,U,J){try{let de=[];if(J&&J.send_to){let Me=J.send_to;Array.isArray(Me)||(Me=[Me]);const $e=yield eu(M);for(const We of Me){const Bt=$e.find(ar=>ar.measurementId===We),ln=Bt&&I[Bt.appId];if(!ln){de=[];break}de.push(ln)}}0===de.length&&(de=Object.values(I)),yield Promise.all(de),E("event",U,J||{})}catch(de){Zn.error(de)}})).apply(this,arguments)}function Mg(){const E=window.document.getElementsByTagName("script");for(const I of Object.values(E))if(I.src&&I.src.includes(rc))return I;return null}const Xr=new K.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),js=new class{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function pd(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function zn(E){return $s.apply(this,arguments)}function $s(){return($s=(0,F.Z)(function*(E){var I;const{appId:M,apiKey:U}=E,J={method:"GET",headers:pd(U)},de=Xc.replace("{app-id}",M),Me=yield fetch(de,J);if(200!==Me.status&&304!==Me.status){let $e="";try{const We=yield Me.json();(null===(I=We.error)||void 0===I?void 0:I.message)&&($e=We.error.message)}catch(We){}throw Xr.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:$e})}return Me.json()})).apply(this,arguments)}function gd(E){return wo.apply(this,arguments)}function wo(){return(wo=(0,F.Z)(function*(E,I=js,M){const{appId:U,apiKey:J,measurementId:de}=E.options;if(!U)throw Xr.create("no-app-id");if(!J){if(de)return{measurementId:de,appId:U};throw Xr.create("no-api-key")}const Me=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Xe;return setTimeout((0,F.Z)(function*(){$e.abort()}),void 0!==M?M:6e4),al({appId:U,apiKey:J,measurementId:de},Me,$e,I)})).apply(this,arguments)}function al(E,I,M){return Ia.apply(this,arguments)}function Ia(){return(Ia=(0,F.Z)(function*(E,{throttleEndTimeMillis:I,backoffCount:M},U,J=js){const{appId:de,measurementId:Me}=E;try{yield k0(U,I)}catch($e){if(Me)return Zn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:de,measurementId:Me};throw $e}try{const $e=yield zn(E);return J.deleteThrottleMetadata(de),$e}catch($e){if(!sn($e)){if(J.deleteThrottleMetadata(de),Me)return Zn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Me} provided in the "measurementId" field in the local Firebase config. [${$e.message}]`),{appId:de,measurementId:Me};throw $e}const We=503===Number($e.customData.httpStatus)?(0,K.$s)(M,J.intervalMillis,30):(0,K.$s)(M,J.intervalMillis),Bt={throttleEndTimeMillis:Date.now()+We,backoffCount:M+1};return J.setThrottleMetadata(de,Bt),Zn.debug(`Calling attemptFetch again in ${We} millis`),al(E,Bt,U,J)}})).apply(this,arguments)}function k0(E,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),de=setTimeout(M,J);E.addEventListener(()=>{clearTimeout(de),U(Xr.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function sn(E){if(!(E instanceof K.ZR&&E.customData))return!1;const I=Number(E.customData.httpStatus);return 429===I||500===I||503===I||504===I}class Xe{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}function Kt(){return ll.apply(this,arguments)}function ll(){return(ll=(0,F.Z)(function*(){if(!(0,K.hl)())return Zn.warn(Xr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,K.eu)()}catch(E){return Zn.warn(Xr.create("indexeddb-unavailable",{errorInfo:E}).message),!1}return!0})).apply(this,arguments)}function ki(){return(ki=(0,F.Z)(function*(E,I,M,U,J,de,Me){var $e;const We=gd(E);We.then(Qe=>{M[Qe.measurementId]=Qe.appId,E.options.measurementId&&Qe.measurementId!==E.options.measurementId&&Zn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Qe.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Qe=>Zn.error(Qe)),I.push(We);const Bt=Kt().then(Qe=>{if(Qe)return U.getId()}),[ln,ar]=yield Promise.all([We,Bt]);Mg()||tu(de,ln.measurementId),J("js",new Date);const Er=null!==($e=null==Me?void 0:Me.config)&&void 0!==$e?$e:{};return Er.origin="firebase",Er.update=!0,null!=ar&&(Er[Jc]=ar),J("config",ln.measurementId,Er),ln.measurementId})).apply(this,arguments)}class Ws{constructor(I){this.app=I}_delete(){return delete Jt[this.app.options.appId],Promise.resolve()}}let Jt={},Zs=[];const sc={};let Sa,zs,cl="dataLayer",oc=!1;function ul(E,I,M){!function(){const E=[];if((0,K.ru)()&&E.push("This is a browser extension environment."),(0,K.zI)()||E.push("Cookies are not available."),E.length>0){const I=E.map((U,J)=>`(${J+1}) ${U}`).join(" "),M=Xr.create("invalid-analytics-context",{errorInfo:I});Zn.warn(M.message)}}();const U=E.options.appId;if(!U)throw Xr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Xr.create("no-api-key");Zn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jt[U])throw Xr.create("already-exists",{id:U});if(!oc){!function(E){let I=[];Array.isArray(window[E])?I=window[E]:window[E]=I}(cl);const{wrappedGtag:de,gtagCore:Me}=function(E,I,M,U,J){let de=function(...Me){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(de=window[J]),window[J]=function(E,I,M,U){function de(){return(de=(0,F.Z)(function*(Me,$e,We){try{"event"===Me?yield rf(E,I,M,$e,We):"config"===Me?yield ic(E,I,M,U,$e,We):E("set",$e)}catch(Bt){Zn.error(Bt)}})).apply(this,arguments)}return function(Me,$e,We){return de.apply(this,arguments)}}(de,E,I,M),{gtagCore:de,wrappedGtag:window[J]}}(Jt,Zs,sc,cl,"gtag");zs=de,Sa=Me,oc=!0}return Jt[U]=function(E,I,M,U,J,de,Me){return ki.apply(this,arguments)}(E,Zs,sc,I,Sa,cl,M),new Ws(E)}function Eo(){return(Eo=(0,F.Z)(function*(E,I,M,U,J){if(J&&J.global)E("event",M,U);else{const de=yield I;E("event",M,Object.assign(Object.assign({},U),{send_to:de}))}})).apply(this,arguments)}function ps(){return lf.apply(this,arguments)}function lf(){return(lf=(0,F.Z)(function*(){if((0,K.ru)()||!(0,K.zI)()||!(0,K.hl)())return!1;try{return yield(0,K.eu)()}catch(E){return!1}})).apply(this,arguments)}const Na="@firebase/analytics";(0,le._registerComponent)(new ne.wA(Qc,(I,{options:M})=>ul(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,le._registerComponent)(new ne.wA("analytics-internal",function(I){try{const M=I.getProvider(Qc).getImmediate();return{logEvent:(U,J,de)=>function(E,I,M,U){E=(0,K.m9)(E),function(E,I,M,U,J){return Eo.apply(this,arguments)}(zs,Jt[E.app.options.appId],I,M,U).catch(J=>Zn.error(J))}(M,U,J,de)}}catch(M){throw Xr.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,le.registerVersion)(Na,"0.7.4"),(0,le.registerVersion)(Na,"0.7.4","esm2017");var In=k(7575),kg=k(8178),md=k(1366),Io=k(9748),So=k(2635);const Fg=new u.GfV("7.2.0"),gi="__angularfire_symbol__analyticsIsSupported",_d="__angularfire_symbol__remoteConfigIsSupported",Kn="__angularfire_symbol__messagingIsSupported";function yd(E,I,M){if(I){if(1===I.length)return I[0];const de=I.filter(Me=>Me.app===M);if(1===de.length)return de[0]}return M.container.getProvider(E).getImmediate({optional:!0})}globalThis[gi]||(globalThis[gi]=ps().then(E=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=E)),globalThis[Kn]||(globalThis[Kn]=ec().then(E=>globalThis.__angularfire_symbol__messagingIsSupportedValue=E)),globalThis[_d]||(globalThis[_d]=Sg().then(E=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=E));const su=(E,I)=>{const M=I?[I]:(0,X.C6)(),U=[];return M.forEach(J=>{J.container.getProvider(E).instances.forEach(Me=>{U.includes(Me)||U.push(Me)})}),U};function Js(){}class uf{constructor(I,M=In.N){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,U){const J=this.zone;return this.delegate.schedule(function(Me){J.runGuarded(()=>{I.apply(this,[Me])})},M,U)}}class Ra{constructor(I){this.zone=I,this.task=null}call(I,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Js,{},Js,Js)),M.pipe((0,md.b)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yn=(()=>{class E{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new uf(Zone.current)),this.insideAngular=M.run(()=>new uf(Zone.current,kg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(M){return new(M||E)(u.LFG(u.R0b))},E.\u0275prov=u.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qn(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function bd(E){return E.pipe((0,Io.QV)(Qn().outsideAngular))}function ts(E){return Qn(),function(E){return function(M){return(M=M.lift(new Ra(E.ngZone))).pipe((0,So.R)(E.outsideAngular),(0,Io.QV)(E.insideAngular))}}(Qn())(E)}},4213:(je,be,k)=>{"use strict";k.d(be,{BH:()=>fe,LL:()=>_e,ZR:()=>Pe,zI:()=>ge,US:()=>ne,tV:()=>$,$s:()=>ui,r3:()=>Wi,Sg:()=>ke,ne:()=>Ri,vZ:()=>_r,ZB:()=>V,pd:()=>ta,m9:()=>ra,z$:()=>ce,jU:()=>he,ru:()=>ae,d:()=>oe,xb:()=>Lt,w1:()=>Ge,hl:()=>Ie,uI:()=>Ae,UG:()=>pe,b$:()=>Se,G6:()=>yt,Mn:()=>Nt,xO:()=>Nn,zd:()=>Ns,eu:()=>te});const le=function(j){const Z=[];let z=0;for(let De=0;De<j.length;De++){let Q=j.charCodeAt(De);Q<128?Z[z++]=Q:Q<2048?(Z[z++]=Q>>6|192,Z[z++]=63&Q|128):55296==(64512&Q)&&De+1<j.length&&56320==(64512&j.charCodeAt(De+1))?(Q=65536+((1023&Q)<<10)+(1023&j.charCodeAt(++De)),Z[z++]=Q>>18|240,Z[z++]=Q>>12&63|128,Z[z++]=Q>>6&63|128,Z[z++]=63&Q|128):(Z[z++]=Q>>12|224,Z[z++]=Q>>6&63|128,Z[z++]=63&Q|128)}return Z},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,Z){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,De=[];for(let Q=0;Q<j.length;Q+=3){const Ze=j[Q],pt=Q+1<j.length,Zt=pt?j[Q+1]:0,yn=Q+2<j.length,Vt=yn?j[Q+2]:0;let $n=(15&Zt)<<2|Vt>>6,di=63&Vt;yn||(di=64,pt||($n=64)),De.push(z[Ze>>2],z[(3&Ze)<<4|Zt>>4],z[$n],z[di])}return De.join("")},encodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(j):this.encodeByteArray(le(j),Z)},decodeString(j,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(j):function(j){const Z=[];let z=0,De=0;for(;z<j.length;){const Q=j[z++];if(Q<128)Z[De++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ze=j[z++];Z[De++]=String.fromCharCode((31&Q)<<6|63&Ze)}else if(Q>239&&Q<365){const yn=((7&Q)<<18|(63&j[z++])<<12|(63&j[z++])<<6|63&j[z++])-65536;Z[De++]=String.fromCharCode(55296+(yn>>10)),Z[De++]=String.fromCharCode(56320+(1023&yn))}else{const Ze=j[z++],pt=j[z++];Z[De++]=String.fromCharCode((15&Q)<<12|(63&Ze)<<6|63&pt)}}return Z.join("")}(this.decodeStringToByteArray(j,Z))},decodeStringToByteArray(j,Z){this.init_();const z=Z?this.charToByteMapWebSafe_:this.charToByteMap_,De=[];for(let Q=0;Q<j.length;){const Ze=z[j.charAt(Q++)],Zt=Q<j.length?z[j.charAt(Q)]:0;++Q;const Vt=Q<j.length?z[j.charAt(Q)]:64;++Q;const Rt=Q<j.length?z[j.charAt(Q)]:64;if(++Q,null==Ze||null==Zt||null==Vt||null==Rt)throw Error();De.push(Ze<<2|Zt>>4),64!==Vt&&(De.push(Zt<<4&240|Vt>>2),64!==Rt&&De.push(Vt<<6&192|Rt))}return De},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},se=function(j){return function(j){const Z=le(j);return ne.encodeByteArray(Z,!0)}(j).replace(/\./g,"")},$=function(j){try{return ne.decodeString(j,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null};function V(j,Z){if(!(Z instanceof Object))return Z;switch(Z.constructor){case Date:return new Date(Z.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return Z}for(const z in Z)!Z.hasOwnProperty(z)||!Y(z)||(j[z]=V(j[z],Z[z]));return j}function Y(j){return"__proto__"!==j}class fe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,z)=>{this.resolve=Z,this.reject=z})}wrapCallback(Z){return(z,De)=>{z?this.reject(z):this.resolve(De),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(z):Z(z,De))}}}function ke(j,Z){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const De=Z||"demo-project",Q=j.iat||0,Ze=j.sub||j.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pt=Object.assign({iss:`https://securetoken.google.com/${De}`,aud:De,iat:Q,exp:Q+3600,auth_time:Q,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},j);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(pt)),""].join(".")}function ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ae(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ce())}function pe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function he(){return"object"==typeof self&&self.self===self}function ae(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function Se(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function oe(){return ce().indexOf("Electron/")>=0}function Ge(){const j=ce();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function Nt(){return ce().indexOf("MSAppHost/")>=0}function yt(){return!pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ie(){return"object"==typeof indexedDB}function te(){return new Promise((j,Z)=>{try{let z=!0;const De="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(De);Q.onsuccess=()=>{Q.result.close(),z||self.indexedDB.deleteDatabase(De),j(!0)},Q.onupgradeneeded=()=>{z=!1},Q.onerror=()=>{var Ze;Z((null===(Ze=Q.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(z){Z(z)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Pe extends Error{constructor(Z,z,De){super(z),this.code=Z,this.customData=De,this.name="FirebaseError",Object.setPrototypeOf(this,Pe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(Z,z,De){this.service=Z,this.serviceName=z,this.errors=De}create(Z,...z){const De=z[0]||{},Q=`${this.service}/${Z}`,Ze=this.errors[Z],pt=Ze?function(j,Z){return j.replace($t,(z,De)=>{const Q=Z[De];return null!=Q?String(Q):`<${De}?>`})}(Ze,De):"Error";return new Pe(Q,`${this.serviceName}: ${pt} (${Q}).`,De)}}const $t=/\{\$([^}]+)}/g;function Wi(j,Z){return Object.prototype.hasOwnProperty.call(j,Z)}function Lt(j){for(const Z in j)if(Object.prototype.hasOwnProperty.call(j,Z))return!1;return!0}function _r(j,Z){if(j===Z)return!0;const z=Object.keys(j),De=Object.keys(Z);for(const Q of z){if(!De.includes(Q))return!1;const Ze=j[Q],pt=Z[Q];if(li(Ze)&&li(pt)){if(!_r(Ze,pt))return!1}else if(Ze!==pt)return!1}for(const Q of De)if(!z.includes(Q))return!1;return!0}function li(j){return null!==j&&"object"==typeof j}function Nn(j){const Z=[];for(const[z,De]of Object.entries(j))Array.isArray(De)?De.forEach(Q=>{Z.push(encodeURIComponent(z)+"="+encodeURIComponent(Q))}):Z.push(encodeURIComponent(z)+"="+encodeURIComponent(De));return Z.length?"&"+Z.join("&"):""}function Ns(j){const Z={};return j.replace(/^\?/,"").split("&").forEach(De=>{if(De){const[Q,Ze]=De.split("=");Z[decodeURIComponent(Q)]=decodeURIComponent(Ze)}}),Z}function ta(j){const Z=j.indexOf("?");if(!Z)return"";const z=j.indexOf("#",Z);return j.substring(Z,z>0?z:void 0)}function Ri(j,Z){const z=new ci(j,Z);return z.subscribe.bind(z)}class ci{constructor(Z,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{Z(this)}).catch(De=>{this.error(De)})}next(Z){this.forEachObserver(z=>{z.next(Z)})}error(Z){this.forEachObserver(z=>{z.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,z,De){let Q;if(void 0===Z&&void 0===z&&void 0===De)throw new Error("Missing Observer.");Q=function(j,Z){if("object"!=typeof j||null===j)return!1;for(const z of["next","error","complete"])if(z in j&&"function"==typeof j[z])return!0;return!1}(Z)?Z:{next:Z,error:z,complete:De},void 0===Q.next&&(Q.next=zr),void 0===Q.error&&(Q.error=zr),void 0===Q.complete&&(Q.complete=zr);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(pt){}}),this.observers.push(Q),Ze}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,Z)}sendOne(Z,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{z(this.observers[Z])}catch(De){"undefined"!=typeof console&&console.error&&console.error(De)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zr(){}function ui(j,Z=1e3,z=2){const De=Z*Math.pow(z,j),Q=Math.round(.5*De*(Math.random()-.5)*2);return Math.min(144e5,De+Q)}function ra(j){return j&&j._delegate?j._delegate:j}},7713:(je,be,k)=>{"use strict";k.d(be,{Mq:()=>u.getApp,C6:()=>u.getApps});var u=k(1572);(0,u.registerVersion)("firebase","9.4.1","app")},7892:(je,be,k)=>{"use strict";k.d(be,{Z:()=>u.Z});var u=k(6293);u.Z.registerVersion("firebase","9.4.1","app-compat")},4802:(je,be,k)=>{"use strict";k.r(be);var u=k(8239),X=k(6293),F=k(4213),le=k(1572),K=k(4762),ne=k(3855),re=k(1177);const ce=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ae=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pe=new F.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ae=new ne.Yd("@firebase/auth");function Se(b,...p){ae.logLevel<=ne.in.ERROR&&ae.error(`Auth (${le.SDK_VERSION}): ${b}`,...p)}function oe(b,...p){throw yt(b,...p)}function Ge(b,...p){return yt(b,...p)}function Nt(b,p,g){const T=Object.assign(Object.assign({},Ae()),{[p]:g});return new F.LL("auth","Firebase",T).create(p,{appName:b.name})}function mn(b,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&oe(b,"argument-error"),Nt(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(b,...p){if("string"!=typeof b){const g=p[0],T=[...p.slice(1)];return T[0]&&(T[0].appName=b.name),b._errorFactory.create(g,...T)}return pe.create(b,...p)}function Ie(b,p,...g){if(!b)throw yt(p,...g)}function te(b){const p="INTERNAL ASSERTION FAILED: "+b;throw Se(p),new Error(p)}function ge(b,p){b||te(p)}const Ee=new Map;function Te(b){ge(b instanceof Function,"Expected a class definition");let p=Ee.get(b);return p?(ge(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,Ee.set(b,p),p)}function mt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function $t(){return"http:"===Gn()||"https:"===Gn()}function Gn(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Hn{constructor(p,g){this.shortDelay=p,this.longDelay=g,ge(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,F.uI)()||(0,F.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,F.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function nn(b,p){ge(b.emulator,"Emulator should always be set here");const{url:g}=b.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Wt{static initialize(p,g,T){this.fetchImpl=p,g&&(this.headersImpl=g),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void te("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void te("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void te("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const At={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Wi=new Hn(3e4,6e4);function _n(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function Lt(b,p,g,T){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,u.Z)(function*(b,p,g,T,A={}){return _r(b,A,()=>{let P={},q={};T&&("GET"===p?q=T:P={body:JSON.stringify(T)});const ye=(0,F.xO)(Object.assign({key:b.config.apiKey},q)).slice(1),Le=new(Wt.headers());return Le.set("Content-Type","application/json"),Le.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Le.set("X-Firebase-Locale",b.languageCode),Wt.fetch()(ta(b,b.config.apiHost,g,ye),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},P))})})).apply(this,arguments)}function _r(b,p,g){return li.apply(this,arguments)}function li(){return(li=(0,u.Z)(function*(b,p,g){b._canInitEmulator=!1;const T=Object.assign(Object.assign({},At),p);try{const A=new Mi(b),P=yield Promise.race([g(),A.promise]);A.clearNetworkTimeout();const q=yield P.json();if("needConfirmation"in q)throw Ri(b,"account-exists-with-different-credential",q);if(P.ok&&!("errorMessage"in q))return q;{const ye=P.ok?q.errorMessage:q.error.message,[Le,Ye]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ri(b,"credential-already-in-use",q);if("EMAIL_EXISTS"===Le)throw Ri(b,"email-already-in-use",q);const dt=T[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw Nt(b,dt,Ye);oe(b,dt)}}catch(A){if(A instanceof F.ZR)throw A;oe(b,"network-request-failed")}})).apply(this,arguments)}function Nn(b,p,g,T){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,u.Z)(function*(b,p,g,T,A={}){const P=yield Lt(b,p,g,T,A);return"mfaPendingCredential"in P&&oe(b,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function ta(b,p,g,T){const A=`${p}${g}?${T}`;return b.config.emulator?nn(b.config,A):`${b.config.apiScheme}://${A}`}class Mi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,T)=>{this.timer=setTimeout(()=>T(Ge(this.auth,"timeout")),Wi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ri(b,p,g){const T={appName:b.name};g.email&&(T.email=g.email),g.phoneNumber&&(T.phoneNumber=g.phoneNumber);const A=Ge(b,p,T);return A.customData._tokenResponse=g,A}function Zr(){return(Zr=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function jn(b,p){return zr.apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function tt(b,p){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function rt(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function yr(){return(yr=(0,u.Z)(function*(b,p=!1){const g=(0,F.m9)(b),T=yield g.getIdToken(p),A=Ue(T);Ie(A&&A.exp&&A.auth_time&&A.iat,g.auth,"internal-error");const P="object"==typeof A.firebase?A.firebase:void 0,q=null==P?void 0:P.sign_in_provider;return{claims:A,token:T,authTime:rt(Mt(A.auth_time)),issuedAtTime:rt(Mt(A.iat)),expirationTime:rt(Mt(A.exp)),signInProvider:q||null,signInSecondFactor:(null==P?void 0:P.sign_in_second_factor)||null}})).apply(this,arguments)}function Mt(b){return 1e3*Number(b)}function Ue(b){const[p,g,T]=b.split(".");if(void 0===p||void 0===g||void 0===T)return Se("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,F.tV)(g);return A?JSON.parse(A):(Se("Failed to decode base64 JWT payload"),null)}catch(A){return Se("Caught error parsing JWT payload as JSON",A),null}}function Zi(b,p){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,u.Z)(function*(b,p,g=!1){if(g)return p;try{return yield p}catch(T){throw T instanceof F.ZR&&ui(T)&&b.auth.currentUser===b&&(yield b.auth.signOut()),T}})).apply(this,arguments)}function ui({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class na{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const A=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const T=this.getInterval(p);this.timerId=setTimeout((0,u.Z)(function*(){yield g.iteration()}),T)}iteration(){var p=this;return(0,u.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&p.schedule(!0))}p.schedule()})()}}class Ar{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=rt(this.lastLoginAt),this.creationTime=rt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ra(b){return j.apply(this,arguments)}function j(){return(j=(0,u.Z)(function*(b){var p;const g=b.auth,T=yield b.getIdToken(),A=yield Zi(b,tt(g,{idToken:T}));Ie(null==A?void 0:A.users.length,g,"internal-error");const P=A.users[0];b._notifyReloadListener(P);const q=(null===(p=P.providerUserInfo)||void 0===p?void 0:p.length)?Q(P.providerUserInfo):[],ye=De(b.providerData,q),dt=!!b.isAnonymous&&!(b.email&&P.passwordHash||(null==ye?void 0:ye.length)),Je={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ye,metadata:new Ar(P.createdAt,P.lastLoginAt),isAnonymous:dt};Object.assign(b,Je)})).apply(this,arguments)}function z(){return(z=(0,u.Z)(function*(b){const p=(0,F.m9)(b);yield ra(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function De(b,p){return[...b.filter(T=>!p.some(A=>A.providerId===T.providerId)),...p]}function Q(b){return b.map(p=>{var{providerId:g}=p,T=(0,K._T)(p,["providerId"]);return{providerId:g,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function pt(){return(pt=(0,u.Z)(function*(b,p){const g=yield _r(b,{},()=>{const T=(0,F.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:P}=b.config,q=ta(b,A,"/v1/token",`key=${P}`);return Wt.fetch()(q,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:T})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Zt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Ie(p.idToken,"internal-error"),Ie(void 0!==p.idToken,"internal-error"),Ie(void 0!==p.refreshToken,"internal-error");const g="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function(b){const p=Ue(b);return Ie(p,"internal-error"),Ie(void 0!==p.exp,"internal-error"),Ie(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var T=this;return(0,u.Z)(function*(){return Ie(!T.accessToken||T.refreshToken,p,"user-token-expired"),g||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(p,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var T=this;return(0,u.Z)(function*(){const{accessToken:A,refreshToken:P,expiresIn:q}=yield function(b,p){return pt.apply(this,arguments)}(p,g);T.updateTokensAndExpiration(A,P,Number(q))})()}updateTokensAndExpiration(p,g,T){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(p,g){const{refreshToken:T,accessToken:A,expirationTime:P}=g,q=new Zt;return T&&(Ie("string"==typeof T,"internal-error",{appName:p}),q.refreshToken=T),A&&(Ie("string"==typeof A,"internal-error",{appName:p}),q.accessToken=A),P&&(Ie("number"==typeof P,"internal-error",{appName:p}),q.expirationTime=P),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Zt,this.toJSON())}_performRefresh(){return te("not implemented")}}function yn(b,p){Ie("string"==typeof b||void 0===b,"internal-error",{appName:p})}class Vt{constructor(p){var{uid:g,auth:T,stsTokenManager:A}=p,P=(0,K._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new na(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=T,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.metadata=new Ar(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,u.Z)(function*(){const T=yield Zi(g,g.stsTokenManager.getToken(g.auth,p));return Ie(T,g.auth,"internal-error"),g.accessToken!==T&&(g.accessToken=T,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),T})()}getIdTokenResult(p){return function(b){return yr.apply(this,arguments)}(this,p)}reload(){return function(b){return z.apply(this,arguments)}(this)}_assign(p){this!==p&&(Ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Vt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var T=this;return(0,u.Z)(function*(){let A=!1;p.idToken&&p.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(p),A=!0),g&&(yield ra(T)),yield T.auth._persistUserIfCurrent(T),A&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var p=this;return(0,u.Z)(function*(){const g=yield p.getIdToken();return yield Zi(p,function(b,p){return Zr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var T,A,P,q,ye,Le,Ye,dt;const Je=null!==(T=g.displayName)&&void 0!==T?T:void 0,cn=null!==(A=g.email)&&void 0!==A?A:void 0,yi=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Pf=null!==(q=g.photoURL)&&void 0!==q?q:void 0,xf=null!==(ye=g.tenantId)&&void 0!==ye?ye:void 0,Xg=null!==(Le=g._redirectEventId)&&void 0!==Le?Le:void 0,ys=null!==(Ye=g.createdAt)&&void 0!==Ye?Ye:void 0,xd=null!==(dt=g.lastLoginAt)&&void 0!==dt?dt:void 0,{uid:_u,emailVerified:em,isAnonymous:kf,providerData:Cl,stsTokenManager:kd}=g;Ie(_u&&kd,p,"internal-error");const tm=Zt.fromJSON(this.name,kd);Ie("string"==typeof _u,p,"internal-error"),yn(Je,p.name),yn(cn,p.name),Ie("boolean"==typeof em,p,"internal-error"),Ie("boolean"==typeof kf,p,"internal-error"),yn(yi,p.name),yn(Pf,p.name),yn(xf,p.name),yn(Xg,p.name),yn(ys,p.name),yn(xd,p.name);const yu=new Vt({uid:_u,auth:p,email:cn,emailVerified:em,displayName:Je,isAnonymous:kf,photoURL:Pf,phoneNumber:yi,tenantId:xf,stsTokenManager:tm,createdAt:ys,lastLoginAt:xd});return Cl&&Array.isArray(Cl)&&(yu.providerData=Cl.map(Ff=>Object.assign({},Ff))),Xg&&(yu._redirectEventId=Xg),yu}static _fromIdTokenResponse(p,g,T=!1){return(0,u.Z)(function*(){const A=new Zt;A.updateFromServerResponse(g);const P=new Vt({uid:g.localId,auth:p,stsTokenManager:A,isAnonymous:T});return yield ra(P),P})()}}const Rt=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(g,T){var A=this;return(0,u.Z)(function*(){A.storage[g]=T})()}_get(g){var T=this;return(0,u.Z)(function*(){const A=T.storage[g];return void 0===A?null:A})()}_remove(g){var T=this;return(0,u.Z)(function*(){delete T.storage[g]})()}_addListener(g,T){}_removeListener(g,T){}}return b.type="NONE",b})();function $n(b,p,g){return`firebase:${b}:${p}:${g}`}class di{constructor(p,g,T){this.persistence=p,this.auth=g,this.userKey=T;const{config:A,name:P}=this.auth;this.fullUserKey=$n(this.userKey,A.apiKey,P),this.fullPersistenceKey=$n("persistence",A.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,u.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Vt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,u.Z)(function*(){if(g.persistence===p)return;const T=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,T?g.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,T="authUser"){return(0,u.Z)(function*(){if(!g.length)return new di(Te(Rt),p,T);const A=(yield Promise.all(g.map(function(){var Ye=(0,u.Z)(function*(dt){if(yield dt._isAvailable())return dt});return function(dt){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let P=A[0]||Te(Rt);const q=$n(T,p.config.apiKey,p.name);let ye=null;for(const Ye of g)try{const dt=yield Ye._get(q);if(dt){const Je=Vt._fromJSON(p,dt);Ye!==P&&(ye=Je),P=Ye;break}}catch(dt){}const Le=A.filter(Ye=>Ye._shouldAllowMigration);return P._shouldAllowMigration&&Le.length?(P=Le[0],ye&&(yield P._set(q,ye.toJSON())),yield Promise.all(g.map(function(){var Ye=(0,u.Z)(function*(dt){if(dt!==P)try{yield dt._remove(q)}catch(Je){}});return function(dt){return Ye.apply(this,arguments)}}())),new di(P,p,T)):new di(P,p,T)})()}}function qa(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Lc(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Ka(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(jl(p))return"Blackberry";if(Rs(p))return"Webos";if(Hl(p))return"Safari";if((p.includes("chrome/")||ia(p))&&!p.includes("edge/"))return"Chrome";if(Ms(p))return"Android";{const T=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==T?void 0:T.length))return T[1]}return"Other"}function Ka(b=(0,F.z$)()){return/firefox\//i.test(b)}function Hl(b=(0,F.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function ia(b=(0,F.z$)()){return/crios\//i.test(b)}function Lc(b=(0,F.z$)()){return/iemobile/i.test(b)}function Ms(b=(0,F.z$)()){return/android/i.test(b)}function jl(b=(0,F.z$)()){return/blackberry/i.test(b)}function Rs(b=(0,F.z$)()){return/webos/i.test(b)}function dn(b=(0,F.z$)()){return/iphone|ipad|ipod/i.test(b)}function Kr(b=(0,F.z$)()){return dn(b)||Ms(b)||Rs(b)||jl(b)||/windows phone/i.test(b)||Lc(b)}function vt(b,p=[]){let g;switch(b){case"Browser":g=qa((0,F.z$)());break;case"Worker":g=`${qa((0,F.z$)())}-${b}`;break;default:g=b}const T=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${le.SDK_VERSION}/${T}`}class hn{constructor(p,g){this.app=p,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Os(this),this.idTokenSubscription=new Os(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(p,g){var T=this;return g&&(this._popupRedirectResolver=Te(g)),this._initializationPromise=this.queue((0,u.Z)(function*(){var A,P;T._deleted||(T.persistenceManager=yield di.create(T,p),!T._deleted&&((null===(A=T._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)&&(yield T._popupRedirectResolver._initialize(T)),yield T.initializeCurrentUser(g),T.lastNotifiedUid=(null===(P=T.currentUser)||void 0===P?void 0:P.uid)||null,!T._deleted&&(T._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,u.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g)}})()}initializeCurrentUser(p){var g=this;return(0,u.Z)(function*(){var T;let A=yield g.assertedPersistence.getCurrentUser();if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const P=null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId,q=null==A?void 0:A._redirectEventId,ye=yield g.tryRedirectSignIn(p);(!P||P===q)&&(null==ye?void 0:ye.user)&&(A=ye.user)}return A?A._redirectEventId?(Ie(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===A._redirectEventId?g.directlySetCurrentUser(A):g.reloadAndSetCurrentUserOrClear(A)):g.reloadAndSetCurrentUserOrClear(A):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var g=this;return(0,u.Z)(function*(){let T=null;try{T=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch(A){yield g._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,u.Z)(function*(){try{yield ra(p)}catch(T){if("auth/network-request-failed"!==T.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,u.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){const T=p?(0,F.m9)(p):null;return T&&Ie(T.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(T&&T._clone(g))})()}_updateCurrentUser(p){var g=this;return(0,u.Z)(function*(){if(!g._deleted)return p&&Ie(g.tenantId===p.tenantId,g,"tenant-id-mismatch"),g.queue((0,u.Z)(function*(){yield g.directlySetCurrentUser(p),g.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,u.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var g=this;return this.queue((0,u.Z)(function*(){yield g.assertedPersistence.setPersistence(Te(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new F.LL("auth","Firebase",p())}onAuthStateChanged(p,g,T){return this.registerStateListener(this.authStateSubscription,p,g,T)}onIdTokenChanged(p,g,T){return this.registerStateListener(this.idTokenSubscription,p,g,T)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var T=this;return(0,u.Z)(function*(){const A=yield T.getOrInitRedirectPersistenceManager(g);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,u.Z)(function*(){if(!g.redirectPersistenceManager){const T=p&&Te(p)||g._popupRedirectResolver;Ie(T,g,"argument-error"),g.redirectPersistenceManager=yield di.create(g,[Te(T._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,u.Z)(function*(){var T,A;return g._isInitialized&&(yield g.queue((0,u.Z)(function*(){}))),(null===(T=g._currentUser)||void 0===T?void 0:T._redirectEventId)===p?g._currentUser:(null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,u.Z)(function*(){if(p===g.currentUser)return g.queue((0,u.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,T,A){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(q,this,"internal-error"),q.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,T,A):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,u.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=vt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Gt(b){return(0,F.m9)(b)}class Os{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,F.ne)(g=>this.observer=g)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ps(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function mo(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class ut{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return te("not implemented")}_getIdTokenResponse(p){return te("not implemented")}_linkToIdToken(p,g){return te("not implemented")}_getReauthenticationResolver(p){return te("not implemented")}}function sa(b,p){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:resetPassword",_n(b,p))})).apply(this,arguments)}function Vc(b,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Nr(b,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:update",_n(b,p))})).apply(this,arguments)}function Dn(){return(Dn=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPassword",_n(b,p))})).apply(this,arguments)}function zt(b,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:sendOobCode",_n(b,p))})).apply(this,arguments)}function Yr(b,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,u.Z)(function*(b,p){return zt(b,p)})).apply(this,arguments)}function $l(b,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(b,p){return zt(b,p)})).apply(this,arguments)}function Ya(b,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,u.Z)(function*(b,p){return zt(b,p)})).apply(this,arguments)}function br(b,p){return qh.apply(this,arguments)}function qh(){return(qh=(0,u.Z)(function*(b,p){return zt(b,p)})).apply(this,arguments)}function hi(){return(hi=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",_n(b,p))})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",_n(b,p))})).apply(this,arguments)}class _o extends ut{constructor(p,g,T,A=null){super("password",T),this._email=p,this._password=g,this._tenantId=A}static _fromEmailAndPassword(p,g){return new _o(p,g,"password")}static _fromEmailAndCode(p,g,T=null){return new _o(p,g,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,u.Z)(function*(){switch(g.signInMethod){case"password":return function(b,p){return Dn.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(b,p){return hi.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:oe(p,"internal-error")}})()}_linkToIdToken(p,g){var T=this;return(0,u.Z)(function*(){switch(T.signInMethod){case"password":return Vc(p,{idToken:g,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function(b,p){return zi.apply(this,arguments)}(p,{idToken:g,email:T._email,oobCode:T._password});default:oe(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function qt(b,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithIdp",_n(b,p))})).apply(this,arguments)}class qi extends ut{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new qi(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):oe("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:A}=g,P=(0,K._T)(g,["providerId","signInMethod"]);if(!T||!A)return null;const q=new qi(T,A);return q.idToken=P.idToken||void 0,q.accessToken=P.accessToken||void 0,q.secret=P.secret,q.nonce=P.nonce,q.pendingToken=P.pendingToken||null,q}_getIdTokenResponse(p){return qt(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,qt(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qt(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,F.xO)(g)}return p}}function Kh(b,p){return od.apply(this,arguments)}function od(){return(od=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:sendVerificationCode",_n(b,p))})).apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_n(b,p))})).apply(this,arguments)}function ad(){return(ad=(0,u.Z)(function*(b,p){const g=yield Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_n(b,p));if(g.temporaryProof)throw Ri(b,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Cg={USER_NOT_FOUND:"user-not-found"};function ld(){return(ld=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",_n(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Cg)})).apply(this,arguments)}class ca extends ut{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new ca({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new ca({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function(b,p){return Qa.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function(b,p){return ad.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function(b,p){return ld.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:T,verificationCode:A}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:T,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:T,phoneNumber:A,temporaryProof:P}=p;return T||g||A||P?new ca({verificationId:g,verificationCode:T,phoneNumber:A,temporaryProof:P}):null}}class ua{constructor(p){var g,T,A,P,q,ye;const Le=(0,F.zd)((0,F.pd)(p)),Ye=null!==(g=Le.apiKey)&&void 0!==g?g:null,dt=null!==(T=Le.oobCode)&&void 0!==T?T:null,Je=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=Le.mode)&&void 0!==A?A:null);Ie(Ye&&dt&&Je,"argument-error"),this.apiKey=Ye,this.operation=Je,this.code=dt,this.continueUrl=null!==(P=Le.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(q=Le.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(ye=Le.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const g=function(b){const p=(0,F.zd)((0,F.pd)(b)).link,g=p?(0,F.zd)((0,F.pd)(p)).deep_link_id:null,T=(0,F.zd)((0,F.pd)(b)).deep_link_id;return(T?(0,F.zd)((0,F.pd)(T)).link:null)||T||g||p||b}(p);try{return new ua(g)}catch(T){return null}}}let Ja=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(g,T){return _o._fromEmailAndPassword(g,T)}static credentialWithLink(g,T){const A=ua.parseLink(T);return Ie(A,"argument-error"),_o._fromEmailAndCode(g,A.code,A.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ki{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Vs extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class da extends Vs{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return Ie("providerId"in g&&"signInMethod"in g,"argument-error"),qi._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Ie(p.idToken||p.accessToken,"argument-error"),qi._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return da.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return da.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:T,oauthTokenSecret:A,pendingToken:P,nonce:q,providerId:ye}=p;if(!T&&!A&&!g&&!P||!ye)return null;try{return new da(ye)._credential({idToken:g,accessToken:T,nonce:q,pendingToken:P})}catch(Le){return null}}}let Hc=(()=>{class b extends Vs{constructor(){super("facebook.com")}static credential(g){return qi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch(T){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Wl=(()=>{class b extends Vs{constructor(){super("google.com"),this.addScope("profile")}static credential(g,T){return qi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:T,oauthAccessToken:A}=g;if(!T&&!A)return null;try{return b.credential(T,A)}catch(P){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Bs=(()=>{class b extends Vs{constructor(){super("github.com")}static credential(g){return qi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return b.credential(g.oauthAccessToken)}catch(T){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Fn extends ut{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return qt(p,this.buildRequest())}_linkToIdToken(p,g){const T=this.buildRequest();return T.idToken=g,qt(p,T)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,qt(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:T,signInMethod:A,pendingToken:P}=g;return T&&A&&P&&T===A?new Fn(T,P):null}static _create(p,g){return new Fn(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cs extends Ki{constructor(p){Ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return cs.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return cs.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Fn.fromJSON(p);return Ie(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:T}=p;if(!g||!T)return null;try{return Fn._create(T,g)}catch(A){return null}}}let Yi=(()=>{class b extends Vs{constructor(){super("twitter.com")}static credential(g,T){return qi._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:T})}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:T,oauthTokenSecret:A}=g;if(!T||!A)return null;try{return b.credential(T,A)}catch(P){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function jc(b,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signUp",_n(b,p))})).apply(this,arguments)}class Qr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,T,A=!1){return(0,u.Z)(function*(){const P=yield Vt._fromIdTokenResponse(p,T,A),q=Zl(T);return new Qr({user:P,providerId:q,_tokenResponse:T,operationType:g})})()}static _forOperation(p,g,T){return(0,u.Z)(function*(){yield p._updateTokensIfNecessary(T,!0);const A=Zl(T);return new Qr({user:p,providerId:A,_tokenResponse:T,operationType:g})})()}}function Zl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function vr(){return(vr=(0,u.Z)(function*(b){var p;const g=Gt(b);if(yield g._initializationPromise,null===(p=g.currentUser)||void 0===p?void 0:p.isAnonymous)return new Qr({user:g.currentUser,providerId:null,operationType:"signIn"});const T=yield jc(g,{returnSecureToken:!0}),A=yield Qr._fromIdTokenResponse(g,"signIn",T,!0);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Xa extends F.ZR{constructor(p,g,T,A){var P;super(g.code,g.message),this.operationType=T,this.user=A,Object.setPrototypeOf(this,Xa.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(p,g,T,A){return new Xa(p,g,T,A)}}function $c(b,p,g,T){return("reauthenticate"===p?g._getReauthenticationResolver(b):g._getIdTokenResponse(b)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Xa._fromErrorAndOperation(b,P,p,T):P})}function el(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function ha(){return(ha=(0,u.Z)(function*(b,p){const g=(0,F.m9)(b);yield us(!0,g,p);const{providerUserInfo:T}=yield jn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),A=el(T||[]);return g.providerData=g.providerData.filter(P=>A.has(P.providerId)),A.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function zl(b,p){return fn.apply(this,arguments)}function fn(){return(fn=(0,u.Z)(function*(b,p,g=!1){const T=yield Zi(b,p._linkToIdToken(b.auth,yield b.getIdToken()),g);return Qr._forOperation(b,"link",T)})).apply(this,arguments)}function us(b,p,g){return ds.apply(this,arguments)}function ds(){return(ds=(0,u.Z)(function*(b,p,g){yield ra(p);const A=!1===b?"provider-already-linked":"no-such-provider";Ie(el(p.providerData).has(g)===b,p.auth,A)})).apply(this,arguments)}function En(b,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,u.Z)(function*(b,p,g=!1){const{auth:T}=b,A="reauthenticate";try{const P=yield Zi(b,$c(T,A,p,b),g);Ie(P.idToken,T,"internal-error");const q=Ue(P.idToken);Ie(q,T,"internal-error");const{sub:ye}=q;return Ie(b.uid===ye,T,"user-mismatch"),Qr._forOperation(b,A,P)}catch(P){throw"auth/user-not-found"===(null==P?void 0:P.code)&&oe(T,"user-mismatch"),P}})).apply(this,arguments)}function Wc(b,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(b,p,g=!1){const T="signIn",A=yield $c(b,T,p),P=yield Qr._fromIdTokenResponse(b,T,A);return g||(yield b._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Tr(b,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,u.Z)(function*(b,p){return Wc(Gt(b),p)})).apply(this,arguments)}function pa(b,p){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,u.Z)(function*(b,p){const g=(0,F.m9)(b);return yield us(!1,g,p.providerId),zl(g,p)})).apply(this,arguments)}function Rr(b,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,u.Z)(function*(b,p){return En((0,F.m9)(b),p)})).apply(this,arguments)}function Zc(b,p){return ql.apply(this,arguments)}function ql(){return(ql=(0,u.Z)(function*(b,p){return Nn(b,"POST","/v1/accounts:signInWithCustomToken",_n(b,p))})).apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(b,p){const g=Gt(b),T=yield Zc(g,{token:p,returnSecureToken:!0}),A=yield Qr._fromIdTokenResponse(g,"signIn",T);return yield g._updateCurrentUser(A.user),A})).apply(this,arguments)}class Us{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ft._fromServerResponse(p,g):oe(p,"internal-error")}}class ft extends Us{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ft(g)}}function Kl(b,p,g){var T;Ie((null===(T=g.url)||void 0===T?void 0:T.length)>0,b,"invalid-continue-uri"),Ie(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Ie(g.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(Ie(g.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function tl(){return(tl=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b),A={requestType:"PASSWORD_RESET",email:p};g&&Kl(T,A,g),yield $l(T,A)})).apply(this,arguments)}function nl(){return(nl=(0,u.Z)(function*(b,p,g){yield sa((0,F.m9)(b),{oobCode:p,newPassword:g})})).apply(this,arguments)}function fs(){return(fs=(0,u.Z)(function*(b,p){yield Nr((0,F.m9)(b),{oobCode:p})})).apply(this,arguments)}function Ne(b,p){return It.apply(this,arguments)}function It(){return(It=(0,u.Z)(function*(b,p){const g=(0,F.m9)(b),T=yield sa(g,{oobCode:p}),A=T.requestType;switch(Ie(A,g,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(T.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(T.mfaInfo,g,"internal-error");default:Ie(T.email,g,"internal-error")}let P=null;return T.mfaInfo&&(P=Us._fromServerResponse(Gt(g),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:P},operation:A}})).apply(this,arguments)}function rn(){return(rn=(0,u.Z)(function*(b,p){const{data:g}=yield Ne((0,F.m9)(b),p);return g.email})).apply(this,arguments)}function Ji(){return(Ji=(0,u.Z)(function*(b,p,g){const T=Gt(b),A=yield jc(T,{returnSecureToken:!0,email:p,password:g}),P=yield Qr._fromIdTokenResponse(T,"signIn",A);return yield T._updateCurrentUser(P.user),P})).apply(this,arguments)}function _a(){return(_a=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b),A={requestType:"EMAIL_SIGNIN",email:p};Ie(g.handleCodeInApp,T,"argument-error"),g&&Kl(T,A,g),yield Ya(T,A)})).apply(this,arguments)}function ya(){return(ya=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b),A=Ja.credentialWithLink(p,g||mt());return Ie(A._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Tr(T,A)})).apply(this,arguments)}function ba(b,p){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:createAuthUri",_n(b,p))})).apply(this,arguments)}function rl(){return(rl=(0,u.Z)(function*(b,p){const T={identifier:p,continueUri:$t()?mt():"http://localhost"},{signinMethods:A}=yield ba((0,F.m9)(b),T);return A||[]})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(b,p){const g=(0,F.m9)(b),A={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Kl(g.auth,A,p);const{email:P}=yield Yr(g.auth,A);P!==b.email&&(yield b.reload())})).apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};g&&Kl(T.auth,P,g);const{email:q}=yield br(T.auth,P);q!==b.email&&(yield b.reload())})).apply(this,arguments)}function hd(b,p){return il.apply(this,arguments)}function il(){return(il=(0,u.Z)(function*(b,p){return Lt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function vo(){return(vo=(0,u.Z)(function*(b,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const T=(0,F.m9)(b),P={idToken:yield T.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},q=yield Zi(T,hd(T.auth,P));T.displayName=q.displayName||null,T.photoURL=q.photoUrl||null;const ye=T.providerData.find(({providerId:Le})=>"password"===Le);ye&&(ye.displayName=T.displayName,ye.photoURL=T.photoURL),yield T._updateTokensIfNecessary(q)})).apply(this,arguments)}function Xl(b,p,g){return sl.apply(this,arguments)}function sl(){return(sl=(0,u.Z)(function*(b,p,g){const{auth:T}=b,P={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const q=yield Zi(b,Vc(T,P));yield b._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class va{constructor(p,g,T={}){this.isNewUser=p,this.providerId=g,this.profile=T}}class Yc extends va{constructor(p,g,T,A){super(p,g,T),this.username=A}}class ef extends va{constructor(p,g){super(p,"facebook.com",g)}}class ec extends Yc{constructor(p,g){super(p,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ta extends va{constructor(p,g){super(p,"google.com",g)}}class tf extends Yc{constructor(p,g,T){super(p,"twitter.com",g,T)}}function tc(b){const{user:p,_tokenResponse:g}=b;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(b){var p,g;if(!b)return null;const{providerId:T}=b,A=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},P=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!T&&(null==b?void 0:b.idToken)){const q=null===(g=null===(p=Ue(b.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new va(P,"anonymous"!==q&&"custom"!==q?q:null)}if(!T)return null;switch(T){case"facebook.com":return new ef(P,A);case"github.com":return new ec(P,A);case"google.com":return new Ta(P,A);case"twitter.com":return new tf(P,A,b.screenName||null);case"custom":case"anonymous":return new va(P,null);default:return new va(P,T,A)}}(g)}class To{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new To("enroll",p)}static _fromMfaPendingCredential(p){return new To("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,T;if(null==p?void 0:p.multiFactorSession){if(null===(g=p.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return To._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(T=p.multiFactorSession)||void 0===T?void 0:T.idToken)return To._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ea{constructor(p,g,T){this.session=p,this.hints=g,this.signInResolver=T}static _fromError(p,g){const T=Gt(p),A=g.customData._serverResponse,P=(A.mfaInfo||[]).map(ye=>Us._fromServerResponse(T,ye));Ie(A.mfaPendingCredential,T,"internal-error");const q=To._fromMfaPendingCredential(A.mfaPendingCredential);return new Ea(q,P,function(){var ye=(0,u.Z)(function*(Le){const Ye=yield Le._process(T,q);delete A.mfaInfo,delete A.mfaPendingCredential;const dt=Object.assign(Object.assign({},A),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(g.operationType){case"signIn":const Je=yield Qr._fromIdTokenResponse(T,g.operationType,dt);return yield T._updateCurrentUser(Je.user),Je;case"reauthenticate":return Ie(g.user,T,"internal-error"),Qr._forOperation(g.user,g.operationType,dt);default:oe(T,"internal-error")}});return function(Le){return ye.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,u.Z)(function*(){return g.signInResolver(p)})()}}function rc(b,p){return Lt(b,"POST","/v2/accounts/mfaEnrollment:start",_n(b,p))}class tu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(T=>Us._fromServerResponse(p.auth,T)))})}static _fromUser(p){return new tu(p)}getSession(){var p=this;return(0,u.Z)(function*(){return To._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var T=this;return(0,u.Z)(function*(){const A=p,P=yield T.getSession(),q=yield Zi(T.user,A._process(T.user.auth,P,g));return yield T.user._updateTokensIfNecessary(q),T.user.reload()})()}unenroll(p){var g=this;return(0,u.Z)(function*(){const T="string"==typeof p?p:p.uid,A=yield g.user.getIdToken(),P=yield Zi(g.user,function(b,p){return Lt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",_n(b,p))}(g.user.auth,{idToken:A,mfaEnrollmentId:T}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==T),yield g.user._updateTokensIfNecessary(P);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Xi=new WeakMap,Ca="__sak";class rf{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ca,"1"),this.storage.removeItem(Ca),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ru=(()=>{class b extends rf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,T)=>this.onStorageEvent(g,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,F.z$)();return Hl(b)||dn(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=Kr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const T of Object.keys(this.listeners)){const A=this.storage.getItem(T),P=this.localCache[T];A!==P&&g(T,P,A)}}onStorageEvent(g,T=!1){if(!g.key)return void this.forAllChangedKeys((ye,Le,Ye)=>{this.notifyListeners(ye,Ye)});const A=g.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(A);if(g.newValue!==ye)null!==g.newValue?this.storage.setItem(A,g.newValue):this.storage.removeItem(A);else if(this.localCache[A]===g.newValue&&!T)return}const P=()=>{const ye=this.storage.getItem(A);!T&&this.localCache[A]===ye||this.notifyListeners(A,ye)},q=this.storage.getItem(A);(0,F.w1)()&&10===document.documentMode&&q!==g.newValue&&g.newValue!==g.oldValue?setTimeout(P,10):P()}notifyListeners(g,T){this.localCache[g]=T;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,T,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:T,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,T){var A=()=>super._set,P=this;return(0,u.Z)(function*(){yield A().call(P,g,T),P.localCache[g]=JSON.stringify(T)})()}_get(g){var T=()=>super._get,A=this;return(0,u.Z)(function*(){const P=yield T().call(A,g);return A.localCache[g]=JSON.stringify(P),P})()}_remove(g){var T=()=>super._remove,A=this;return(0,u.Z)(function*(){yield T().call(A,g),delete A.localCache[g]})()}}return b.type="LOCAL",b})(),pi=(()=>{class b extends rf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,T){}_removeListener(g,T){}}return b.type="SESSION",b})();let fd=(()=>{class b{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const T=this.receivers.find(P=>P.isListeningto(g));if(T)return T;const A=new b(g);return this.receivers.push(A),A}isListeningto(g){return this.eventTarget===g}handleEvent(g){var T=this;return(0,u.Z)(function*(){const A=g,{eventId:P,eventType:q,data:ye}=A.data,Le=T.handlersMap[q];if(!(null==Le?void 0:Le.size))return;A.ports[0].postMessage({status:"ack",eventId:P,eventType:q});const Ye=Array.from(Le).map(function(){var Je=(0,u.Z)(function*(cn){return cn(A.origin,ye)});return function(cn){return Je.apply(this,arguments)}}()),dt=yield function(b){return Promise.all(b.map(function(){var p=(0,u.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(T){return{fulfilled:!1,reason:T}}});return function(g){return p.apply(this,arguments)}}()))}(Ye);A.ports[0].postMessage({status:"done",eventId:P,eventType:q,response:dt})})()}_subscribe(g,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(T)}_unsubscribe(g,T){this.handlersMap[g]&&T&&this.handlersMap[g].delete(T),(!T||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function js(b="",p=10){let g="";for(let T=0;T<p;T++)g+=Math.floor(10*Math.random());return b+g}class pd{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,T=50){var A=this;return(0,u.Z)(function*(){const P="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let q,ye;return new Promise((Le,Ye)=>{const dt=js("",20);P.port1.start();const Je=setTimeout(()=>{Ye(new Error("unsupported_event"))},T);ye={messageChannel:P,onMessage(cn){const yi=cn;if(yi.data.eventId===dt)switch(yi.data.status){case"ack":clearTimeout(Je),q=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Le(yi.data.response);break;default:clearTimeout(Je),clearTimeout(q),Ye(new Error("invalid_response"))}}},A.handlers.add(ye),P.port1.addEventListener("message",ye.onMessage),A.target.postMessage({eventType:p,eventId:dt,data:g},[P.port2])}).finally(()=>{ye&&A.removeMessageHandler(ye)})})()}}function zn(){return window}function gd(){return void 0!==zn().WorkerGlobalScope&&"function"==typeof zn().importScripts}function al(){return(al=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const sn="firebaseLocalStorageDb",Kt="firebaseLocalStorage",ll="fbase_key";class Ut{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function ki(b,p){return b.transaction([Kt],p?"readwrite":"readonly").objectStore(Kt)}function Jt(){const b=indexedDB.open(sn,1);return new Promise((p,g)=>{b.addEventListener("error",()=>{g(b.error)}),b.addEventListener("upgradeneeded",()=>{const T=b.result;try{T.createObjectStore(Kt,{keyPath:ll})}catch(A){g(A)}}),b.addEventListener("success",(0,u.Z)(function*(){const T=b.result;T.objectStoreNames.contains(Kt)?p(T):(T.close(),yield function(){const b=indexedDB.deleteDatabase(sn);return new Ut(b).toPromise()}(),p(yield Jt()))}))})}function Zs(b,p,g){return sc.apply(this,arguments)}function sc(){return(sc=(0,u.Z)(function*(b,p,g){const T=ki(b,!0).put({[ll]:p,value:g});return new Ut(T).toPromise()})).apply(this,arguments)}function Bn(){return(Bn=(0,u.Z)(function*(b,p){const g=ki(b,!1).get(p),T=yield new Ut(g).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Sa(b,p){const g=ki(b,!0).delete(p);return new Ut(g).toPromise()}const qs=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,u.Z)(function*(){return g.db||(g.db=yield Jt()),g.db})()}_withRetries(g){var T=this;return(0,u.Z)(function*(){let A=0;for(;;)try{const P=yield T._openDb();return yield g(P)}catch(P){if(A++>3)throw P;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,u.Z)(function*(){return gd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,u.Z)(function*(){g.receiver=fd._getInstance(gd()?self:null),g.receiver._subscribe("keyChanged",function(){var T=(0,u.Z)(function*(A,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(A,P){return T.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var T=(0,u.Z)(function*(A,P){return["keyChanged"]});return function(A,P){return T.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,u.Z)(function*(){var T,A;if(g.activeServiceWorker=yield function(){return al.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new pd(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);!P||(null===(T=P[0])||void 0===T?void 0:T.fulfilled)&&(null===(A=P[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var T=this;return(0,u.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:g},T.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Jt();return yield Zs(g,Ca,"1"),yield Sa(g,Ca),!0}catch(g){}return!1})()}_withPendingWrite(g){var T=this;return(0,u.Z)(function*(){T.pendingWrites++;try{yield g()}finally{T.pendingWrites--}})()}_set(g,T){var A=this;return(0,u.Z)(function*(){return A._withPendingWrite((0,u.Z)(function*(){return yield A._withRetries(P=>Zs(P,g,T)),A.localCache[g]=T,A.notifyServiceWorker(g)}))})()}_get(g){var T=this;return(0,u.Z)(function*(){const A=yield T._withRetries(P=>function(b,p){return Bn.apply(this,arguments)}(P,g));return T.localCache[g]=A,A})()}_remove(g){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(A=>Sa(A,g)),delete T.localCache[g],T.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,u.Z)(function*(){const T=yield g._withRetries(q=>{const ye=ki(q,!1).getAll();return new Ut(ye).toPromise()});if(!T)return[];if(0!==g.pendingWrites)return[];const A=[],P=new Set;for(const{fbase_key:q,value:ye}of T)P.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(ye)&&(g.notifyListeners(q,ye),A.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!P.has(q)&&(g.notifyListeners(q,null),A.push(q));return A})()}notifyListeners(g,T){this.localCache[g]=T;const A=this.listeners[g];if(A)for(const P of Array.from(A))P(T)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(T)}_removeListener(g,T){this.listeners[g]&&(this.listeners[g].delete(T),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ul(b,p){return Lt(b,"POST","/v2/accounts/mfaSignIn:start",_n(b,p))}function Co(){return(Co=(0,u.Z)(function*(b){return(yield Lt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Do(b){return new Promise((p,g)=>{const T=document.createElement("script");T.setAttribute("src",b),T.onload=p,T.onerror=A=>{const P=Ge("internal-error");P.customData=A,g(P)},T.type="text/javascript",T.charset="UTF-8",function(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(T)})}function Pr(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ze=1e12;class qn{constructor(p){this.auth=p,this.counter=ze,this._widgets=new Map}render(p,g){const T=this.counter;return this._widgets.set(T,new on(p,this.auth.name,g||{})),this.counter++,T}reset(p){var g;const T=p||ze;null===(g=this._widgets.get(T))||void 0===g||g.delete(),this._widgets.delete(T)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ze))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,u.Z)(function*(){var T;return null===(T=g._widgets.get(p||ze))||void 0===T||T.execute(),""})()}}class on{constructor(p,g,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;Ie(A,"argument-error",{appName:g}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<50;T++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}();const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch(T){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(T){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ps=Pr("rcb"),lf=new Hn(3e4,6e4);class or{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zn().grecaptcha}load(p,g=""){return Ie((b=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(zn().grecaptcha):new Promise((T,A)=>{const P=zn().setTimeout(()=>{A(Ge(p,"network-request-failed"))},lf.get());zn()[ps]=()=>{zn().clearTimeout(P),delete zn()[ps];const ye=zn().grecaptcha;if(!ye)return void A(Ge(p,"internal-error"));const Le=ye.render;ye.render=(Ye,dt)=>{const Je=Le(Ye,dt);return this.counter++,Je},this.hostLanguage=g,T(ye)},Do(`https://www.google.com/recaptcha/api.js??${(0,F.xO)({onload:ps,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),A(Ge(p,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!zn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pg{load(p){return(0,u.Z)(function*(){return new qn(p)})()}clearedOneInstance(){}}const Yt="recaptcha",Na={theme:"light",type:"image"};class cf{constructor(p,g=Object.assign({},Na),T){this.parameters=g,this.type=Yt,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gt(T),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;Ie(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pg:new or,this.validateStartingState()}verify(){var p=this;return(0,u.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),T=p.getAssertedRecaptcha();return T.getResponse(g)||new Promise(P=>{const q=ye=>{!ye||(p.tokenChangeListeners.delete(q),P(ye))};p.tokenChangeListeners.add(q),p.isInvisible&&T.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(T=>T(g)),"function"==typeof p)p(g);else if("string"==typeof p){const T=zn()[p];"function"==typeof T&&T(g)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,u.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const T=document.createElement("div");g.appendChild(T),g=T}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,u.Z)(function*(){Ie($t()&&!gd(),p.auth,"internal-error"),yield function(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function(b){return Co.apply(this,arguments)}(p.auth);Ie(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class In{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=ca._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function md(){return(md=(0,u.Z)(function*(b,p,g){const T=Gt(b),A=yield gi(T,p,(0,F.m9)(g));return new In(A,P=>Tr(T,P))})).apply(this,arguments)}function So(){return(So=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b);yield us(!1,T,"phone");const A=yield gi(T.auth,p,(0,F.m9)(g));return new In(A,P=>pa(T,P))})).apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b),A=yield gi(T.auth,p,(0,F.m9)(g));return new In(A,P=>Rr(T,P))})).apply(this,arguments)}function gi(b,p,g){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(b,p,g){var T;const A=yield g.verify();try{let P;if(Ie("string"==typeof A,b,"argument-error"),Ie(g.type===Yt,b,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const q=P.session;if("phoneNumber"in P)return Ie("enroll"===q.type,b,"internal-error"),(yield rc(b,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{Ie("signin"===q.type,b,"internal-error");const ye=(null===(T=P.multiFactorHint)||void 0===T?void 0:T.uid)||P.multiFactorUid;return Ie(ye,b,"missing-multi-factor-info"),(yield ul(b,{mfaPendingCredential:q.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Kh(b,{phoneNumber:P.phoneNumber,recaptchaToken:A});return q}}finally{g._reset()}})).apply(this,arguments)}function ac(){return(ac=(0,u.Z)(function*(b,p){yield zl((0,F.m9)(b),p)})).apply(this,arguments)}let Kn=(()=>{class b{constructor(g){this.providerId=b.PROVIDER_ID,this.auth=Gt(g)}verifyPhoneNumber(g,T){return gi(this.auth,g,(0,F.m9)(T))}static credential(g,T){return ca._fromVerification(g,T)}static credentialFromResult(g){return b.credentialFromTaggedObject(g)}static credentialFromError(g){return b.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:T,temporaryProof:A}=g;return T&&A?ca._fromTokenResponse(T,A):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function nr(b,p){return p?Te(p):(Ie(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class dl extends ut{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return qt(p,this._buildIdpRequest())}_linkToIdToken(p,g){return qt(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return qt(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Ma(b){return Wc(b.auth,new dl(b),b.bypassAuthState)}function Qs(b){const{auth:p,user:g}=b;return Ie(g,p,"internal-error"),En(g,new dl(b),b.bypassAuthState)}function yd(b){return su.apply(this,arguments)}function su(){return(su=(0,u.Z)(function*(b){const{auth:p,user:g}=b;return Ie(g,p,"internal-error"),zl(g,new dl(b),b.bypassAuthState)})).apply(this,arguments)}class Js{constructor(p,g,T,A,P=!1){this.auth=p,this.resolver=T,this.user=A,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,u.Z)(function*(T,A){p.pendingPromise={resolve:T,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(T,A){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,u.Z)(function*(){const{urlResponse:T,sessionId:A,postBody:P,tenantId:q,error:ye,type:Le}=p;if(ye)return void g.reject(ye);const Ye={auth:g.auth,requestUri:T,sessionId:A,tenantId:q||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Le)(Ye))}catch(dt){g.reject(dt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ma;case"linkViaPopup":case"linkViaRedirect":return yd;case"reauthViaPopup":case"reauthViaRedirect":return Qs;default:oe(this.auth,"internal-error")}}resolve(p){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ge(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const uf=new Hn(2e3,1e4);function Yn(){return(Yn=(0,u.Z)(function*(b,p,g){const T=Gt(b);mn(b,p,Ki);const A=nr(T,g);return new ou(T,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function Oa(){return(Oa=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b);mn(T.auth,p,Ki);const A=nr(T.auth,g);return new ou(T.auth,"reauthViaPopup",p,A,T).executeNotNull()})).apply(this,arguments)}function bd(){return(bd=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b);mn(T.auth,p,Ki);const A=nr(T.auth,g);return new ou(T.auth,"linkViaPopup",p,A,T).executeNotNull()})).apply(this,arguments)}let ou=(()=>{class b extends Js{constructor(g,T,A,P,q){super(g,T,P,q),this.provider=A,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var g=this;return(0,u.Z)(function*(){const T=yield g.execute();return Ie(T,g.auth,"internal-error"),T})()}onExecution(){var g=this;return(0,u.Z)(function*(){ge(1===g.filter.length,"Popup operations only handle one event");const T=js();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],T),g.authWindow.associatedEvent=T,g.resolver._originValidation(g.auth).catch(A=>{g.reject(A)}),g.resolver._isIframeWebStorageSupported(g.auth,A=>{A||g.reject(Ge(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const g=()=>{var T,A;this.pollId=(null===(A=null===(T=this.authWindow)||void 0===T?void 0:T.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,uf.get())};g()}}return b.currentPopupAction=null,b})();const Pa=new Map;class hl extends Js{constructor(p,g,T=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,T),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,u.Z)(function*(){let T=Pa.get(g.auth._key());if(!T){try{const P=(yield function(b,p){return E.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;T=()=>Promise.resolve(P)}catch(A){T=()=>Promise.reject(A)}Pa.set(g.auth._key(),T)}return g.bypassAuthState||Pa.set(g.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,T=this;return(0,u.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(T,p);if("unknown"!==p.type){if(p.eventId){const A=yield T.auth._redirectUserForId(p.eventId);if(A)return T.user=A,g().call(T,p);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function E(){return(E=(0,u.Z)(function*(b,p){const g=de(p),T=J(b);if(!(yield T._isAvailable()))return!1;const A="true"===(yield T._get(g));return yield T._remove(g),A})).apply(this,arguments)}function I(b,p){return M.apply(this,arguments)}function M(){return(M=(0,u.Z)(function*(b,p){return J(b)._set(de(p),"true")})).apply(this,arguments)}function J(b){return Te(b._redirectPersistence)}function de(b){return $n("pendingRedirect",b.config.apiKey,b.name)}function We(){return(We=(0,u.Z)(function*(b,p,g){const T=Gt(b);mn(b,p,Ki);const A=nr(T,g);return yield I(A,T),A._openRedirect(T,p,"signInViaRedirect")})).apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b);mn(T.auth,p,Ki);const A=nr(T.auth,g);yield I(A,T.auth);const P=yield gs(T);return A._openRedirect(T.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Fi(){return(Fi=(0,u.Z)(function*(b,p,g){const T=(0,F.m9)(b);mn(T.auth,p,Ki);const A=nr(T.auth,g);yield us(!1,T,p.providerId),yield I(A,T.auth);const P=yield gs(T);return A._openRedirect(T.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function pn(){return(pn=(0,u.Z)(function*(b,p){return yield Gt(b)._initializationPromise,ei(b,p,!1)})).apply(this,arguments)}function ei(b,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,u.Z)(function*(b,p,g=!1){const T=Gt(b),A=nr(T,p),q=yield new hl(T,A,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield T._persistUserIfCurrent(q.user),yield T._setRedirectUser(null,p)),q})).apply(this,arguments)}function gs(b){return fl.apply(this,arguments)}function fl(){return(fl=(0,u.Z)(function*(b){const p=js(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class vd{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(p,T)&&(g=!0,this.sendToConsumer(p,T),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xa(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var T;if(p.error&&!xa(p)){const A=(null===(T=p.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";g.onError(Ge(this.auth,A))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const T=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&T}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Td(p))}saveEventToCache(p){this.cachedEventUids.add(Td(p)),this.lastProcessedEventTime=Date.now()}}function Td(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function xa({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Jn(b){return lr.apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(b,p={}){return Lt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const L0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lg=/^https?/;function pl(){return(pl=(0,u.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield Jn(b);for(const g of p)try{if(Vg(g))return}catch(T){}oe(b,"unauthorized-domain")})).apply(this,arguments)}function Vg(b){const p=mt(),{protocol:g,hostname:T}=new URL(p);if(b.startsWith("chrome-extension://")){const q=new URL(b);return""===q.hostname&&""===T?"chrome-extension:"===g&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===T}if(!Lg.test(g))return!1;if(L0.test(b))return T===b;const A=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(T)}const Bg=new Hn(3e4,6e4);function Ug(){const b=zn().___jsl;if(null==b?void 0:b.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let g=0;g<b.CP.length;g++)b.CP[g]=null}let No=null;function Ed(b){return No=No||function(b){return new Promise((p,g)=>{var T,A,P;function q(){Ug(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ug(),g(Ge(b,"network-request-failed"))},timeout:Bg.get()})}if(null===(A=null===(T=zn().gapi)||void 0===T?void 0:T.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(P=zn().gapi)||void 0===P?void 0:P.load)){const ye=Pr("iframefcb");return zn()[ye]=()=>{gapi.load?q():g(Ge(b,"network-request-failed"))},Do(`https://apis.google.com/js/api.js?onload=${ye}`)}q()}}).catch(p=>{throw No=null,p})}(b),No}const lc=new Hn(5e3,15e3),N1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ml=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function V0(b){const p=b.config;Ie(p.authDomain,b,"auth-domain-config-required");const g=p.emulator?nn(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,T={apiKey:p.apiKey,appName:b.name,v:le.SDK_VERSION},A=ml.get(b.config.apiHost);A&&(T.eid=A);const P=b._getFrameworks();return P.length&&(T.fw=P.join(",")),`${g}?${(0,F.xO)(T).slice(1)}`}function _l(){return _l=(0,u.Z)(function*(b){const p=yield Ed(b),g=zn().gapi;return Ie(g,b,"internal-error"),p.open({where:document.body,url:V0(b),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:N1,dontclear:!0},T=>new Promise(function(){var A=(0,u.Z)(function*(P,q){yield T.restyle({setHideOnLeave:!1});const ye=Ge(b,"network-request-failed"),Le=zn().setTimeout(()=>{q(ye)},lc.get());function Ye(){zn().clearTimeout(Le),P(T)}T.ping(Ye).then(Ye,()=>{q(ye)})});return function(P,q){return A.apply(this,arguments)}}()))}),_l.apply(this,arguments)}const hf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class cu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function Ro(b,p,g,T,A,P){Ie(b.config.authDomain,b,"auth-domain-config-required"),Ie(b.config.apiKey,b,"invalid-api-key");const q={apiKey:b.config.apiKey,appName:b.name,authType:g,redirectUrl:T,v:le.SDK_VERSION,eventId:A};if(p instanceof Ki){p.setDefaultLanguage(b.languageCode),q.providerId=p.providerId||"",(0,F.xb)(p.getCustomParameters())||(q.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,Ye]of Object.entries(P||{}))q[Le]=Ye}if(p instanceof Vs){const Le=p.getScopes().filter(Ye=>""!==Ye);Le.length>0&&(q.scopes=Le.join(","))}b.tenantId&&(q.tid=b.tenantId);const ye=q;for(const Le of Object.keys(ye))void 0===ye[Le]&&delete ye[Le];return`${function({config:b}){return b.emulator?nn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,F.xO)(ye).slice(1)}`}const mf="webStorageSupport";class ms extends class{constructor(p){this.factorId=p}_process(p,g,T){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,T);case"signin":return this._finalizeSignIn(p,g.credential);default:return te("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ms(p)}_finalizeEnroll(p,g,T){return function(b,p){return Lt(b,"POST","/v2/accounts/mfaEnrollment:finalize",_n(b,p))}(p,{idToken:g,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function(b,p){return Lt(b,"POST","/v2/accounts/mfaSignIn:finalize",_n(b,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let cc=(()=>{class b{constructor(){}static assertion(g){return ms._fromCredential(g)}}return b.FACTOR_ID="phone",b})();var b,_f="@firebase/auth";class bf{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,u.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(T=>{var A;p((null===(A=T)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Po(){return window}function Fa(){return Fa=(0,u.Z)(function*(b,p,g){var T;const{BuildInfo:A}=Po();ge(p.sessionId,"AuthEvent did not contain a session ID");const P=yield yl(p.sessionId),q={};return dn()?q.ibi=A.packageName:Ms()?q.apn=A.packageName:oe(b,"operation-not-supported-in-this-environment"),A.displayName&&(q.appDisplayName=A.displayName),q.sessionId=P,Ro(b,g,p.type,void 0,null!==(T=p.eventId)&&void 0!==T?T:void 0,q)}),Fa.apply(this,arguments)}function Zg(){return Zg=(0,u.Z)(function*(b){const{BuildInfo:p}=Po(),g={};dn()?g.iosBundleId=p.packageName:Ms()?g.androidPackageName=p.packageName:oe(b,"operation-not-supported-in-this-environment"),yield Jn(b,g)}),Zg.apply(this,arguments)}function dc(){return dc=(0,u.Z)(function*(b,p,g){const{cordova:T}=Po();let A=()=>{};try{yield new Promise((P,q)=>{let ye=null;function Le(){var Je;P();const cn=null===(Je=T.plugins.browsertab)||void 0===Je?void 0:Je.close;"function"==typeof cn&&cn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Ye(){ye||(ye=window.setTimeout(()=>{q(Ge(b,"redirect-cancelled-by-user"))},2e3))}function dt(){"visible"===(null==document?void 0:document.visibilityState)&&Ye()}p.addPassiveListener(Le),document.addEventListener("resume",Ye,!1),Ms()&&document.addEventListener("visibilitychange",dt,!1),A=()=>{p.removePassiveListener(Le),document.removeEventListener("resume",Ye,!1),document.removeEventListener("visibilitychange",dt,!1),ye&&window.clearTimeout(ye)}})}finally{A()}}),dc.apply(this,arguments)}function yl(b){return hc.apply(this,arguments)}function hc(){return hc=(0,u.Z)(function*(b){const p=zg(b),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(A=>A.toString(16).padStart(2,"0")).join("")}),hc.apply(this,arguments)}function zg(b){if(ge(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),g=new Uint8Array(p);for(let T=0;T<b.length;T++)g[T]=b.charCodeAt(T);return g}b="Browser",(0,le._registerComponent)(new re.wA("auth",(p,{options:g})=>{const T=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:P}=T.options;return(q=>{Ie(A&&!A.includes(":"),"invalid-api-key",{appName:q.name}),Ie(!(null==P?void 0:P.includes(":")),"argument-error",{appName:q.name});const ye={apiKey:A,authDomain:P,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vt(b)},Le=new hn(q,ye);return function(b,p){const g=(null==p?void 0:p.persistence)||[],T=(Array.isArray(g)?g:[g]).map(Te);(null==p?void 0:p.errorMap)&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(T,null==p?void 0:p.popupRedirectResolver)}(Le,g),Le})(T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,T)=>{p.getProvider("auth-internal").initialize()})),(0,le._registerComponent)(new re.wA("auth-internal",p=>{const g=Gt(p.getProvider("auth").getImmediate());return new bf(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,le.registerVersion)(_f,"0.19.3",void 0),(0,le.registerVersion)(_f,"0.19.3","esm2017");class M1 extends vd{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,u.Z)(function*(){yield p.initPromise})()}}function bl(b){return xo.apply(this,arguments)}function xo(){return xo=(0,u.Z)(function*(b){const p=yield Tf()._get(Id(b));return p&&(yield Tf()._remove(Id(b))),p}),xo.apply(this,arguments)}function H0(){const b=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const T=Math.floor(Math.random()*p.length);b.push(p.charAt(T))}return b.join("")}function Tf(){return Te(ru)}function Id(b){return $n("authEvent",b.config.apiKey,b.name)}function Sd(b){if(!(null==b?void 0:b.includes("?")))return{};const[p,...g]=b.split("?");return(0,F.zd)(g.join("?"))}function Cf(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function Ad(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function If(b=(0,F.z$)()){return!("file:"!==Ad()&&"ionic:"!==Ad()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kg(){try{const b=self.localStorage,p=js();if(b)return b.setItem(p,"1"),b.removeItem(p),!function(b=(0,F.z$)()){return(0,F.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,F.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,F.hl)()}catch(b){return Yg()&&(0,F.hl)()}return!1}function Yg(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qg(){return("http:"===Ad()||"https:"===Ad()||(0,F.ru)()||If())&&!((0,F.b$)()||(0,F.UG)())&&Kg()&&!Yg()}function pc(){return If()&&"undefined"!=typeof document}function ko(){return ko=(0,u.Z)(function*(){return!!pc()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})}),ko.apply(this,arguments)}const _i={LOCAL:"local",NONE:"none",SESSION:"session"},to=Ie,rr="persistence";function gc(b){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,u.Z)(function*(b){yield b._initializationPromise;const p=Af(),g=$n(rr,b.config.apiKey,b.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(g,b._getPersistence())}),Nd.apply(this,arguments)}function Af(){return"undefined"!=typeof window?window:null}const Nf=Ie;class ir{constructor(){this.browserResolver=Te(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pi,this._completeRedirectFn=ei}_openPopup(p,g,T,A){var P=this;return(0,u.Z)(function*(){var q;ge(null===(q=P.eventManagers[p._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const ye=Ro(p,g,T,mt(),A);return function(b,p,g,T=500,A=600){const P=Math.max((window.screen.availHeight-A)/2,0).toString(),q=Math.max((window.screen.availWidth-T)/2,0).toString();let ye="";const Le=Object.assign(Object.assign({},hf),{width:T.toString(),height:A.toString(),top:P,left:q}),Ye=(0,F.z$)().toLowerCase();g&&(ye=ia(Ye)?"_blank":g),Ka(Ye)&&(p=p||"http://localhost",Le.scrollbars="yes");const dt=Object.entries(Le).reduce((cn,[yi,Pf])=>`${cn}${yi}=${Pf},`,"");if(function(b=(0,F.z$)()){var p;return dn(b)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(Ye)&&"_self"!==ye)return function(b,p){const g=document.createElement("a");g.href=b,g.target=p;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(T)}(p||"",ye),new cu(null);const Je=window.open(p||"",ye,dt);Ie(Je,b,"popup-blocked");try{Je.focus()}catch(cn){}return new cu(Je)}(p,ye,js())})()}_openRedirect(p,g,T,A){var P=this;return(0,u.Z)(function*(){return yield P._originValidation(p),b=Ro(p,g,T,mt(),A),zn().location.href=b,new Promise(()=>{});var b})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:A,promise:P}=this.eventManagers[g];return A?Promise.resolve(A):(ge(P,"If manager is not set, promise should be"),P)}const T=this.initAndGetManager(p);return this.eventManagers[g]={promise:T},T}initAndGetManager(p){var g=this;return(0,u.Z)(function*(){const T=yield function(b){return _l.apply(this,arguments)}(p),A=new vd(p);return T.register("authEvent",P=>(Ie(null==P?void 0:P.authEvent,p,"invalid-auth-event"),{status:A.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:A},g.iframes[p._key()]=T,A})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(mf,{type:mf},A=>{var P;const q=null===(P=null==A?void 0:A[0])||void 0===P?void 0:P[mf];void 0!==q&&g(!!q),oe(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(b){return pl.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return Kr()||Hl()||dn()}}),this.cordovaResolver=Te(class{constructor(){this._redirectPersistence=pi,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ei}_initialize(p){var g=this;return(0,u.Z)(function*(){const T=p._key();let A=g.eventManagers.get(T);return A||(A=new M1(p),g.eventManagers.set(T,A),g.attachCallbackListeners(p,A)),A})()}_openPopup(p){oe(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,T,A){var P=this;return(0,u.Z)(function*(){!function(b){var p,g,T,A,P,q,ye,Le,Ye,dt;const Je=Po();Ie("function"==typeof(null===(p=null==Je?void 0:Je.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(void 0!==(null===(g=null==Je?void 0:Je.BuildInfo)||void 0===g?void 0:g.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(P=null===(A=null===(T=null==Je?void 0:Je.cordova)||void 0===T?void 0:T.plugins)||void 0===A?void 0:A.browsertab)||void 0===P?void 0:P.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(Le=null===(ye=null===(q=null==Je?void 0:Je.cordova)||void 0===q?void 0:q.plugins)||void 0===ye?void 0:ye.browsertab)||void 0===Le?void 0:Le.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(dt=null===(Ye=null==Je?void 0:Je.cordova)||void 0===Ye?void 0:Ye.InAppBrowser)||void 0===dt?void 0:dt.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const q=yield P._initialize(p);yield q.initialized(),q.resetRedirect(),Pa.clear(),yield P._originValidation(p);const ye=function(b,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:H0(),postBody:null,tenantId:b.tenantId,error:Ge(b,"no-auth-event")}}(p,T,A);yield function(b,p){return Tf()._set(Id(b),p)}(p,ye);const Le=yield function(b,p,g){return Fa.apply(this,arguments)}(p,ye,g),Ye=yield function(b){const{cordova:p}=Po();return new Promise(g=>{p.plugins.browsertab.isAvailable(T=>{let A=null;T?p.plugins.browsertab.openUrl(b):A=p.InAppBrowser.open(b,function(b=(0,F.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),g(A)})})}(Le);return function(b,p,g){return dc.apply(this,arguments)}(p,q,Ye)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(b){return Zg.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:T,handleOpenURL:A,BuildInfo:P}=Po(),q=setTimeout((0,u.Z)(function*(){yield bl(p),g.onEvent(Cf())}),500),ye=function(){var dt=(0,u.Z)(function*(Je){clearTimeout(q);const cn=yield bl(p);let yi=null;cn&&(null==Je?void 0:Je.url)&&(yi=function(b,p){var g,T;const A=function(b){const p=Sd(b),g=p.link?decodeURIComponent(p.link):void 0,T=Sd(g).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Sd(A).link||A||T||g||b}(p);if(A.includes("/__/auth/callback")){const P=Sd(A),q=P.firebaseError?function(b){try{return JSON.parse(b)}catch(p){return null}}(decodeURIComponent(P.firebaseError)):null,ye=null===(T=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===T?void 0:T[1],Le=ye?Ge(ye):null;return Le?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Le,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:A,postBody:null}}return null}(cn,Je.url)),g.onEvent(yi||Cf())});return function(cn){return dt.apply(this,arguments)}}();void 0!==T&&"function"==typeof T.subscribe&&T.subscribe(null,ye);const Le=A,Ye=`${P.packageName.toLowerCase()}://`;Po().handleOpenURL=function(){var dt=(0,u.Z)(function*(Je){if(Je.toLowerCase().startsWith(Ye)&&ye({url:Je}),"function"==typeof Le)try{Le(Je)}catch(cn){console.error(cn)}});return function(Je){return dt.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=pi,this._completeRedirectFn=ei}_initialize(p){var g=this;return(0,u.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,T,A){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,g,T,A)})()}_openRedirect(p,g,T,A){var P=this;return(0,u.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,g,T,A)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return pc()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,u.Z)(function*(){if(p.underlyingResolver)return;const g=yield function(){return ko.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Mf(b){return b.unwrap()}function Md(b){return Jg(b)}function Jg(b){const{_tokenResponse:p}=b instanceof F.ZR?b.customData:b;if(!p)return null;if(!(b instanceof F.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Kn.credentialFromResult(b);const g=p.providerId;if(!g||"password"===g)return null;let T;switch(g){case"google.com":T=Wl;break;case"facebook.com":T=Hc;break;case"github.com":T=Bs;break;case"twitter.com":T=Yi;break;default:const{oauthIdToken:A,oauthAccessToken:P,oauthTokenSecret:q,pendingToken:ye,nonce:Le}=p;return P||q||A||ye?ye?g.startsWith("saml.")?Fn._create(g,ye):qi._fromParams({providerId:g,signInMethod:g,pendingToken:ye,idToken:A,accessToken:P}):new da(g).credential({idToken:A,accessToken:P,rawNonce:Le}):null}return b instanceof F.ZR?T.credentialFromError(b):T.credentialFromResult(b)}function ti(b,p){return p.catch(g=>{throw g instanceof F.ZR&&function(b,p){var g;const T=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new Pd(b,function(b,p){var g;const T=(0,F.m9)(b),A=p;return Ie(p.customData.operationType,T,"argument-error"),Ie(null===(g=A.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,T,"argument-error"),Ea._fromError(T,A)}(b,p));else if(T){const A=Jg(p),P=p;A&&(P.credential=A,P.tenantId=T.tenantId||void 0,P.email=T.email||void 0,P.phoneNumber=T.phoneNumber||void 0)}}(b,g),g}).then(g=>{const A=g.user;return{operationType:g.operationType,credential:Md(g),additionalUserInfo:tc(g),user:Fo.getOrCreate(A)}})}function mu(b,p){return Od.apply(this,arguments)}function Od(){return Od=(0,u.Z)(function*(b,p){const g=yield p;return{verificationId:g.verificationId,confirm:T=>ti(b,g.confirm(T))}}),Od.apply(this,arguments)}class Pd{constructor(p,g){this.resolver=g,this.auth=function(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return ti(Mf(this.auth),this.resolver.resolveSignIn(p))}}class Fo{constructor(p){this._delegate=p,this.multiFactor=function(b){const p=(0,F.m9)(b);return Xi.has(p)||Xi.set(p,tu._fromUser(p)),Xi.get(p)}(p)}static getOrCreate(p){return Fo.USER_MAP.has(p)||Fo.USER_MAP.set(p,new Fo(p)),Fo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,u.Z)(function*(){return ti(g.auth,pa(g._delegate,p))})()}linkWithPhoneNumber(p,g){var T=this;return(0,u.Z)(function*(){return mu(T.auth,function(b,p,g){return So.apply(this,arguments)}(T._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,u.Z)(function*(){return ti(g.auth,function(b,p,g){return bd.apply(this,arguments)}(g._delegate,p,ir))})()}linkWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield gc(Gt(g.auth)),function(b,p,g){return function(b,p,g){return Fi.apply(this,arguments)}(b,p,g)}(g._delegate,p,ir)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,u.Z)(function*(){return ti(g.auth,Rr(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return mu(this.auth,function(b,p,g){return Ot.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return ti(this.auth,function(b,p,g){return Oa.apply(this,arguments)}(this._delegate,p,ir))}reauthenticateWithRedirect(p){var g=this;return(0,u.Z)(function*(){return yield gc(Gt(g.auth)),function(b,p,g){return function(b,p,g){return ar.apply(this,arguments)}(b,p,g)}(g._delegate,p,ir)})()}sendEmailVerification(p){return function(b,p){return wr.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,u.Z)(function*(){return yield function(b,p){return ha.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function(b,p){return Xl((0,F.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function(b,p){return Xl((0,F.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function(b,p){return ac.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function(b,p){return vo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function(b,p,g){return bo.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Fo.USER_MAP=new WeakMap;const wl=Ie;let Lo=(()=>{class b{constructor(g,T){if(this.app=g,T.isInitialized())return this._delegate=T.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=g.options;wl(A,"invalid-api-key",{appName:g.name});let P=[Rt];if("undefined"!=typeof window){P=function(b,p){const g=Af();if(!(null==g?void 0:g.sessionStorage))return[];const T=$n(rr,b,p);switch(g.sessionStorage.getItem(T)){case _i.NONE:return[Rt];case _i.LOCAL:return[qs,pi];case _i.SESSION:return[pi];default:return[]}}(A,g.name);for(const ye of[qs,ru,pi])P.includes(ye)||P.push(ye)}wl(A,"invalid-api-key",{appName:g.name});const q="undefined"!=typeof window?ir:void 0;this._delegate=T.initialize({options:{persistence:P,popupRedirectResolver:q}}),this._delegate._updateErrorMap(ce),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Fo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,T){!function(b,p,g){const T=Gt(b);Ie(T._canInitEmulator,T,"emulator-config-failed"),Ie(/^https?:\/\//.test(p),T,"invalid-emulator-scheme");const A=!!(null==g?void 0:g.disableWarnings),P=Ps(p),{host:q,port:ye}=function(b){const p=Ps(b),g=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!g)return{host:"",port:null};const T=g[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(T);if(A){const P=A[1];return{host:P,port:mo(T.substr(P.length+1))}}{const[P,q]=T.split(":");return{host:P,port:mo(q)}}}(p);T.config.emulator={url:`${P}//${q}${null===ye?"":`:${ye}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:q,port:ye,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function(){function b(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,g,T)}applyActionCode(g){return function(b,p){return fs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ne(this._delegate,g)}confirmPasswordReset(g,T){return function(b,p,g){return nl.apply(this,arguments)}(this._delegate,g,T)}createUserWithEmailAndPassword(g,T){var A=this;return(0,u.Z)(function*(){return ti(A._delegate,function(b,p,g){return Ji.apply(this,arguments)}(A._delegate,g,T))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(b,p){return rl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(b,p){const g=ua.parseLink(p);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,u.Z)(function*(){wl(Qg(),g._delegate,"operation-not-supported-in-this-environment");const T=yield function(b,p){return pn.apply(this,arguments)}(g._delegate,ir);return T?ti(g._delegate,Promise.resolve(T)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(b,p){Gt(b)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,T,A){const{next:P,error:q,complete:ye}=Of(g,T,A);return this._delegate.onAuthStateChanged(P,q,ye)}onIdTokenChanged(g,T,A){const{next:P,error:q,complete:ye}=Of(g,T,A);return this._delegate.onIdTokenChanged(P,q,ye)}sendSignInLinkToEmail(g,T){return function(b,p,g){return _a.apply(this,arguments)}(this._delegate,g,T)}sendPasswordResetEmail(g,T){return function(b,p,g){return tl.apply(this,arguments)}(this._delegate,g,T||void 0)}setPersistence(g){var T=this;return(0,u.Z)(function*(){let A;switch(function(b,p){to(Object.values(_i).includes(p),b,"invalid-persistence-type"),(0,F.b$)()?to(p!==_i.SESSION,b,"unsupported-persistence-type"):(0,F.UG)()?to(p===_i.NONE,b,"unsupported-persistence-type"):Yg()?to(p===_i.NONE||p===_i.LOCAL&&(0,F.hl)(),b,"unsupported-persistence-type"):to(p===_i.NONE||Kg(),b,"unsupported-persistence-type")}(T._delegate,g),g){case _i.SESSION:A=pi;break;case _i.LOCAL:A=(yield Te(qs)._isAvailable())?qs:ru;break;case _i.NONE:A=Rt;break;default:return oe("argument-error",{appName:T._delegate.name})}return T._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return ti(this._delegate,function(b){return vr.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return ti(this._delegate,Tr(this._delegate,g))}signInWithCustomToken(g){return ti(this._delegate,function(b,p){return ma.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,T){return ti(this._delegate,function(b,p,g){return Tr((0,F.m9)(b),Ja.credential(p,g))}(this._delegate,g,T))}signInWithEmailLink(g,T){return ti(this._delegate,function(b,p,g){return ya.apply(this,arguments)}(this._delegate,g,T))}signInWithPhoneNumber(g,T){return mu(this._delegate,function(b,p,g){return md.apply(this,arguments)}(this._delegate,g,T))}signInWithPopup(g){var T=this;return(0,u.Z)(function*(){return wl(Qg(),T._delegate,"operation-not-supported-in-this-environment"),ti(T._delegate,function(b,p,g){return Yn.apply(this,arguments)}(T._delegate,g,ir))})()}signInWithRedirect(g){var T=this;return(0,u.Z)(function*(){return wl(Qg(),T._delegate,"operation-not-supported-in-this-environment"),yield gc(T._delegate),function(b,p,g){return function(b,p,g){return We.apply(this,arguments)}(b,p,g)}(T._delegate,g,ir)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(b,p){return rn.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=_i,b})();function Of(b,p,g){let T=b;"function"!=typeof b&&({next:T,error:p,complete:g}=b);const A=T;return{next:q=>A(q&&Fo.getOrCreate(q)),error:p,complete:g}}class mc{constructor(){this.providerId="phone",this._delegate=new Kn(Mf(X.Z.auth()))}static credential(p,g){return Kn.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}mc.PHONE_SIGN_IN_METHOD=Kn.PHONE_SIGN_IN_METHOD,mc.PROVIDER_ID=Kn.PROVIDER_ID;const El=Ie;class q0{constructor(p,g,T=X.Z.app()){var A;El(null===(A=T.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:T.name}),this._delegate=new cf(p,g,T.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new re.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),T=p.getProvider("auth");return new Lo(g,T)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Ja,FacebookAuthProvider:Hc,GithubAuthProvider:Bs,GoogleAuthProvider:Wl,OAuthProvider:da,SAMLAuthProvider:cs,PhoneAuthProvider:mc,PhoneMultiFactorGenerator:cc,RecaptchaVerifier:q0,TwitterAuthProvider:Yi,Auth:Lo,AuthCredential:ut,Error:F.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.3")}(X.Z)},4995:function(je,be){!function(k){"use strict";function u(pe){return Array.prototype.slice.call(pe)}function X(pe){return new Promise(function(he,ae){pe.onsuccess=function(){he(pe.result)},pe.onerror=function(){ae(pe.error)}})}function F(pe,he,ae){var Se,oe=new Promise(function(Ge,Nt){X(Se=pe[he].apply(pe,ae)).then(Ge,Nt)});return oe.request=Se,oe}function le(pe,he,ae){var Se=F(pe,he,ae);return Se.then(function(oe){if(oe)return new L(oe,Se.request)})}function K(pe,he,ae){ae.forEach(function(Se){Object.defineProperty(pe.prototype,Se,{get:function(){return this[he][Se]},set:function(oe){this[he][Se]=oe}})})}function ne(pe,he,ae,Se){Se.forEach(function(oe){oe in ae.prototype&&(pe.prototype[oe]=function(){return F(this[he],oe,arguments)})})}function re(pe,he,ae,Se){Se.forEach(function(oe){oe in ae.prototype&&(pe.prototype[oe]=function(){return this[he][oe].apply(this[he],arguments)})})}function se(pe,he,ae,Se){Se.forEach(function(oe){oe in ae.prototype&&(pe.prototype[oe]=function(){return le(this[he],oe,arguments)})})}function $(pe){this._index=pe}function L(pe,he){this._cursor=pe,this._request=he}function V(pe){this._store=pe}function Y(pe){this._tx=pe,this.complete=new Promise(function(he,ae){pe.oncomplete=function(){he()},pe.onerror=function(){ae(pe.error)},pe.onabort=function(){ae(pe.error)}})}function fe(pe,he,ae){this._db=pe,this.oldVersion=he,this.transaction=new Y(ae)}function ke(pe){this._db=pe}K($,"_index",["name","keyPath","multiEntry","unique"]),ne($,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),se($,"_index",IDBIndex,["openCursor","openKeyCursor"]),K(L,"_cursor",["direction","key","primaryKey","value"]),ne(L,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(pe){pe in IDBCursor.prototype&&(L.prototype[pe]=function(){var he=this,ae=arguments;return Promise.resolve().then(function(){return he._cursor[pe].apply(he._cursor,ae),X(he._request).then(function(Se){if(Se)return new L(Se,he._request)})})})}),V.prototype.createIndex=function(){return new $(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new $(this._store.index.apply(this._store,arguments))},K(V,"_store",["name","keyPath","indexNames","autoIncrement"]),ne(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),se(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),re(V,"_store",IDBObjectStore,["deleteIndex"]),Y.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},K(Y,"_tx",["objectStoreNames","mode"]),re(Y,"_tx",IDBTransaction,["abort"]),fe.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},K(fe,"_db",["name","version","objectStoreNames"]),re(fe,"_db",IDBDatabase,["deleteObjectStore","close"]),ke.prototype.transaction=function(){return new Y(this._db.transaction.apply(this._db,arguments))},K(ke,"_db",["name","version","objectStoreNames"]),re(ke,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(pe){[V,$].forEach(function(he){pe in he.prototype&&(he.prototype[pe.replace("open","iterate")]=function(){var ae=u(arguments),Se=ae[ae.length-1],oe=this._store||this._index,Ge=oe[pe].apply(oe,ae.slice(0,-1));Ge.onsuccess=function(){Se(Ge.result)}})})}),[$,V].forEach(function(pe){pe.prototype.getAll||(pe.prototype.getAll=function(he,ae){var Se=this,oe=[];return new Promise(function(Ge){Se.iterateCursor(he,function(Nt){Nt?(oe.push(Nt.value),void 0===ae||oe.length!=ae?Nt.continue():Ge(oe)):Ge(oe)})})})}),k.openDb=function(pe,he,ae){var Se=F(indexedDB,"open",[pe,he]),oe=Se.request;return oe&&(oe.onupgradeneeded=function(Ge){ae&&ae(new fe(oe.result,Ge.oldVersion,oe.transaction))}),Se.then(function(Ge){return new ke(Ge)})},k.deleteDb=function(pe){return F(indexedDB,"deleteDatabase",[pe])},Object.defineProperty(k,"__esModule",{value:!0})}(be)},8085:(je,be,k)=>{"use strict";k.d(be,{P:()=>K});var u=k(172),X=k(2411),F=k(540);class K{constructor(re,se,$){this.kind=re,this.value=se,this.error=$,this.hasValue="N"===re}observe(re){switch(this.kind){case"N":return re.next&&re.next(this.value);case"E":return re.error&&re.error(this.error);case"C":return re.complete&&re.complete()}}do(re,se,$){switch(this.kind){case"N":return re&&re(this.value);case"E":return se&&se(this.error);case"C":return $&&$()}}accept(re,se,$){return re&&"function"==typeof re.next?this.observe(re):this.do(re,se,$)}toObservable(){switch(this.kind){case"N":return(0,X.of)(this.value);case"E":return(0,F._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(re){return void 0!==re?new K("N",re):K.undefinedValueNotification}static createError(re){return new K("E",void 0,re)}static createComplete(){return K.completeNotification}}K.completeNotification=new K("C"),K.undefinedValueNotification=new K("N",void 0)},5548:(je,be,k)=>{"use strict";k.d(be,{y:()=>V});var u=k(4168),F=k(2926),le=k(6617),ne=k(1359),re=k(7255);var L=k(5426);let V=(()=>{class fe{constructor(ce){this._isScalar=!1,ce&&(this._subscribe=ce)}lift(ce){const Ae=new fe;return Ae.source=this,Ae.operator=ce,Ae}subscribe(ce,Ae,pe){const{operator:he}=this,ae=function(fe,ke,ce){if(fe){if(fe instanceof u.L)return fe;if(fe[F.b])return fe[F.b]()}return fe||ke||ce?new u.L(fe,ke,ce):new u.L(le.c)}(ce,Ae,pe);if(ae.add(he?he.call(ae,this.source):this.source||L.v.useDeprecatedSynchronousErrorHandling&&!ae.syncErrorThrowable?this._subscribe(ae):this._trySubscribe(ae)),L.v.useDeprecatedSynchronousErrorHandling&&ae.syncErrorThrowable&&(ae.syncErrorThrowable=!1,ae.syncErrorThrown))throw ae.syncErrorValue;return ae}_trySubscribe(ce){try{return this._subscribe(ce)}catch(Ae){L.v.useDeprecatedSynchronousErrorHandling&&(ce.syncErrorThrown=!0,ce.syncErrorValue=Ae),function(fe){for(;fe;){const{closed:ke,destination:ce,isStopped:Ae}=fe;if(ke||Ae)return!1;fe=ce&&ce instanceof u.L?ce:null}return!0}(ce)?ce.error(Ae):console.warn(Ae)}}forEach(ce,Ae){return new(Ae=Y(Ae))((pe,he)=>{let ae;ae=this.subscribe(Se=>{try{ce(Se)}catch(oe){he(oe),ae&&ae.unsubscribe()}},he,pe)})}_subscribe(ce){const{source:Ae}=this;return Ae&&Ae.subscribe(ce)}[ne.L](){return this}pipe(...ce){return 0===ce.length?this:function(fe){return 0===fe.length?re.y:1===fe.length?fe[0]:function(ce){return fe.reduce((Ae,pe)=>pe(Ae),ce)}}(ce)(this)}toPromise(ce){return new(ce=Y(ce))((Ae,pe)=>{let he;this.subscribe(ae=>he=ae,ae=>pe(ae),()=>Ae(he))})}}return fe.create=ke=>new fe(ke),fe})();function Y(fe){if(fe||(fe=L.v.Promise||Promise),!fe)throw new Error("no Promise impl found");return fe}},6617:(je,be,k)=>{"use strict";k.d(be,{c:()=>F});var u=k(5426),X=k(9887);const F={closed:!0,next(le){},error(le){if(u.v.useDeprecatedSynchronousErrorHandling)throw le;(0,X.z)(le)},complete(){}}},3405:(je,be,k)=>{"use strict";k.d(be,{Yc:()=>re,xQ:()=>se});var u=k(5548),X=k(4168),F=k(1346),le=k(2108),K=k(5973),ne=k(2926);class re extends X.L{constructor(V){super(V),this.destination=V}}let se=(()=>{class L extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ne.b](){return new re(this)}lift(Y){const fe=new $(this,this);return fe.operator=Y,fe}next(Y){if(this.closed)throw new le.N;if(!this.isStopped){const{observers:fe}=this,ke=fe.length,ce=fe.slice();for(let Ae=0;Ae<ke;Ae++)ce[Ae].next(Y)}}error(Y){if(this.closed)throw new le.N;this.hasError=!0,this.thrownError=Y,this.isStopped=!0;const{observers:fe}=this,ke=fe.length,ce=fe.slice();for(let Ae=0;Ae<ke;Ae++)ce[Ae].error(Y);this.observers.length=0}complete(){if(this.closed)throw new le.N;this.isStopped=!0;const{observers:Y}=this,fe=Y.length,ke=Y.slice();for(let ce=0;ce<fe;ce++)ke[ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Y){if(this.closed)throw new le.N;return super._trySubscribe(Y)}_subscribe(Y){if(this.closed)throw new le.N;return this.hasError?(Y.error(this.thrownError),F.w.EMPTY):this.isStopped?(Y.complete(),F.w.EMPTY):(this.observers.push(Y),new K.W(this,Y))}asObservable(){const Y=new u.y;return Y.source=this,Y}}return L.create=(V,Y)=>new $(V,Y),L})();class $ extends se{constructor(V,Y){super(),this.destination=V,this.source=Y}next(V){const{destination:Y}=this;Y&&Y.next&&Y.next(V)}error(V){const{destination:Y}=this;Y&&Y.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:Y}=this;return Y?this.source.subscribe(V):F.w.EMPTY}}},5973:(je,be,k)=>{"use strict";k.d(be,{W:()=>X});var u=k(1346);class X extends u.w{constructor(le,K){super(),this.subject=le,this.subscriber=K,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const le=this.subject,K=le.observers;if(this.subject=null,!K||0===K.length||le.isStopped||le.closed)return;const ne=K.indexOf(this.subscriber);-1!==ne&&K.splice(ne,1)}}},4168:(je,be,k)=>{"use strict";k.d(be,{L:()=>re});var u=k(6783),X=k(6617),F=k(1346),le=k(2926),K=k(5426),ne=k(9887);class re extends F.w{constructor(L,V,Y){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!L){this.destination=X.c;break}if("object"==typeof L){L instanceof re?(this.syncErrorThrowable=L.syncErrorThrowable,this.destination=L,L.add(this)):(this.syncErrorThrowable=!0,this.destination=new se(this,L));break}default:this.syncErrorThrowable=!0,this.destination=new se(this,L,V,Y)}}[le.b](){return this}static create(L,V,Y){const fe=new re(L,V,Y);return fe.syncErrorThrowable=!1,fe}next(L){this.isStopped||this._next(L)}error(L){this.isStopped||(this.isStopped=!0,this._error(L))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(L){this.destination.next(L)}_error(L){this.destination.error(L),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:L}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=L,this}}class se extends re{constructor(L,V,Y,fe){super(),this._parentSubscriber=L;let ke,ce=this;(0,u.m)(V)?ke=V:V&&(ke=V.next,Y=V.error,fe=V.complete,V!==X.c&&(ce=Object.create(V),(0,u.m)(ce.unsubscribe)&&this.add(ce.unsubscribe.bind(ce)),ce.unsubscribe=this.unsubscribe.bind(this))),this._context=ce,this._next=ke,this._error=Y,this._complete=fe}next(L){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;K.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,L)&&this.unsubscribe():this.__tryOrUnsub(this._next,L)}}error(L){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:Y}=K.v;if(this._error)Y&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,L),this.unsubscribe()):(this.__tryOrUnsub(this._error,L),this.unsubscribe());else if(V.syncErrorThrowable)Y?(V.syncErrorValue=L,V.syncErrorThrown=!0):(0,ne.z)(L),this.unsubscribe();else{if(this.unsubscribe(),Y)throw L;(0,ne.z)(L)}}}complete(){if(!this.isStopped){const{_parentSubscriber:L}=this;if(this._complete){const V=()=>this._complete.call(this._context);K.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?(this.__tryOrSetError(L,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(L,V){try{L.call(this._context,V)}catch(Y){if(this.unsubscribe(),K.v.useDeprecatedSynchronousErrorHandling)throw Y;(0,ne.z)(Y)}}__tryOrSetError(L,V,Y){if(!K.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,Y)}catch(fe){return K.v.useDeprecatedSynchronousErrorHandling?(L.syncErrorValue=fe,L.syncErrorThrown=!0,!0):((0,ne.z)(fe),!0)}return!1}_unsubscribe(){const{_parentSubscriber:L}=this;this._context=null,this._parentSubscriber=null,L.unsubscribe()}}},1346:(je,be,k)=>{"use strict";k.d(be,{w:()=>ne});var u=k(5894),X=k(7879),F=k(6783);const K=(()=>{function se($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((L,V)=>`${V+1}) ${L.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return se.prototype=Object.create(Error.prototype),se})();class ne{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:L,_ctorUnsubscribe:V,_unsubscribe:Y,_subscriptions:fe}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,L instanceof ne)L.remove(this);else if(null!==L)for(let ke=0;ke<L.length;++ke)L[ke].remove(this);if((0,F.m)(Y)){V&&(this._unsubscribe=void 0);try{Y.call(this)}catch(ke){$=ke instanceof K?re(ke.errors):[ke]}}if((0,u.k)(fe)){let ke=-1,ce=fe.length;for(;++ke<ce;){const Ae=fe[ke];if((0,X.K)(Ae))try{Ae.unsubscribe()}catch(pe){$=$||[],pe instanceof K?$=$.concat(re(pe.errors)):$.push(pe)}}}if($)throw new K($)}add($){let L=$;if(!$)return ne.EMPTY;switch(typeof $){case"function":L=new ne($);case"object":if(L===this||L.closed||"function"!=typeof L.unsubscribe)return L;if(this.closed)return L.unsubscribe(),L;if(!(L instanceof ne)){const fe=L;L=new ne,L._subscriptions=[fe]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:V}=L;if(null===V)L._parentOrParents=this;else if(V instanceof ne){if(V===this)return L;L._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return L;V.push(this)}const Y=this._subscriptions;return null===Y?this._subscriptions=[L]:Y.push(L),L}remove($){const L=this._subscriptions;if(L){const V=L.indexOf($);-1!==V&&L.splice(V,1)}}}var se;function re(se){return se.reduce(($,L)=>$.concat(L instanceof K?L.errors:L),[])}ne.EMPTY=((se=new ne).closed=!0,se)},5426:(je,be,k)=>{"use strict";k.d(be,{v:()=>X});let u=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(F){if(F){const le=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+le.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=F},get useDeprecatedSynchronousErrorHandling(){return u}}},8345:(je,be,k)=>{"use strict";k.d(be,{IY:()=>le,Ds:()=>ne,ft:()=>se});var u=k(4168),X=k(5548),F=k(4651);class le extends u.L{constructor(L){super(),this.parent=L}_next(L){this.parent.notifyNext(L)}_error(L){this.parent.notifyError(L),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ne extends u.L{notifyNext(L){this.destination.next(L)}notifyError(L){this.destination.error(L)}notifyComplete(){this.destination.complete()}}function se($,L){if(L.closed)return;if($ instanceof X.y)return $.subscribe(L);let V;try{V=(0,F.s)($)(L)}catch(Y){L.error(Y)}return V}},5783:(je,be,k)=>{"use strict";k.d(be,{c:()=>K,N:()=>ne});var u=k(3405),X=k(5548),F=k(1346),le=k(5234);class K extends X.y{constructor(V,Y){super(),this.source=V,this.subjectFactory=Y,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new F.w,V.add(this.source.subscribe(new re(this.getSubject(),this))),V.closed&&(this._connection=null,V=F.w.EMPTY)),V}refCount(){return(0,le.x)()(this)}}const ne=(()=>{const L=K.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:L._subscribe},_isComplete:{value:L._isComplete,writable:!0},getSubject:{value:L.getSubject},connect:{value:L.connect},refCount:{value:L.refCount}}})();class re extends u.Yc{constructor(V,Y){super(V),this.connectable=Y}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const Y=V._connection;V._refCount=0,V._subject=null,V._connection=null,Y&&Y.unsubscribe()}}}},172:(je,be,k)=>{"use strict";k.d(be,{E:()=>X,c:()=>F});var u=k(5548);const X=new u.y(K=>K.complete());function F(K){return K?function(K){return new u.y(ne=>K.schedule(()=>ne.complete()))}(K):X}},1915:(je,be,k)=>{"use strict";k.d(be,{D:()=>ce});var u=k(5548),X=k(4651),F=k(1346),le=k(1359),re=k(3428),se=k(4352),V=k(847),Y=k(1265);function ce(Ae,pe){return pe?function(Ae,pe){if(null!=Ae){if(function(Ae){return Ae&&"function"==typeof Ae[le.L]}(Ae))return function(Ae,pe){return new u.y(he=>{const ae=new F.w;return ae.add(pe.schedule(()=>{const Se=Ae[le.L]();ae.add(Se.subscribe({next(oe){ae.add(pe.schedule(()=>he.next(oe)))},error(oe){ae.add(pe.schedule(()=>he.error(oe)))},complete(){ae.add(pe.schedule(()=>he.complete()))}}))})),ae})}(Ae,pe);if((0,V.t)(Ae))return function(Ae,pe){return new u.y(he=>{const ae=new F.w;return ae.add(pe.schedule(()=>Ae.then(Se=>{ae.add(pe.schedule(()=>{he.next(Se),ae.add(pe.schedule(()=>he.complete()))}))},Se=>{ae.add(pe.schedule(()=>he.error(Se)))}))),ae})}(Ae,pe);if((0,Y.z)(Ae))return(0,re.r)(Ae,pe);if(function(Ae){return Ae&&"function"==typeof Ae[se.hZ]}(Ae)||"string"==typeof Ae)return function(Ae,pe){if(!Ae)throw new Error("Iterable cannot be null");return new u.y(he=>{const ae=new F.w;let Se;return ae.add(()=>{Se&&"function"==typeof Se.return&&Se.return()}),ae.add(pe.schedule(()=>{Se=Ae[se.hZ](),ae.add(pe.schedule(function(){if(he.closed)return;let oe,Ge;try{const Nt=Se.next();oe=Nt.value,Ge=Nt.done}catch(Nt){return void he.error(Nt)}Ge?he.complete():(he.next(oe),this.schedule())}))})),ae})}(Ae,pe)}throw new TypeError((null!==Ae&&typeof Ae||Ae)+" is not observable")}(Ae,pe):Ae instanceof u.y?Ae:new u.y((0,X.s)(Ae))}},5433:(je,be,k)=>{"use strict";k.d(be,{n:()=>le});var u=k(5548),X=k(8769),F=k(3428);function le(K,ne){return ne?(0,F.r)(K,ne):new u.y((0,X.V)(K))}},8526:(je,be,k)=>{"use strict";k.d(be,{T:()=>K});var u=k(5548),X=k(8151),F=k(2225),le=k(5433);function K(...ne){let re=Number.POSITIVE_INFINITY,se=null,$=ne[ne.length-1];return(0,X.K)($)?(se=ne.pop(),ne.length>1&&"number"==typeof ne[ne.length-1]&&(re=ne.pop())):"number"==typeof $&&(re=ne.pop()),null===se&&1===ne.length&&ne[0]instanceof u.y?ne[0]:(0,F.J)(re)((0,le.n)(ne,se))}},2411:(je,be,k)=>{"use strict";k.d(be,{of:()=>le});var u=k(8151),X=k(5433),F=k(3428);function le(...K){let ne=K[K.length-1];return(0,u.K)(ne)?(K.pop(),(0,F.r)(K,ne)):(0,X.n)(K)}},540:(je,be,k)=>{"use strict";k.d(be,{_:()=>X});var u=k(5548);function X(le,K){return new u.y(K?ne=>K.schedule(F,0,{error:le,subscriber:ne}):ne=>ne.error(le))}function F({error:le,subscriber:K}){K.error(le)}},8053:(je,be,k)=>{"use strict";k.d(be,{U:()=>X});var u=k(4168);function X(K,ne){return function(se){if("function"!=typeof K)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return se.lift(new F(K,ne))}}class F{constructor(ne,re){this.project=ne,this.thisArg=re}call(ne,re){return re.subscribe(new le(ne,this.project,this.thisArg))}}class le extends u.L{constructor(ne,re,se){super(ne),this.project=re,this.count=0,this.thisArg=se||this}_next(ne){let re;try{re=this.project.call(this.thisArg,ne,this.count++)}catch(se){return void this.destination.error(se)}this.destination.next(re)}}},2225:(je,be,k)=>{"use strict";k.d(be,{J:()=>F});var u=k(4421),X=k(7255);function F(le=Number.POSITIVE_INFINITY){return(0,u.zg)(X.y,le)}},4421:(je,be,k)=>{"use strict";k.d(be,{zg:()=>le});var u=k(8053),X=k(1915),F=k(8345);function le(se,$,L=Number.POSITIVE_INFINITY){return"function"==typeof $?V=>V.pipe(le((Y,fe)=>(0,X.D)(se(Y,fe)).pipe((0,u.U)((ke,ce)=>$(Y,ke,fe,ce))),L)):("number"==typeof $&&(L=$),V=>V.lift(new K(se,L)))}class K{constructor($,L=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=L}call($,L){return L.subscribe(new ne($,this.project,this.concurrent))}}class ne extends F.Ds{constructor($,L,V=Number.POSITIVE_INFINITY){super($),this.project=L,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let L;const V=this.index++;try{L=this.project($,V)}catch(Y){return void this.destination.error(Y)}this.active++,this._innerSub(L)}_innerSub($){const L=new F.IY(this),V=this.destination;V.add(L);const Y=(0,F.ft)($,L);Y!==L&&V.add(Y)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6087:(je,be,k)=>{"use strict";k.d(be,{O:()=>X});var u=k(5783);function X(le,K){return function(re){let se;if(se="function"==typeof le?le:function(){return le},"function"==typeof K)return re.lift(new F(se,K));const $=Object.create(re,u.N);return $.source=re,$.subjectFactory=se,$}}class F{constructor(K,ne){this.subjectFactory=K,this.selector=ne}call(K,ne){const{selector:re}=this,se=this.subjectFactory(),$=re(se).subscribe(K);return $.add(ne.subscribe(se)),$}}},9748:(je,be,k)=>{"use strict";k.d(be,{QV:()=>F,ht:()=>K});var u=k(4168),X=k(8085);function F(re,se=0){return function(L){return L.lift(new le(re,se))}}class le{constructor(se,$=0){this.scheduler=se,this.delay=$}call(se,$){return $.subscribe(new K(se,this.scheduler,this.delay))}}class K extends u.L{constructor(se,$,L=0){super(se),this.scheduler=$,this.delay=L}static dispatch(se){const{notification:$,destination:L}=se;$.observe(L),this.unsubscribe()}scheduleMessage(se){this.destination.add(this.scheduler.schedule(K.dispatch,this.delay,new ne(se,this.destination)))}_next(se){this.scheduleMessage(X.P.createNext(se))}_error(se){this.scheduleMessage(X.P.createError(se)),this.unsubscribe()}_complete(){this.scheduleMessage(X.P.createComplete()),this.unsubscribe()}}class ne{constructor(se,$){this.notification=se,this.destination=$}}},5234:(je,be,k)=>{"use strict";k.d(be,{x:()=>X});var u=k(4168);function X(){return function(ne){return ne.lift(new F(ne))}}class F{constructor(ne){this.connectable=ne}call(ne,re){const{connectable:se}=this;se._refCount++;const $=new le(ne,se),L=re.subscribe($);return $.closed||($.connection=se.connect()),L}}class le extends u.L{constructor(ne,re){super(ne),this.connectable=re}_unsubscribe(){const{connectable:ne}=this;if(!ne)return void(this.connection=null);this.connectable=null;const re=ne._refCount;if(re<=0)return void(this.connection=null);if(ne._refCount=re-1,re>1)return void(this.connection=null);const{connection:se}=this,$=ne._connection;this.connection=null,$&&(!se||$===se)&&$.unsubscribe()}}},2635:(je,be,k)=>{"use strict";k.d(be,{R:()=>Ae});var u=k(5548);let X=1;const F=Promise.resolve(),le={};function K(he){return he in le&&(delete le[he],!0)}const ne={setImmediate(he){const ae=X++;return le[ae]=!0,F.then(()=>K(ae)&&he()),ae},clearImmediate(he){K(he)}};var se=k(6339),L=k(5192);const fe=new class extends L.v{flush(ae){this.active=!0,this.scheduled=void 0;const{actions:Se}=this;let oe,Ge=-1,Nt=Se.length;ae=ae||Se.shift();do{if(oe=ae.execute(ae.state,ae.delay))break}while(++Ge<Nt&&(ae=Se.shift()));if(this.active=!1,oe){for(;++Ge<Nt&&(ae=Se.shift());)ae.unsubscribe();throw oe}}}(class extends se.o{constructor(ae,Se){super(ae,Se),this.scheduler=ae,this.work=Se}requestAsyncId(ae,Se,oe=0){return null!==oe&&oe>0?super.requestAsyncId(ae,Se,oe):(ae.actions.push(this),ae.scheduled||(ae.scheduled=ne.setImmediate(ae.flush.bind(ae,null))))}recycleAsyncId(ae,Se,oe=0){if(null!==oe&&oe>0||null===oe&&this.delay>0)return super.recycleAsyncId(ae,Se,oe);0===ae.actions.length&&(ne.clearImmediate(Se),ae.scheduled=void 0)}});var ke=k(8212);class ce extends u.y{constructor(ae,Se=0,oe=fe){super(),this.source=ae,this.delayTime=Se,this.scheduler=oe,(!(0,ke.k)(Se)||Se<0)&&(this.delayTime=0),(!oe||"function"!=typeof oe.schedule)&&(this.scheduler=fe)}static create(ae,Se=0,oe=fe){return new ce(ae,Se,oe)}static dispatch(ae){const{source:Se,subscriber:oe}=ae;return this.add(Se.subscribe(oe))}_subscribe(ae){return this.scheduler.schedule(ce.dispatch,this.delayTime,{source:this.source,subscriber:ae})}}function Ae(he,ae=0){return function(oe){return oe.lift(new pe(he,ae))}}class pe{constructor(ae,Se){this.scheduler=ae,this.delay=Se}call(ae,Se){return new ce(Se,this.delay,this.scheduler).subscribe(ae)}}},1366:(je,be,k)=>{"use strict";k.d(be,{b:()=>le});var u=k(4168),X=k(3989),F=k(6783);function le(re,se,$){return function(V){return V.lift(new K(re,se,$))}}class K{constructor(se,$,L){this.nextOrObserver=se,this.error=$,this.complete=L}call(se,$){return $.subscribe(new ne(se,this.nextOrObserver,this.error,this.complete))}}class ne extends u.L{constructor(se,$,L,V){super(se),this._tapNext=X.Z,this._tapError=X.Z,this._tapComplete=X.Z,this._tapError=L||X.Z,this._tapComplete=V||X.Z,(0,F.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||X.Z,this._tapError=$.error||X.Z,this._tapComplete=$.complete||X.Z)}_next(se){try{this._tapNext.call(this._context,se)}catch($){return void this.destination.error($)}this.destination.next(se)}_error(se){try{this._tapError.call(this._context,se)}catch($){return void this.destination.error($)}this.destination.error(se)}_complete(){try{this._tapComplete.call(this._context)}catch(se){return void this.destination.error(se)}return this.destination.complete()}}},3428:(je,be,k)=>{"use strict";k.d(be,{r:()=>F});var u=k(5548),X=k(1346);function F(le,K){return new u.y(ne=>{const re=new X.w;let se=0;return re.add(K.schedule(function(){se!==le.length?(ne.next(le[se++]),ne.closed||re.add(this.schedule())):ne.complete()})),re})}},6339:(je,be,k)=>{"use strict";k.d(be,{o:()=>F});var u=k(1346);class X extends u.w{constructor(K,ne){super()}schedule(K,ne=0){return this}}class F extends X{constructor(K,ne){super(K,ne),this.scheduler=K,this.work=ne,this.pending=!1}schedule(K,ne=0){if(this.closed)return this;this.state=K;const re=this.id,se=this.scheduler;return null!=re&&(this.id=this.recycleAsyncId(se,re,ne)),this.pending=!0,this.delay=ne,this.id=this.id||this.requestAsyncId(se,this.id,ne),this}requestAsyncId(K,ne,re=0){return setInterval(K.flush.bind(K,this),re)}recycleAsyncId(K,ne,re=0){if(null!==re&&this.delay===re&&!1===this.pending)return ne;clearInterval(ne)}execute(K,ne){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const re=this._execute(K,ne);if(re)return re;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,ne){let se,re=!1;try{this.work(K)}catch($){re=!0,se=!!$&&$||new Error($)}if(re)return this.unsubscribe(),se}_unsubscribe(){const K=this.id,ne=this.scheduler,re=ne.actions,se=re.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==se&&re.splice(se,1),null!=K&&(this.id=this.recycleAsyncId(ne,K,null)),this.delay=null}}},5192:(je,be,k)=>{"use strict";k.d(be,{v:()=>X});let u=(()=>{class F{constructor(K,ne=F.now){this.SchedulerAction=K,this.now=ne}schedule(K,ne=0,re){return new this.SchedulerAction(this,K).schedule(re,ne)}}return F.now=()=>Date.now(),F})();class X extends u{constructor(le,K=u.now){super(le,()=>X.delegate&&X.delegate!==this?X.delegate.now():K()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(le,K=0,ne){return X.delegate&&X.delegate!==this?X.delegate.schedule(le,K,ne):super.schedule(le,K,ne)}flush(le){const{actions:K}=this;if(this.active)return void K.push(le);let ne;this.active=!0;do{if(ne=le.execute(le.state,le.delay))break}while(le=K.shift());if(this.active=!1,ne){for(;le=K.shift();)le.unsubscribe();throw ne}}}},8178:(je,be,k)=>{"use strict";k.d(be,{z:()=>F,P:()=>le});var u=k(6339);const F=new(k(5192).v)(u.o),le=F},7575:(je,be,k)=>{"use strict";k.d(be,{c:()=>ne,N:()=>K});var u=k(6339),F=k(5192);const K=new class extends F.v{}(class extends u.o{constructor(se,$){super(se,$),this.scheduler=se,this.work=$}schedule(se,$=0){return $>0?super.schedule(se,$):(this.delay=$,this.state=se,this.scheduler.flush(this),this)}execute(se,$){return $>0||this.closed?super.execute(se,$):this._execute(se,$)}requestAsyncId(se,$,L=0){return null!==L&&L>0||null===L&&this.delay>0?super.requestAsyncId(se,$,L):se.flush(this)}}),ne=K},4352:(je,be,k)=>{"use strict";k.d(be,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},1359:(je,be,k)=>{"use strict";k.d(be,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},2926:(je,be,k)=>{"use strict";k.d(be,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2108:(je,be,k)=>{"use strict";k.d(be,{N:()=>X});const X=(()=>{function F(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return F.prototype=Object.create(Error.prototype),F})()},9887:(je,be,k)=>{"use strict";function u(X){setTimeout(()=>{throw X},0)}k.d(be,{z:()=>u})},7255:(je,be,k)=>{"use strict";function u(X){return X}k.d(be,{y:()=>u})},5894:(je,be,k)=>{"use strict";k.d(be,{k:()=>u});const u=Array.isArray||(X=>X&&"number"==typeof X.length)},1265:(je,be,k)=>{"use strict";k.d(be,{z:()=>u});const u=X=>X&&"number"==typeof X.length&&"function"!=typeof X},6783:(je,be,k)=>{"use strict";function u(X){return"function"==typeof X}k.d(be,{m:()=>u})},8212:(je,be,k)=>{"use strict";k.d(be,{k:()=>X});var u=k(5894);function X(F){return!(0,u.k)(F)&&F-parseFloat(F)+1>=0}},7879:(je,be,k)=>{"use strict";function u(X){return null!==X&&"object"==typeof X}k.d(be,{K:()=>u})},847:(je,be,k)=>{"use strict";function u(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}k.d(be,{t:()=>u})},8151:(je,be,k)=>{"use strict";function u(X){return X&&"function"==typeof X.schedule}k.d(be,{K:()=>u})},3989:(je,be,k)=>{"use strict";function u(){}k.d(be,{Z:()=>u})},4651:(je,be,k)=>{"use strict";k.d(be,{s:()=>V});var u=k(8769),X=k(9887),le=k(4352),ne=k(1359),se=k(1265),$=k(847),L=k(7879);const V=Y=>{if(Y&&"function"==typeof Y[ne.L])return(Y=>fe=>{const ke=Y[ne.L]();if("function"!=typeof ke.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ke.subscribe(fe)})(Y);if((0,se.z)(Y))return(0,u.V)(Y);if((0,$.t)(Y))return(Y=>fe=>(Y.then(ke=>{fe.closed||(fe.next(ke),fe.complete())},ke=>fe.error(ke)).then(null,X.z),fe))(Y);if(Y&&"function"==typeof Y[le.hZ])return(Y=>fe=>{const ke=Y[le.hZ]();for(;;){let ce;try{ce=ke.next()}catch(Ae){return fe.error(Ae),fe}if(ce.done){fe.complete();break}if(fe.next(ce.value),fe.closed)break}return"function"==typeof ke.return&&fe.add(()=>{ke.return&&ke.return()}),fe})(Y);{const ke=`You provided ${(0,L.K)(Y)?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ke)}}},8769:(je,be,k)=>{"use strict";k.d(be,{V:()=>u});const u=X=>F=>{for(let le=0,K=X.length;le<K&&!F.closed;le++)F.next(X[le]);F.complete()}},7471:(je,be,k)=>{"use strict";var u=k(6079);let X=null;function F(){return X}const re=new u.OlP("DocumentToken");let se=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return(0,u.LFG)(V)},providedIn:"platform"}),n})();const L=new u.OlP("Location Initialized");let V=(()=>{class n extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=F().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){Y()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){Y()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:function(){return new V((0,u.LFG)(re))},providedIn:"platform"}),n})();function Y(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ae(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:function(){return function(n){const e=(0,u.LFG)(re).location;return new Se((0,u.LFG)(se),e&&e.origin||"")}()},providedIn:"root"}),n})();const ae=new u.OlP("appBaseHref");let Se=(()=>{class n extends pe{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ae(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,c){const h=this.prepareExternalUrl(o+Ae(c));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){const h=this.prepareExternalUrl(o+Ae(c));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),oe=(()=>{class n extends pe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,c){let h=this.prepareExternalUrl(o+Ae(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,c){let h=this.prepareExternalUrl(o+Ae(c));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformLocation).historyGo)||o.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(se),u.LFG(ae,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,r){this._subject=new u.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const o=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=ce(yt(o)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ae(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,yt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._platformStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ae(r)),o)}replaceState(t,r="",o=null){this._platformStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ae(r)),o)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,o;null==(o=(r=this._platformStrategy).historyGo)||o.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=Ae,n.joinWithSlash=ke,n.stripTrailingSlash=ce,n.\u0275fac=function(t){return new(t||n)(u.LFG(pe),u.LFG(se))},n.\u0275prov=u.Yz7({token:n,factory:function(){return new Ge((0,u.LFG)(pe),(0,u.LFG)(se))},providedIn:"root"}),n})();function yt(n){return n.replace(/\/index.html$/,"")}var ge=(()=>((ge=ge||{})[ge.Zero=0]="Zero",ge[ge.One=1]="One",ge[ge.Two=2]="Two",ge[ge.Few=3]="Few",ge[ge.Many=4]="Many",ge[ge.Other=5]="Other",ge))();const ta=u.kL8;class ut{}let Rn=(()=>{class n extends ut{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(ta(r||this.locale)(t)){case ge.Zero:return"zero";case ge.One:return"one";case ge.Two:return"two";case ge.Few:return"few";case ge.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.soG))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class oa{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Dn=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((o,c,h)=>{if(null==o.previousIndex){const _=this._viewContainer.createEmbeddedView(this._template,new oa(null,this._ngForOf,-1,-1),null===h?void 0:h),v=new zt(o,_);r.push(v)}else if(null==h)this._viewContainer.remove(null===c?void 0:c);else if(null!==c){const _=this._viewContainer.get(c);this._viewContainer.move(_,h);const v=new zt(o,_);r.push(v)}});for(let o=0;o<r.length;o++)this._perViewChange(r[o].view,r[o].record);for(let o=0,c=this._viewContainer.length;o<c;o++){const h=this._viewContainer.get(o);h.context.index=o,h.context.count=c,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{this._viewContainer.get(o.currentIndex).context.$implicit=o.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class zt{constructor(e,t){this.record=e,this.view=t}}let Yr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new aa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){$l("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){$l("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b),u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class aa{constructor(){this.$implicit=null,this.ngIf=null}}function $l(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}let zi=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.s_b))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[u.TTD]}),n})(),Sg=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=Ja}transform(t,r=Ja){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const o=this.differ.diff(t),c=r!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(h=>{this.keyValues.push(function(n,e){return{key:n,value:e}}(h.key,h.currentValue))})),(o||c)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.aQg,16))},n.\u0275pipe=u.Yjl({name:"keyvalue",type:n,pure:!1}),n})();function Ja(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const o=String(t),c=String(r);return o==c?0:o<c?-1:1}let Fn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[{provide:ut,useClass:Rn}]}),n})();const cd="browser";function Pi(n){return n===cd}function Qr(n){return"server"===n}let Xa=(()=>{class n{}return n.\u0275prov=(0,u.Yz7)({token:n,providedIn:"root",factory:()=>new $c((0,u.LFG)(re),window)}),n})();class $c{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const h=c.getElementById(e)||c.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=el(this.window.history)||el(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function el(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class us extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new us,X||(X=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ds=ds||document.querySelector("base"),ds?ds.getAttribute("href"):null);return null==t?null:function(n){fa=fa||document.createElement("a"),fa.setAttribute("href",n);const e=fa.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ds=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,c]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(c)}return null}(document.cookie,e)}}let fa,ds=null;const hs=new u.OlP("TRANSITION_ID"),Wn=[{provide:u.ip1,useFactory:function(n,e,t){return()=>{t.get(u.CZH).donePromise.then(()=>{const r=F(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<o.length;c++)r.remove(o[c])})}},deps:[hs,re,u.zs3],multi:!0}];class pa{static init(){(0,u.VLi)(new pa)}addToWindow(e){u.dqk.getAngularTestability=(r,o=!0)=>{const c=e.findTestabilityInTree(r,o);if(null==c)throw new Error("Could not find testability for element.");return c},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(r=>{const o=u.dqk.getAllAngularTestabilities();let c=o.length,h=!1;const _=function(v){h=h||v,c--,0==c&&r(h)};o.forEach(function(v){v.whenStable(_)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?F().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Qi=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const fs=new u.OlP("EventManagerPlugins");let Ne=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let c=0;c<o.length;c++){const h=o[c];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(fs),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class It{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=F().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let zc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),rn=(()=>{class n extends zc{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(c=>{const h=this._doc.createElement("style");h.textContent=c,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(qc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(qc))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function qc(n){F().remove(n)}const Ji={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},fi=/%COMP%/g;function Ln(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?Ln(n,o,t):(o=o.replace(fi,n),t.push(o))}return t}function xi(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gs=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new wr(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case u.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new hd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case u.ifc.ShadowDom:return new il(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=Ln(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ne),u.LFG(rn),u.LFG(u.AFp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class wr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ji[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const c=Ji[o];c?e.setAttributeNS(c,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Ji[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(t,r,o&u.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&u.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,xi(r)):this.eventManager.addEventListener(e,t,xi(r))}}class hd extends wr{constructor(e,t,r,o){super(e),this.component=r;const c=Ln(o+"-"+r.id,r.styles,[]);t.addStyles(c),this.contentAttr="_ngcontent-%COMP%".replace(fi,o+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(fi,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class il extends wr{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Ln(o.id,o.styles,[]);for(let h=0;h<c.length;h++){const _=document.createElement("style");_.textContent=c[h],this.shadowRoot.appendChild(_)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Kc=(()=>{class n extends It{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const ec=["alt","control","meta","shift"],tf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Or={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let wa=(()=>{class n extends It{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const c=n.parseEventName(r),h=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(t,c.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let h="";if(ec.forEach(v=>{const D=r.indexOf(v);D>-1&&(r.splice(D,1),h+=v+".")}),h+=c,0!=r.length||0===c.length)return null;const _={};return _.domEventName=o,_.fullKey=h,_}static getEventFullKey(t){let r="",o=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&tc.hasOwnProperty(e)&&(e=tc[e]))}return tf[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ec.forEach(c=>{c!=o&&Or[c](t)&&(r+=c+".")}),r+=o,r}static eventCallback(t,r,o){return c=>{n.getEventFullKey(c)===t&&o.runGuarded(()=>r(c))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:cd},{provide:u.g9A,useValue:function(){us.makeCurrent(),pa.init()},multi:!0},{provide:re,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),tu=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:fs,useClass:Kc,multi:!0,deps:[re,u.R0b,u.Lbi]},{provide:fs,useClass:wa,multi:!0,deps:[re]},[],{provide:Gs,useClass:Gs,deps:[Ne,rn,u.AFp]},{provide:u.FYo,useExisting:Gs},{provide:zc,useExisting:rn},{provide:rn,useClass:rn,deps:[re]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Ne,useClass:Ne,deps:[fs,u.R0b]},{provide:class{},useClass:Qi,deps:[]},[]];let Xi=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:u.AFp,useValue:t.appId},{provide:hs,useExisting:u.AFp},Wn]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(n,12))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:tu,imports:[Fn,u.hGG]}),n})();"undefined"!=typeof window&&window;var sn=k(1915),Xe=k(2411),Kt=k(3405),ll=k(2108);class Ut extends Kt.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ll.N;return this._value}next(e){super.next(this._value=e)}}var ki=k(8151),Ws=k(5894),Jt=k(4168);class Zs extends Jt.L{notifyNext(e,t,r,o,c){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class sc extends Jt.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var cl=k(4651),Bn=k(5548);function Sa(n,e,t,r,o=new sc(n,t,r)){if(!o.closed)return e instanceof Bn.y?e.subscribe(o):(0,cl.s)(e)(o)}var zs=k(5433);const oc={};function af(...n){let e,t;return(0,ki.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ws.k)(n[0])&&(n=n[0]),(0,zs.n)(n,t).lift(new qs(e))}class qs{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new ul(e,this.resultSelector))}}class ul extends Zs{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(oc),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(Sa(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const o=this.values,h=this.toRespond?o[r]===oc?--this.toRespond:this.toRespond:0;o[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}const Eo=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Co=k(2225);function Do(...n){return(0,Co.J)(1)((0,Xe.of)(...n))}var Pr=k(172);function Aa(n){return new Bn.y(e=>{let t;try{t=n()}catch(o){return void e.error(o)}return(t?(0,sn.D)(t):(0,Pr.c)()).subscribe(e)})}var Ys=k(5783),ze=k(8053),qn=k(8345);function on(n,e){return"function"==typeof e?t=>t.pipe(on((r,o)=>(0,sn.D)(n(r,o)).pipe((0,ze.U)((c,h)=>e(r,c,o,h))))):t=>t.lift(new iu(n))}class iu{constructor(e){this.project=e}call(e,t){return t.subscribe(new ps(e,this.project))}}class ps extends qn.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(o){return void this.destination.error(o)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new qn.IY(this),o=this.destination;o.add(r),this.innerSubscription=(0,qn.ft)(e,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const Og=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function or(n){return e=>0===n?(0,Pr.c)():e.lift(new F0(n))}class F0{constructor(e){if(this.total=e,this.total<0)throw new Og}call(e,t){return t.subscribe(new Pg(e,this.total))}}class Pg extends Jt.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function Yt(...n){const e=n[n.length-1];return(0,ki.K)(e)?(n.pop(),t=>Do(n,t,e)):t=>Do(n,t)}function Na(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new cf(n,e,t))}}class cf{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new xg(e,this.accumulator,this.seed,this.hasSeed))}}class xg extends Jt.L{constructor(e,t,r,o){super(e),this.accumulator=t,this._seed=r,this.hasSeed=o,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(o){this.destination.error(o)}this.seed=r,this.destination.next(r)}}function In(n,e){return function(r){return r.lift(new kg(n,e))}}class kg{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new md(e,this.predicate,this.thisArg))}}class md extends Jt.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function Io(n){return function(t){const r=new So(n),o=t.lift(r);return r.caught=o}}class So{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Fg(e,this.selector,this.caught))}}class Fg extends qn.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(c){return void super.error(c)}this._unsubscribeAndRecycle();const r=new qn.IY(this);this.add(r);const o=(0,qn.ft)(t,r);o!==r&&this.add(o)}}}var Ot=k(4421);function gi(n,e){return(0,Ot.zg)(n,e,1)}function es(n){return function(t){return 0===n?(0,Pr.c)():t.lift(new _d(n))}}class _d{constructor(e){if(this.total=e,this.total<0)throw new Og}call(e,t){return t.subscribe(new ac(e,this.total))}}class ac extends Jt.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,o=this.count++;t.length<r?t.push(e):t[o%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,o=this.ring;for(let c=0;c<r;c++){const h=t++%r;e.next(o[h])}}e.complete()}}function Kn(n=Ma){return e=>e.lift(new nr(n))}class nr{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new dl(e,this.errorFactory))}}class dl extends Jt.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Ma(){return new Eo}function Qs(n=null){return e=>e.lift(new yd(n))}class yd{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new su(e,this.defaultValue))}}class su extends Jt.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Js=k(7255);function Ra(n,e){const t=arguments.length>=2;return r=>r.pipe(n?In((o,c)=>n(o,c,r)):Js.y,or(1),t?Qs(e):Kn(()=>new Eo))}var Yn=k(1366),Qn=k(5234),Oa=k(1346);class bd{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ou(e,this.callback))}}class ou extends Jt.L{constructor(e,t){super(e),this.add(new Oa.w(t))}}class ts{constructor(e,t){this.id=e,this.url=t}}class Pa extends ts{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class hl extends ts{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class df extends ts{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class E extends ts{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I extends ts{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class M extends ts{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class U extends ts{constructor(e,t,r,o,c){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class J extends ts{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class de extends ts{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $e{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class We{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bt{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ln{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ar{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Er{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Qe="primary";class Fi{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xs(n){return new Fi(n)}const pn="ngNavigationCancelingError";function ei(n){const e=Error("NavigationCancelingError: "+n);return e[pn]=!0,e}function gs(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const h=r[c],_=n[c];if(h.startsWith(":"))o[h.substring(1)]=_;else if(h!==_.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function eo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let c=0;c<t.length;c++)if(o=t[c],!vd(n[o],e[o]))return!1;return!0}function vd(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,c)=>r[c]===o)}return n===e}function Td(n){return Array.prototype.concat.apply([],n)}function xa(n){return n.length>0?n[n.length-1]:null}function Jn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function lr(n){return(0,u.CqO)(n)?n:(0,u.QGY)(n)?(0,sn.D)(Promise.resolve(n)):(0,Xe.of)(n)}const Lg={exact:function Bg(n,e,t){if(!ml(n.segments,e.segments)||!Ed(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Bg(n.children[r],e.children[r],t))return!1;return!0},subset:gl},wd={exact:function(n,e){return eo(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>vd(n[t],e[t]))},ignored:()=>!0};function pl(n,e,t){return Lg[t.paths](n.root,e.root,t.matrixParams)&&wd[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function gl(n,e,t){return No(n,e,e.segments,t)}function No(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!ml(o,t)||e.hasChildren()||!Ed(o,t,r))}if(n.segments.length===t.length){if(!ml(n.segments,t)||!Ed(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!gl(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),c=t.slice(n.segments.length);return!!(ml(n.segments,o)&&Ed(n.segments,o,r)&&n.children[Qe])&&No(n.children[Qe],e,c,r)}}function Ed(n,e,t){return e.every((r,o)=>wd[t](n[o].parameters,r.parameters))}class lc{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return hf.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Jn(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mo(this)}}class au{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xs(this.parameters)),this._parameterMap}toString(){return gf(this)}}function ml(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Gg{}class _l{parse(e){const t=new _f(e);return new lc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${lu(e.root,!0)}`,r=function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${ff(t)}=${ff(o)}`).join("&"):`${ff(t)}=${ff(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);var n;return`${t}${r}${"string"==typeof e.fragment?`#${n=e.fragment,encodeURI(n)}`:""}`}}const hf=new _l;function Mo(n){return n.segments.map(e=>gf(e)).join("/")}function lu(n,e){if(!n.hasChildren())return Mo(n);if(e){const t=n.children[Qe]?lu(n.children[Qe],!1):"",r=[];return Jn(n.children,(o,c)=>{c!==Qe&&r.push(`${c}:${lu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Jn(n.children,(r,o)=>{o===Qe&&(t=t.concat(e(r,o)))}),Jn(n.children,(r,o)=>{o!==Qe&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Qe?[lu(n.children[Qe],!1)]:[`${o}:${lu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Qe]?`${Mo(n)}/${t[0]}`:`${Mo(n)}/(${t.join("//")})`}}function Hg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ff(n){return Hg(n).replace(/%3B/gi,";")}function uu(n){return Hg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function du(n){return decodeURIComponent(n)}function pf(n){return du(n.replace(/\+/g,"%20"))}function gf(n){return`${uu(n.path)}${function(n){return Object.keys(n).map(e=>`;${uu(e)}=${uu(n[e])}`).join("")}(n.parameters)}`}const mf=/^[^\/()?;=#]+/;function Cd(n){const e=n.match(mf);return e?e[0]:""}const jg=/^[^=?&#]+/,ms=/^[^&#]+/;class _f{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Qe]=new xt(e,t)),r}parseSegment(){const e=Cd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new au(du(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Cd(this.remaining);o&&(r=o,this.capture(r))}e[du(t)]=du(r)}parseQueryParam(e){const t=function(n){const e=n.match(jg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(ms);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=pf(t),c=pf(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(c)}else e[o]=c}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cd(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let c;r.indexOf(":")>-1?(c=r.substr(0,r.indexOf(":")),this.capture(c),this.capture(":")):e&&(c=Qe);const h=this.parseChildren();t[c]=1===Object.keys(h).length?h[Qe]:new xt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class yf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=bf(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=bf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=vf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return vf(e,this._root).map(t=>t.value)}}function bf(n,e){if(n===e.value)return e;for(const t of e.children){const r=bf(n,t);if(r)return r}return null}function vf(n,e){if(n===e.value)return[e];for(const t of e.children){const r=vf(n,t);if(r.length)return r.unshift(e),r}return[]}class Oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function hu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Po extends yf{constructor(e,t){super(e),this.snapshot=t,dc(this,e)}toString(){return this.snapshot.toString()}}function $g(n,e){const t=function(n,e){const h=new Dd([],{},{},"",{},Qe,e,null,n.root,-1,{});return new uc("",new Oo(h,[]))}(n,e),r=new Ut([new au("",{})]),o=new Ut({}),c=new Ut({}),h=new Ut({}),_=new Ut(""),v=new Fa(r,o,h,_,c,Qe,e,t.root);return v.snapshot=t.root,new Po(new Oo(v,[]),t)}class Fa{constructor(e,t,r,o,c,h,_,v){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this._futureSnapshot=v}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ze.U)(e=>Xs(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ze.U)(e=>Xs(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wg(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],c=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(c.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:ct(ct({},e.params),t.params),data:ct(ct({},e.data),t.data),resolve:ct(ct({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Dd{constructor(e,t,r,o,c,h,_,v,D,N,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=h,this.component=_,this.routeConfig=v,this._urlSegment=D,this._lastPathIndex=N,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class uc extends yf{constructor(e,t){super(t),this.url=e,dc(this,t)}toString(){return _s(this._root)}}function dc(n,e){e.value._routerState=n,e.children.forEach(t=>dc(n,t))}function _s(n){const e=n.children.length>0?` { ${n.children.map(_s).join(", ")} } `:"";return`${n.value}${e}`}function yl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,eo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),eo(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!eo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),eo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hc(n,e){const t=eo(n.params,e.params)&&function(n,e){return ml(n,e)&&n.every((t,r)=>eo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hc(n.parent,e.parent))}function fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return fc(n,r,o);return fc(n,r)})}(n,e,t);return new Oo(r,o)}{if(n.shouldAttach(e.value)){const c=n.retrieve(e.value);if(null!==c){const h=c.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(_=>fc(n,_)),h}}const r=function(n){return new Fa(new Ut(n.url),new Ut(n.params),new Ut(n.queryParams),new Ut(n.fragment),new Ut(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(c=>fc(n,c));return new Oo(r,o)}}function bl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xo(n){return"object"==typeof n&&null!=n&&n.outlets}function fu(n,e,t,r,o){let c={};return r&&Jn(r,(h,_)=>{c[_]=Array.isArray(h)?h.map(v=>`${v}`):`${h}`}),new lc(t.root===n?e:H0(t.root,n,e),c,o)}function H0(n,e,t){const r={};return Jn(n.children,(o,c)=>{r[c]=o===e?t:H0(o,e,t)}),new xt(n.segments,r)}class Tf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bl(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(xo);if(o&&o!==xa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ef(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return vl(n,e,t);const r=function(n,e,t){let r=0,o=e;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return c;const h=n.segments[o],_=t[r];if(xo(_))break;const v=`${_}`,D=r<t.length-1?t[r+1]:null;if(o>0&&void 0===v)break;if(v&&D&&"object"==typeof D&&void 0===D.outlets){if(!qg(v,D,h))return c;r+=2}else{if(!qg(v,{},h))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new xt(n.segments.slice(0,r.pathIndex),{});return c.children[Qe]=new xt(n.segments.slice(r.pathIndex),n.children),vl(c,0,o)}return r.match&&0===o.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?pu(n,e,t):r.match?vl(n,0,o):pu(n,e,t)}function vl(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function(n){return xo(n[0])?n[0].outlets:{[Qe]:n}}(t),o={};return Jn(r,(c,h)=>{"string"==typeof c&&(c=[c]),null!==c&&(o[h]=Ef(n.children[h],e,c))}),Jn(n.children,(c,h)=>{void 0===r[h]&&(o[h]=c)}),new xt(n.segments,o)}}function pu(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const c=t[o];if(xo(c)){const v=W0(c.outlets);return new xt(r,v)}if(0===o&&bl(t[0])){r.push(new au(n.segments[e].path,On(t[0]))),o++;continue}const h=xo(c)?c.outlets[Qe]:`${c}`,_=o<t.length-1?t[o+1]:null;h&&_&&bl(_)?(r.push(new au(h,On(_))),o+=2):(r.push(new au(h,{})),o++)}return new xt(r,{})}function W0(n){const e={};return Jn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pu(new xt([],{}),0,t))}),e}function On(n){const e={};return Jn(n,(t,r)=>e[r]=`${t}`),e}function qg(n,e,t){return n==t.path&&eo(e,t.parameters)}class Df{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),yl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=hu(t);e.children.forEach(c=>{const h=c.value.outlet;this.deactivateRoutes(c,o[h],r),delete o[h]}),Jn(o,(c,h)=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(o===c)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else c&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=hu(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);if(r&&r.outlet){const h=r.outlet.detach(),_=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:_})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,c=hu(e);for(const h of Object.keys(c))this.deactivateRouteAndItsChildren(c[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=hu(t);e.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new ar(c.value.snapshot))}),e.children.length&&this.forwardEvent(new Bt(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,c=t?t.value:null;if(yl(o),o===c)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const _=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(_.contexts),h.attachRef=_.componentRef,h.route=_.route.value,h.outlet&&h.outlet.attach(_.componentRef,_.route.value),yl(_.route.value),this.activateChildRoutes(e,null,h.children)}else{const _=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),v=_?_.module.componentFactoryResolver:null;h.attachRef=null,h.route=o,h.resolver=v,h.outlet&&h.outlet.activateWith(o,v),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}class Sf{constructor(e,t){this.routes=e,this.module=t}}function La(n){return"function"==typeof n}function Tl(n){return n instanceof lc}const cr=Symbol("INITIAL_VALUE");function ko(){return on(n=>af(n.map(e=>e.pipe(or(1),Yt(cr)))).pipe(Na((e,t)=>{let r=!1;return t.reduce((o,c,h)=>o!==cr?o:(c===cr&&(r=!0),r||!1!==c&&h!==t.length-1&&!Tl(c)?o:c),e)},cr),In(e=>e!==cr),(0,ze.U)(e=>Tl(e)?e:!0===e),or(1)))}class _i{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new to,this.attachRef=null}}class to{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new _i,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let rr=(()=>{class n{constructor(t,r,o,c,h){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.name=c||Qe,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),_=this.parentContexts.getOrCreateContext(this.name).children,v=new gu(t,_,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,v),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(to),u.Y36(u.s_b),u.Y36(u._Vd),u.$8M("name"),u.Y36(u.sBO))},n.\u0275dir=u.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class gu{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Fa?this.route:e===to?this.childContexts:this.parent.get(e,t)}}let gc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[rr],encapsulation:2}),n})();function Nd(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];z0(r,Af(e,r))}}function z0(n,e){n.children&&Nd(n.children,e)}function Af(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Nf(n){const e=n.children&&n.children.map(Nf),t=e?ai(ct({},n),{children:e}):ct({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Qe&&(t.component=gc),t}function ir(n){return n.outlet||Qe}function Mf(n,e){const t=n.filter(r=>ir(r)===e);return t.push(...n.filter(r=>ir(r)!==e)),t}const Rf={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Md(n,e,t){var _;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?ct({},Rf):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const o=(e.matcher||gs)(t,n,e);if(!o)return ct({},Rf);const c={};Jn(o.posParams,(v,D)=>{c[D]=v.path});const h=o.consumed.length>0?ct(ct({},c),o.consumed[o.consumed.length-1].parameters):c;return{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:h,positionalParamSegments:null!=(_=o.posParams)?_:{}}}function Rd(n,e,t,r,o="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>Pd(n,e,r)&&ir(r)!==Qe)}(n,t,r)){const h=new xt(e,function(n,e,t,r){const o={};o[Qe]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const c of t)if(""===c.path&&ir(c)!==Qe){const h=new xt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ir(c)]=h}return o}(n,e,r,new xt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>Pd(n,e,r))}(n,t,r)){const h=new xt(n.segments,function(n,e,t,r,o,c){const h={};for(const _ of r)if(Pd(n,t,_)&&!o[ir(_)]){const v=new xt([],{});v._sourceSegment=n,v._segmentIndexShift="legacy"===c?n.segments.length:e.length,h[ir(_)]=v}return ct(ct({},o),h)}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const c=new xt(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}function Pd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Fo(n,e,t,r){return!!(ir(n)===r||r!==Qe&&Pd(e,t,n))&&("**"===n.path||Md(e,n,t).matched)}function wl(n,e,t){return 0===e.length&&!n.children[t]}class Lo{constructor(e){this.segmentGroup=e||null}}class Of{constructor(e){this.urlTree=e}}function mc(n){return new Bn.y(e=>e.error(new Lo(n)))}function El(n){return new Bn.y(e=>e.error(new Of(n)))}function q0(n){return new Bn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class b{constructor(e,t,r,o,c){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=c,this.allowRedirects=!0,this.ngModule=e.get(u.h0i)}apply(){const e=Rd(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Qe).pipe((0,ze.U)(c=>this.createUrlTree(g(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Io(c=>{if(c instanceof Of)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof Lo?this.noMatchError(c):c}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Qe).pipe((0,ze.U)(o=>this.createUrlTree(g(o),e.queryParams,e.fragment))).pipe(Io(o=>{throw o instanceof Lo?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new xt([],{[Qe]:e}):e;return new lc(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ze.U)(c=>new xt([],c))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const c of Object.keys(r.children))"primary"===c?o.unshift(c):o.push(c);return(0,sn.D)(o).pipe(gi(c=>{const h=r.children[c],_=Mf(t,c);return this.expandSegmentGroup(e,_,h,c).pipe((0,ze.U)(v=>({segment:v,outlet:c})))}),Na((c,h)=>(c[h.outlet]=h.segment,c),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?In((o,c)=>n(o,c,r)):Js.y,es(1),t?Qs(e):Kn(()=>new Eo))}())}expandSegment(e,t,r,o,c,h){return(0,sn.D)(r).pipe(gi(_=>this.expandSegmentAgainstRoute(e,t,r,_,o,c,h).pipe(Io(D=>{if(D instanceof Lo)return(0,Xe.of)(null);throw D}))),Ra(_=>!!_),Io((_,v)=>{if(_ instanceof Eo||"EmptyError"===_.name){if(wl(t,o,c))return(0,Xe.of)(new xt([],{}));throw new Lo(t)}throw _}))}expandSegmentAgainstRoute(e,t,r,o,c,h,_){return Fo(o,t,c,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,c,h):_&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h):mc(t):mc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const c=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?El(c):this.lineralizeSegments(r,c).pipe((0,Ot.zg)(h=>{const _=new xt(h,{});return this.expandSegment(e,_,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,c,h){const{matched:_,consumedSegments:v,lastChild:D,positionalParamSegments:N}=Md(t,o,c);if(!_)return mc(t);const R=this.applyRedirectCommands(v,o.redirectTo,N);return o.redirectTo.startsWith("/")?El(R):this.lineralizeSegments(o,R).pipe((0,Ot.zg)(B=>this.expandSegment(e,t,r,B.concat(c.slice(D)),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,c){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,ze.U)(B=>(r._loadedConfig=B,new xt(o,{})))):(0,Xe.of)(new xt(o,{}));const{matched:h,consumedSegments:_,lastChild:v}=Md(t,r,o);if(!h)return mc(t);const D=o.slice(v);return this.getChildConfig(e,r,o).pipe((0,Ot.zg)(R=>{const B=R.module,H=R.routes,{segmentGroup:ie,slicedSegments:Ce}=Rd(t,_,D,H),Re=new xt(ie.segments,ie.children);if(0===Ce.length&&Re.hasChildren())return this.expandChildren(B,H,Re).pipe((0,ze.U)(st=>new xt(_,st)));if(0===H.length&&0===Ce.length)return(0,Xe.of)(new xt(_,{}));const et=ir(r)===c;return this.expandSegment(B,Re,H,Ce,et?Qe:c,!0).pipe((0,ze.U)(St=>new xt(_.concat(St.segments),St.children)))}))}getChildConfig(e,t,r){return t.children?(0,Xe.of)(new Sf(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Xe.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ot.zg)(o=>{return o?this.configLoader.load(e.injector,t).pipe((0,ze.U)(c=>(t._loadedConfig=c,c))):(n=t,new Bn.y(e=>e.error(ei(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Xe.of)(new Sf([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,Xe.of)(!0);const c=o.map(h=>{const _=e.get(h);let v;if((n=_)&&La(n.canLoad))v=_.canLoad(t,r);else{if(!La(_))throw new Error("Invalid CanLoad guard");v=_(t,r)}var n;return lr(v)});return(0,Xe.of)(c).pipe(ko(),(0,Yn.b)(h=>{if(!Tl(h))return;const _=ei(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw _.url=h,_}),(0,ze.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,Xe.of)(r);if(o.numberOfChildren>1||!o.children[Qe])return q0(e.redirectTo);o=o.children[Qe]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const c=this.createSegmentGroup(e,t.root,r,o);return new lc(c,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Jn(e,(o,c)=>{if("string"==typeof o&&o.startsWith(":")){const _=o.substring(1);r[c]=t[_]}else r[c]=o}),r}createSegmentGroup(e,t,r,o){const c=this.createSegments(e,t.segments,r,o);let h={};return Jn(t.children,(_,v)=>{h[v]=this.createSegmentGroup(e,_,r,o)}),new xt(c,h)}createSegments(e,t,r,o){return t.map(c=>c.path.startsWith(":")?this.findPosParam(e,c,o):this.findOrReturn(c,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function g(n){const e={};for(const r of Object.keys(n.children)){const c=g(n.children[r]);(c.segments.length>0||c.hasChildren())&&(e[r]=c)}return function(n){if(1===n.numberOfChildren&&n.children[Qe]){const e=n.children[Qe];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}class A{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class P{constructor(e,t){this.component=e,this.route=t}}function q(n,e,t){const r=n._root;return dt(r,e?e._root:null,t,[r.value])}function Le(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function dt(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=hu(e);return n.children.forEach(h=>{(function(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,h=e?e.value:null,_=t?t.getContext(n.value.outlet):null;if(h&&c.routeConfig===h.routeConfig){const v=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ml(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ml(n.url,e.url)||!eo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hc(n,e)||!eo(n.queryParams,e.queryParams);default:return!hc(n,e)}}(h,c,c.routeConfig.runGuardsAndResolvers);v?o.canActivateChecks.push(new A(r)):(c.data=h.data,c._resolvedData=h._resolvedData),dt(n,e,c.component?_?_.children:null:t,r,o),v&&_&&_.outlet&&_.outlet.isActivated&&o.canDeactivateChecks.push(new P(_.outlet.component,h))}else h&&yi(e,_,o),o.canActivateChecks.push(new A(r)),dt(n,null,c.component?_?_.children:null:t,r,o)})(h,c[h.value.outlet],t,r.concat([h.value]),o),delete c[h.value.outlet]}),Jn(c,(h,_)=>yi(h,t.getContext(_),o)),o}function yi(n,e,t){const r=hu(n),o=n.value;Jn(r,(c,h)=>{yi(c,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new P(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Cl{}function kd(n){return new Bn.y(e=>e.error(n))}class yu{constructor(e,t,r,o,c,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=h}recognize(){const e=Rd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Qe);if(null===t)return null;const r=new Dd([],Object.freeze({}),Object.freeze(ct({},this.urlTree.queryParams)),this.urlTree.fragment,{},Qe,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Oo(r,t),c=new uc(this.url,o);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(e){const t=e.value,r=Wg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const c of Object.keys(t.children)){const h=t.children[c],_=Mf(e,c),v=this.processSegmentGroup(_,h,c);if(null===v)return null;r.push(...v)}const o=bu(r);return o.sort((e,t)=>e.value.outlet===Qe?-1:t.value.outlet===Qe?1:e.value.outlet.localeCompare(t.value.outlet)),o}processSegment(e,t,r,o){for(const c of e){const h=this.processSegmentAgainstRoute(c,t,r,o);if(null!==h)return h}return wl(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Fo(e,t,r,o))return null;let c,h=[],_=[];if("**"===e.path){const H=r.length>0?xa(r).parameters:{};c=new Dd(r,H,Object.freeze(ct({},this.urlTree.queryParams)),this.urlTree.fragment,nm(e),ir(e),e.component,e,Q0(t),k1(t)+r.length,F1(e))}else{const H=Md(t,e,r);if(!H.matched)return null;h=H.consumedSegments,_=r.slice(H.lastChild),c=new Dd(h,H.parameters,Object.freeze(ct({},this.urlTree.queryParams)),this.urlTree.fragment,nm(e),ir(e),e.component,e,Q0(t),k1(t)+h.length,F1(e))}const v=(n=e).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:D,slicedSegments:N}=Rd(t,h,_,v.filter(H=>void 0===H.redirectTo),this.relativeLinkResolution);var n;if(0===N.length&&D.hasChildren()){const H=this.processChildren(v,D);return null===H?null:[new Oo(c,H)]}if(0===v.length&&0===N.length)return[new Oo(c,[])];const R=ir(e)===o,B=this.processSegment(v,D,N,R?Qe:o);return null===B?null:[new Oo(c,B)]}}function WO(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function bu(n){const e=[],t=new Set;for(const r of n){if(!WO(r)){e.push(r);continue}const o=e.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=bu(r.children);e.push(new Oo(r.value,o))}return e.filter(r=>!t.has(r))}function Q0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function k1(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function nm(n){return n.data||{}}function F1(n){return n.resolve||{}}function rm(n){return on(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,ze.U)(()=>e)):(0,Xe.of)(e)})}class X0 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const ey=new u.OlP("ROUTES");class V1{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,ze.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=c.create(e);return new Sf(Td(h.injector.get(ey,void 0,u.XFs.Self|u.XFs.Optional)).map(Nf),h)}),Io(c=>{throw t._loader$=void 0,c}));return t._loader$=new Ys.c(o,()=>new Kt.xQ).pipe((0,Qn.x)()),t._loader$}loadModuleFactory(e){return lr(e()).pipe((0,Ot.zg)(t=>t instanceof u.YKP?(0,Xe.of)(t):(0,sn.D)(this.compiler.compileModuleAsync(t))))}}class U1{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vu(n){throw n}function G1(n,e,t){return e.parse("/")}function ty(n,e){return(0,Xe.of)(null)}const zD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},im={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let bi=(()=>{class n{constructor(t,r,o,c,h,_,v){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=c,this.config=v,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kt.xQ,this.errorHandler=vu,this.malformedUriErrorHandler=G1,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:ty,afterPreactivation:ty},this.urlHandlingStrategy=new U1,this.routeReuseStrategy=new X0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(u.h0i),this.console=h.get(u.c2e);const R=h.get(u.R0b);this.isNgZoneEnabled=R instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(v),this.currentUrlTree=new lc(new xt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new V1(h,_,B=>this.triggerEvent(new Me(B)),B=>this.triggerEvent(new $e(B))),this.routerState=$g(this.currentUrlTree,this.rootComponentType),this.transitions=new Ut({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(In(o=>0!==o.id),(0,ze.U)(o=>ai(ct({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),on(o=>{let c=!1,h=!1;return(0,Xe.of)(o).pipe((0,Yn.b)(_=>{this.currentNavigation={id:_.id,initialUrl:_.currentRawUrl,extractedUrl:_.extractedUrl,trigger:_.source,extras:_.extras,previousNavigation:this.lastSuccessfulNavigation?ai(ct({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),on(_=>{const v=this.browserUrlTree.toString(),D=!this.navigated||_.extractedUrl.toString()!==v||v!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(_.rawUrl))return Lf(_.source)&&(this.browserUrlTree=_.extractedUrl),(0,Xe.of)(_).pipe(on(R=>{const B=this.transitions.getValue();return r.next(new Pa(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),B!==this.transitions.getValue()?Pr.E:Promise.resolve(R)}),function(n,e,t,r){return on(o=>function(n,e,t,r,o){return new b(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,ze.U)(c=>ai(ct({},o),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yn.b)(R=>{this.currentNavigation=ai(ct({},this.currentNavigation),{finalUrl:R.urlAfterRedirects})}),function(n,e,t,r,o){return(0,Ot.zg)(c=>function(n,e,t,r,o="emptyOnly",c="legacy"){try{const h=new yu(n,e,t,r,o,c).recognize();return null===h?kd(new Cl):(0,Xe.of)(h)}catch(h){return kd(h)}}(n,e,c.urlAfterRedirects,t(c.urlAfterRedirects),r,o).pipe((0,ze.U)(h=>ai(ct({},c),{targetSnapshot:h}))))}(this.rootComponentType,this.config,R=>this.serializeUrl(R),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yn.b)(R=>{if("eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const H=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(H,R)}this.browserUrlTree=R.urlAfterRedirects}const B=new I(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(B)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:B,extractedUrl:H,source:ie,restoredState:Ce,extras:Re}=_,et=new Pa(B,this.serializeUrl(H),ie,Ce);r.next(et);const ht=$g(H,this.rootComponentType).snapshot;return(0,Xe.of)(ai(ct({},_),{targetSnapshot:ht,urlAfterRedirects:H,extras:ai(ct({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=_.rawUrl,_.resolve(null),Pr.E}),rm(_=>{const{targetSnapshot:v,id:D,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:B,replaceUrl:H}}=_;return this.hooks.beforePreactivation(v,{navigationId:D,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!B,replaceUrl:!!H})}),(0,Yn.b)(_=>{const v=new M(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(v)}),(0,ze.U)(_=>ai(ct({},_),{guards:q(_.targetSnapshot,_.currentSnapshot,this.rootContexts)})),function(n,e){return(0,Ot.zg)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:h}}=t;return 0===h.length&&0===c.length?(0,Xe.of)(ai(ct({},t),{guardsResult:!0})):function(n,e,t,r){return(0,sn.D)(n).pipe((0,Ot.zg)(o=>function(n,e,t,r,o){const c=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!c||0===c.length)return(0,Xe.of)(!0);const h=c.map(_=>{const v=Le(_,e,o);let D;if(function(n){return n&&La(n.canDeactivate)}(v))D=lr(v.canDeactivate(n,e,t,r));else{if(!La(v))throw new Error("Invalid CanDeactivate guard");D=lr(v(n,e,t,r))}return D.pipe(Ra())});return(0,Xe.of)(h).pipe(ko())}(o.component,o.route,t,e,r)),Ra(o=>!0!==o,!0))}(h,r,o,n).pipe((0,Ot.zg)(_=>_&&function(n){return"boolean"==typeof n}(_)?function(n,e,t,r){return(0,sn.D)(e).pipe(gi(o=>Do(function(n,e){return null!==n&&e&&e(new We(n)),(0,Xe.of)(!0)}(o.route.parent,r),function(n,e){return null!==n&&e&&e(new ln(n)),(0,Xe.of)(!0)}(o.route,r),function(n,e,t){const r=e[e.length-1],c=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>Aa(()=>{const _=h.guards.map(v=>{const D=Le(v,h.node,t);let N;if(function(n){return n&&La(n.canActivateChild)}(D))N=lr(D.canActivateChild(r,n));else{if(!La(D))throw new Error("Invalid CanActivateChild guard");N=lr(D(r,n))}return N.pipe(Ra())});return(0,Xe.of)(_).pipe(ko())}));return(0,Xe.of)(c).pipe(ko())}(n,o.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Xe.of)(!0);const o=r.map(c=>Aa(()=>{const h=Le(c,e,t);let _;if(function(n){return n&&La(n.canActivate)}(h))_=lr(h.canActivate(e,n));else{if(!La(h))throw new Error("Invalid CanActivate guard");_=lr(h(e,n))}return _.pipe(Ra())}));return(0,Xe.of)(o).pipe(ko())}(n,o.route,t))),Ra(o=>!0!==o,!0))}(r,c,n,e):(0,Xe.of)(_)),(0,ze.U)(_=>ai(ct({},t),{guardsResult:_})))})}(this.ngModule.injector,_=>this.triggerEvent(_)),(0,Yn.b)(_=>{if(Tl(_.guardsResult)){const D=ei(`Redirecting to "${this.serializeUrl(_.guardsResult)}"`);throw D.url=_.guardsResult,D}const v=new U(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot,!!_.guardsResult);this.triggerEvent(v)}),In(_=>!!_.guardsResult||(this.restoreHistory(_),this.cancelNavigationTransition(_,""),!1)),rm(_=>{if(_.guards.canActivateChecks.length)return(0,Xe.of)(_).pipe((0,Yn.b)(v=>{const D=new J(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}),on(v=>{let D=!1;return(0,Xe.of)(v).pipe(function(n,e){return(0,Ot.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,Xe.of)(t);let c=0;return(0,sn.D)(o).pipe(gi(h=>function(n,e,t,r){return function(n,e,t,r){const o=Object.keys(n);if(0===o.length)return(0,Xe.of)({});const c={};return(0,sn.D)(o).pipe((0,Ot.zg)(h=>function(n,e,t,r){const o=Le(n,e,r);return lr(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe((0,Yn.b)(_=>{c[h]=_}))),es(1),(0,Ot.zg)(()=>Object.keys(c).length===o.length?(0,Xe.of)(c):Pr.E))}(n._resolve,n,e,r).pipe((0,ze.U)(c=>(n._resolvedData=c,n.data=ct(ct({},n.data),Wg(n,t).resolve),null)))}(h.route,r,n,e)),(0,Yn.b)(()=>c++),es(1),(0,Ot.zg)(h=>c===o.length?(0,Xe.of)(t):Pr.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yn.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(v),this.cancelNavigationTransition(v,"At least one route resolver didn't emit any value."))}}))}),(0,Yn.b)(v=>{const D=new de(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(D)}))}),rm(_=>{const{targetSnapshot:v,id:D,extractedUrl:N,rawUrl:R,extras:{skipLocationChange:B,replaceUrl:H}}=_;return this.hooks.afterPreactivation(v,{navigationId:D,appliedUrlTree:N,rawUrlTree:R,skipLocationChange:!!B,replaceUrl:!!H})}),(0,ze.U)(_=>{const v=function(n,e,t){const r=fc(n,e._root,t?t._root:void 0);return new Po(r,e)}(this.routeReuseStrategy,_.targetSnapshot,_.currentRouterState);return ai(ct({},_),{targetRouterState:v})}),(0,Yn.b)(_=>{this.currentUrlTree=_.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(_.urlAfterRedirects,_.rawUrl),this.routerState=_.targetRouterState,"deferred"===this.urlUpdateStrategy&&(_.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,_),this.browserUrlTree=_.urlAfterRedirects)}),((n,e,t)=>(0,ze.U)(r=>(new Df(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,_=>this.triggerEvent(_)),(0,Yn.b)({next(){c=!0},complete(){c=!0}}),function(n){return e=>e.lift(new bd(n))}(()=>{var _;c||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null==(_=this.currentNavigation)?void 0:_.id)===o.id&&(this.currentNavigation=null)}),Io(_=>{if(h=!0,function(n){return n&&n[pn]}(_)){const v=Tl(_.url);v||(this.navigated=!0,this.restoreHistory(o,!0));const D=new df(o.id,this.serializeUrl(o.extractedUrl),_.message);r.next(D),v?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(_.url,this.rawUrlTree),R={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lf(o.source)};this.scheduleNavigation(N,"imperative",null,R,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const v=new E(o.id,this.serializeUrl(o.extractedUrl),_);r.next(v);try{o.resolve(this.errorHandler(_))}catch(D){o.reject(D)}}return Pr.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(ct(ct({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var _;const o={replaceUrl:!0},c=(null==(_=t.state)?void 0:_.navigationId)?t.state:null;if(c){const v=ct({},c);delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(o.state=v)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,c,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Nd(t),this.config=t.map(Nf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:c,fragment:h,queryParamsHandling:_,preserveFragment:v}=r,D=o||this.routerState.root,N=v?this.currentUrlTree.fragment:h;let R=null;switch(_){case"merge":R=ct(ct({},this.currentUrlTree.queryParams),c);break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=c||null}return null!==R&&(R=this.removeEmptyProps(R)),function(n,e,t,r,o){if(0===t.length)return fu(e.root,e.root,e,r,o);const c=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tf(!0,0,n);let e=0,t=!1;const r=n.reduce((o,c,h)=>{if("object"==typeof c&&null!=c){if(c.outlets){const _={};return Jn(c.outlets,(v,D)=>{_[D]="string"==typeof v?v.split("/"):v}),[...o,{outlets:_}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===h?(c.split("/").forEach((_,v)=>{0==v&&"."===_||(0==v&&""===_?t=!0:".."===_?e++:""!=_&&o.push(_))}),o):[...o,c]},[]);return new Tf(t,e,r)}(t);if(c.toRoot())return fu(e.root,new xt([],{}),e,r,o);const h=function(n,e,t){if(n.isAbsolute)return new wf(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const c=t.snapshot._urlSegment;return new wf(c,c===e.root,0)}const r=bl(n.commands[0])?0:1;return function(n,e,t){let r=n,o=e,c=t;for(;c>o;){if(c-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new wf(r,!1,o-c)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(c,e,n),_=h.processChildren?vl(h.segmentGroup,h.index,c.commands):Ef(h.segmentGroup,h.index,c.commands);return fu(h.segmentGroup,_,e,r,o)}(D,this.currentUrlTree,t,R,null!=N?N:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Tl(t)?t:this.parseUrl(t),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?ct({},zD):!1===r?ct({},im):r,Tl(t))return pl(this.currentUrlTree,t,o);const c=this.parseUrl(t);return pl(this.currentUrlTree,c,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const c=t[o];return null!=c&&(r[o]=c),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new hl(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,c,h){var et,ht,St;if(this.disposed)return Promise.resolve(!1);const _=this.transitions.value,v=Lf(r)&&_&&!Lf(_.source),D=_.rawUrl.toString()===t.toString(),N=_.id===(null==(et=this.currentNavigation)?void 0:et.id);if(v&&D&&N)return Promise.resolve(!0);let B,H,ie;h?(B=h.resolve,H=h.reject,ie=h.promise):ie=new Promise((st,jt)=>{B=st,H=jt});const Ce=++this.navigationId;let Re;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),Re=o&&o.\u0275routerPageId?o.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!=(ht=this.browserPageId)?ht:0:(null!=(St=this.browserPageId)?St:0)+1):Re=0,this.setTransition({id:Ce,targetPageId:Re,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:c,resolve:B,reject:H,promise:ie,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),ie.catch(st=>Promise.reject(st))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),c=ct(ct({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",c):this.location.go(o,"",c)}restoreHistory(t,r=!1){var o,c;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(o=this.currentNavigation)?void 0:o.finalUrl)||0===h?this.currentUrlTree===(null==(c=this.currentNavigation)?void 0:c.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new df(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function Lf(n){return"imperative"!==n}let sm=(()=>{class n{constructor(t,r,o,c,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=h,this.commands=null,this.onChanges=new Kt.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Tu(this.skipLocationChange),replaceUrl:Tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bi),u.Y36(Fa),u.$8M("tabindex"),u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})(),Fd=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Kt.xQ,this.subscription=t.events.subscribe(c=>{c instanceof hl&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,c,h){if(0!==t||r||o||c||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const _={skipLocationChange:Tu(this.skipLocationChange),replaceUrl:Tu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tu(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bi),u.Y36(Fa),u.Y36(pe))},n.\u0275dir=u.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&u.NdJ("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&t&&u.uIk("target",r.target)("href",r.href,u.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[u.TTD]}),n})();function Tu(n){return""===n||!!n}let Vf=(()=>{class n{constructor(t,r,o,c,h,_){this.router=t,this.element=r,this.renderer=o,this.cdr=c,this.link=h,this.linkWithHref=_,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new u.vpe,this.routerEventsSubscription=t.events.subscribe(v=>{v instanceof hl&&this.update()})}ngAfterContentInit(){(0,Xe.of)(this.links.changes,this.linksWithHrefs.changes,(0,Xe.of)(null)).pipe((0,Co.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var r;null==(r=this.linkInputChangesSubscription)||r.unsubscribe();const t=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(o=>!!o).map(o=>o.onChanges);this.linkInputChangesSubscription=(0,sn.D)(t).pipe((0,Co.J)()).subscribe(o=>{this.isActive!==this.isLinkActive(this.router)(o)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(o=>!!o)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null==(t=this.linkInputChangesSubscription)||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&t.isActive(o.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bi),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(u.sBO),u.Y36(sm,8),u.Y36(Fd,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,sm,5),u.Suo(o,Fd,5)),2&t){let c;u.iGM(c=u.CRH())&&(r.links=c),u.iGM(c=u.CRH())&&(r.linksWithHrefs=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[u.TTD]}),n})();class ny{}class iy{preload(e,t){return(0,Xe.of)(null)}}let am=(()=>{class n{constructor(t,r,o,c){this.router=t,this.injector=o,this.preloadingStrategy=c,this.loader=new V1(o,r,v=>t.triggerEvent(new Me(v)),v=>t.triggerEvent(new $e(v)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof hl),gi(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(u.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const c of r)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const h=c._loadedConfig;o.push(this.processRoutes(h.module,h.routes))}else c.loadChildren&&!c.canLoad?o.push(this.preloadConfig(t,c)):c.children&&o.push(this.processRoutes(t,c.children));return(0,sn.D)(o).pipe((0,Co.J)(),(0,ze.U)(c=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Xe.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ot.zg)(c=>(r._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(bi),u.LFG(u.Sil),u.LFG(u.zs3),u.LFG(ny))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),wu=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof hl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Er&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Er(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){u.$Z()},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();const _c=new u.OlP("ROUTER_CONFIGURATION"),j1=new u.OlP("ROUTER_FORROOT_GUARD"),qD=[Ge,{provide:Gg,useClass:_l},{provide:bi,useFactory:function(n,e,t,r,o,c,h={},_,v){const D=new bi(null,n,e,t,r,o,Td(c));return _&&(D.urlHandlingStrategy=_),v&&(D.routeReuseStrategy=v),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,D),h.enableTracing&&D.events.subscribe(N=>{var R,B;null==(R=console.group)||R.call(console,`Router Event: ${N.constructor.name}`),console.log(N.toString()),console.log(N),null==(B=console.groupEnd)||B.call(console)}),D},deps:[Gg,to,Ge,u.zs3,u.Sil,ey,_c,[class{},new u.FiY],[class{},new u.FiY]]},to,{provide:Fa,useFactory:function(n){return n.routerState.root},deps:[bi]},am,iy,class{preload(e,t){return t().pipe(Io(()=>(0,Xe.of)(null)))}},{provide:_c,useValue:{enableTracing:!1}}];function $1(){return new u.PXZ("Router",bi)}let Bf=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[qD,z1(t),{provide:j1,useFactory:Z1,deps:[[bi,new u.FiY,new u.tp0]]},{provide:_c,useValue:r||{}},{provide:pe,useFactory:zO,deps:[se,[new u.tBr(ae),new u.FiY],_c]},{provide:wu,useFactory:W1,deps:[bi,Xa,_c]},{provide:ny,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:iy},{provide:u.PXZ,multi:!0,useFactory:$1},[bs,{provide:u.ip1,multi:!0,useFactory:QD,deps:[bs]},{provide:Y1,useFactory:K1,deps:[bs]},{provide:u.tb,multi:!0,useExisting:Y1}]]}}static forChild(t){return{ngModule:n,providers:[z1(t)]}}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(j1,8),u.LFG(bi,8))},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();function W1(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new wu(n,e,t)}function zO(n,e,t={}){return t.useHash?new oe(n,e):new Se(n,e)}function Z1(n){return"guarded"}function z1(n){return[{provide:u.deG,multi:!0,useValue:n},{provide:ey,multi:!0,useValue:n}]}let bs=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Kt.xQ}appInitializer(){return this.injector.get(L,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(_=>r=_),c=this.injector.get(bi),h=this.injector.get(_c);return"disabled"===h.initialNavigation?(c.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?(0,Xe.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),c.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(_c),o=this.injector.get(am),c=this.injector.get(wu),h=this.injector.get(bi),_=this.injector.get(u.z2F);t===_.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),c.init(),h.resetRootComponentType(_.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.zs3))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();function QD(n){return n.appInitializer.bind(n)}function K1(n){return n.bootstrapListener.bind(n)}const Y1=new u.OlP("Router Initializer");var lm=k(8178);function cm(n,e=lm.P){return t=>t.lift(new XD(n,e))}class XD{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new eI(e,this.dueTime,this.scheduler))}}class eI extends Jt.L{constructor(e,t,r){super(e),this.dueTime=t,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tI,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function tI(n){n.debouncedNext()}const _t={UKNOWN:"Unknown"},um={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:_t.UKNOWN},Uf={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Eu={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Vo={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:_t.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},no=[Vo.PS4,Vo.CHROME_BOOK,Vo.MAC,Vo.DELL,Vo.ASUS,Vo.UNKNOWN],Q1={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:_t.UKNOWN},nI={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:_t.UKNOWN.toLowerCase()},dm={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},sy=Object.assign(Object.assign(Object.assign(Object.assign({},Uf),Eu),dm),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),hm={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Gf={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},rI=(n,e)=>(n[e]=hm[e],n),J1=Object.keys(hm).reduce(rI,{}),iI=(n,e)=>(n[um[e]]=Gf[e],n),Hf=Object.keys(Gf).reduce(iI,{});var vs=Object.freeze({__proto__:null,GENERAL:_t,BROWSERS:um,MOBILES_RE:Uf,TABLETS_RE:Eu,DEVICES:Vo,DESKTOP_DEVICES:no,OS:Q1,OS_VERSIONS:nI,OS_RE:dm,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:sy,OS_VERSIONS_RE_MAP:hm,BROWSER_VERSIONS_RE_MAP:Gf,OS_VERSIONS_RE:J1,BROWSER_VERSIONS_RE:Hf,\u02750:rI,\u02751:iI});class oy{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(r=>this.test(e,r)):t&&Array.isArray(t.or)?t.or.some(r=>this.test(e,r)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((r,o)=>r||this.exec(e,o),null):null}}var Il=(()=>{return(n=Il||(Il={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Il;var n})(),Cu=(()=>{return(n=Cu||(Cu={})).Portrait="portrait",n.Landscape="landscape",Cu;var n})();const X1="iPad";let sI=(()=>{class n{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new oy,this.deviceType="",this.orientation="",Pi(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(o=>{this[o.prop]=Object.keys(vs[o.const]).reduce((c,h)=>"device"===vs[o.const][h]&&Pi(this.platformId)&&(this.reTree.test(this.userAgent,Eu[X1])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(c[vs[o.const][h]]=X1,Object):(c[vs[o.const][h]]=this.reTree.test(t,vs[`${o.const}_RE`][h]),c),{})}),r.forEach(o=>{this[o.prop]=Object.keys(vs[o.const]).map(c=>vs[o.const][c]).reduce((c,h)=>"device"===o.prop&&c===vs[o.const].ANDROID?this[o.prop][h]?h:c:c===vs[o.const].UNKNOWN&&this[o.prop][h]?h:c,vs[o.const].UNKNOWN)}),this.browser_version="0",this.browser!==um.UNKNOWN){const c=this.reTree.exec(t,Hf[this.browser]);c&&(this.browser_version=c[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Cu.Landscape:Cu.Portrait:_t.UKNOWN,this.deviceType=this.isTablet()?Il.Tablet:this.isMobile(this.userAgent)?Il.Mobile:this.isDesktop(this.userAgent)?Il.Desktop:Il.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(Uf).find(o=>this.reTree.test(t,Uf[o]))}isTablet(t=this.userAgent){return!(!Pi(this.platformId)||!(this.reTree.test(this.userAgent,Eu[X1])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Eu).find(o=>!!this.reTree.test(t,Eu[o]))}isDesktop(t=this.userAgent){return(this.device!==Vo.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&no.indexOf(this.device)>-1}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.Lbi))},n.\u0275prov=u.Yz7({factory:function(){return new n(u.LFG(u.Lbi))},token:n,providedIn:"root"}),n})();var oI=k(6783);function vi(n,e,t,r){return(0,oI.m)(t)&&(r=t,t=void 0),r?vi(n,e,t).pipe((0,ze.U)(o=>(0,Ws.k)(o)?r(...o):r(o))):new Bn.y(o=>{ay(n,e,function(h){o.next(arguments.length>1?Array.prototype.slice.call(arguments):h)},o,t)})}function ay(n,e,t,r,o){let c;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const h=n;n.addEventListener(e,t,o),c=()=>h.removeEventListener(e,t,o)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const h=n;n.on(e,t),c=()=>h.off(e,t)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const h=n;n.addListener(e,t),c=()=>h.removeListener(e,t)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let h=0,_=n.length;h<_;h++)ay(n[h],e,t,r,o)}r.add(c)}var ly=k(8212);function cy(n=0,e,t){let r=-1;return(0,ly.k)(e)?r=Number(e)<1?1:Number(e):(0,ki.K)(e)&&(t=e),(0,ki.K)(t)||(t=lm.P),new Bn.y(o=>{const c=(0,ly.k)(n)?n:+n-t.now();return t.schedule(lI,c,{index:0,period:r,subscriber:o})})}function lI(n){const{index:e,period:t,subscriber:r}=n;if(r.next(e),!r.closed){if(-1===t)return r.complete();n.index=e+1,this.schedule(n,t)}}function fm(...n){if(1===n.length){if(!(0,Ws.k)(n[0]))return n[0];n=n[0]}return(0,zs.n)(n,void 0).lift(new JO)}class JO{call(e,t){return t.subscribe(new XO(e))}}class XO extends Zs{constructor(e){super(e),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(e){this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(let r=0;r<t&&!this.hasFirst;r++){const c=Sa(this,e[r],void 0,r);this.subscriptions&&this.subscriptions.push(c),this.add(c)}this.observables=null}}notifyNext(e,t,r){if(!this.hasFirst){this.hasFirst=!0;for(let o=0;o<this.subscriptions.length;o++)if(o!==r){let c=this.subscriptions[o];c.unsubscribe(),this.remove(c)}this.subscriptions=null}this.destination.next(t)}}var eP=k(3989);const yc=new Bn.y(eP.Z);var uy=k(4352);function dy(...n){const e=n[n.length-1];return"function"==typeof e&&n.pop(),(0,zs.n)(n,void 0).lift(new tP(e))}class tP{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new nP(e,this.resultSelector))}}class nP extends Jt.L{constructor(e,t,r=Object.create(null)){super(e),this.resultSelector=t,this.iterators=[],this.active=0,this.resultSelector="function"==typeof t?t:void 0}_next(e){const t=this.iterators;(0,Ws.k)(e)?t.push(new bc(e)):t.push("function"==typeof e[uy.hZ]?new rP(e[uy.hZ]()):new hy(this.destination,this,e))}_complete(){const e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(let r=0;r<t;r++){let o=e[r];o.stillUnsubscribed?this.destination.add(o.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const e=this.iterators,t=e.length,r=this.destination;for(let h=0;h<t;h++){let _=e[h];if("function"==typeof _.hasValue&&!_.hasValue())return}let o=!1;const c=[];for(let h=0;h<t;h++){let _=e[h],v=_.next();if(_.hasCompleted()&&(o=!0),v.done)return void r.complete();c.push(v.value)}this.resultSelector?this._tryresultSelector(c):r.next(c),o&&r.complete()}_tryresultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}class rP{constructor(e){this.iterator=e,this.nextResult=e.next()}hasValue(){return!0}next(){const e=this.nextResult;return this.nextResult=this.iterator.next(),e}hasCompleted(){const e=this.nextResult;return Boolean(e&&e.done)}}class bc{constructor(e){this.array=e,this.index=0,this.length=0,this.length=e.length}[uy.hZ](){return this}next(e){const t=this.index++;return t<this.length?{value:this.array[t],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class hy extends qn.Ds{constructor(e,t,r){super(e),this.parent=t,this.observable=r,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[uy.hZ](){return this}next(){const e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(e){this.buffer.push(e),this.parent.checkIterators()}subscribe(){return(0,qn.ft)(this.observable,new qn.IY(this))}}function fr(n){return e=>e.lift(new fy(n))}class fy{constructor(e){this.notifier=e}call(e,t){const r=new eT(e),o=(0,qn.ft)(this.notifier,new qn.IY(r));return o&&!r.seenValue?(r.add(o),t.subscribe(r)):r}}class eT extends qn.Ds{constructor(e){super(e),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function Ld(n,e){return t=>t.lift(new uI(n,e))}class uI{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new vc(e,this.compare,this.keySelector))}}class vc extends Jt.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:o}=this;t=o?o(e):e}catch(o){return this.destination.error(o)}let r=!1;if(this.hasKey)try{const{compare:o}=this;r=o(this.key,t)}catch(o){return this.destination.error(o)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function pm(...n){return e=>{let t;return"function"==typeof n[n.length-1]&&(t=n.pop()),e.lift(new dI(n,t))}}class dI{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new py(e,this.observables,this.project))}}class py extends Zs{constructor(e,t,r){super(e),this.observables=t,this.project=r,this.toRespond=[];const o=t.length;this.values=new Array(o);for(let c=0;c<o;c++)this.toRespond.push(c);for(let c=0;c<o;c++)this.add(Sa(this,t[c],void 0,c))}notifyNext(e,t,r){this.values[r]=t;const o=this.toRespond;if(o.length>0){const c=o.indexOf(r);-1!==c&&o.splice(c,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}var gy=k(8085);function tT(n,e=lm.P){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-e.now():Math.abs(n);return o=>o.lift(new fI(r,e))}class fI{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new Du(e,this.delay,this.scheduler))}}class Du extends Jt.L{constructor(e,t,r){super(e),this.delay=t,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,r=t.queue,o=e.scheduler,c=e.destination;for(;r.length>0&&r[0].time-o.now()<=0;)r.shift().notification.observe(c);if(r.length>0){const h=Math.max(0,r[0].time-o.now());this.schedule(e,h)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(Du.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,r=new Vd(t.now()+this.delay,e);this.queue.push(r),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(gy.P.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(gy.P.createComplete()),this.unsubscribe()}}class Vd{constructor(e,t){this.time=e,this.notification=t}}var Ud=k(7879);function $f(n,e){return new Bn.y(t=>{const r=n.length;if(0===r)return void t.complete();const o=new Array(r);let c=0,h=0;for(let _=0;_<r;_++){const v=(0,sn.D)(n[_]);let D=!1;t.add(v.subscribe({next:N=>{D||(D=!0,h++),o[_]=N},error:N=>t.error(N),complete:()=>{c++,(c===r||!D)&&(h===r&&t.next(e?e.reduce((N,R,B)=>(N[R]=o[B],N),{}):o),t.complete())}}))}})}let _y=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n}),n})(),Sl=(()=>{class n extends _y{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,features:[u.qOj]}),n})();const ns=new u.OlP("NgValueAccessor"),gI={provide:ns,useExisting:(0,u.Gpc)(()=>Gd),multi:!0},iP=new u.OlP("CompositionEventMode");let Gd=(()=>{class n extends _y{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(iP,8))},n.\u0275dir=u.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r._handleInput(c.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(c){return r._compositionEnd(c.target.value)})},features:[u._Bn([gI]),u.qOj]}),n})();function Al(n){return null==n||0===n.length}const ni=new u.OlP("NgValidators"),Tc=new u.OlP("NgAsyncValidators");function Hd(n){return null}function lT(n){return null!=n}function cT(n){const e=(0,u.QGY)(n)?(0,sn.D)(n):n;return(0,u.CqO)(e),e}function uT(n){let e={};return n.forEach(t=>{e=null!=t?ct(ct({},e),t):e}),0===Object.keys(e).length?null:e}function by(n,e){return e.map(t=>t(n))}function vy(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function Ty(n){return null!=n?function(n){if(!n)return null;const e=n.filter(lT);return 0==e.length?null:function(t){return uT(by(t,e))}}(vy(n)):null}function mm(n){return null!=n?function(n){if(!n)return null;const e=n.filter(lT);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ws.k)(e))return $f(e,null);if((0,Ud.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return $f(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return $f(n=1===n.length&&(0,Ws.k)(n[0])?n[0]:n,null).pipe((0,ze.U)(t=>e(...t)))}return $f(n,null)}(by(t,e).map(cT)).pipe((0,ze.U)(uT))}}(vy(n)):null}function hT(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Ey(n){return n?Array.isArray(n)?n:[n]:[]}function ym(n,e){return Array.isArray(n)?n.includes(e):n===e}function TI(n,e){const t=Ey(e);return Ey(n).forEach(o=>{ym(t,o)||t.push(o)}),t}function Cy(n,e){return Ey(e).filter(t=>!ym(n,t))}class fT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ty(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Li extends fT{get formDirective(){return null}get path(){return null}}class wc extends fT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class bm{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(o=null==(r=this._cd)?void 0:r.control)?void 0:o[e])}}let jd=(()=>{class n extends bm{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wc,2))},n.\u0275dir=u.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[u.qOj]}),n})(),Zf=(()=>{class n extends bm{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Li,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&u.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[u.qOj]}),n})();function Wd(n,e){Sy(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Zd(n,e)})}(n,e),function(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Zd(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Iu(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sy(n,e){const t=function(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(hT(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(hT(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Iu(e._rawValidators,o),Iu(e._rawAsyncValidators,o)}function Zd(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Em(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Va="VALID",Yf="INVALID",zd="PENDING",Qf="DISABLED";function Ry(n){return(vT(n)?n.validators:n)||null}function yT(n){return Array.isArray(n)?Ty(n):n||null}function Oy(n,e){return(vT(e)?e.asyncValidators:n)||null}function bT(n){return Array.isArray(n)?mm(n):n||null}function vT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Py{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=yT(this._rawValidators),this._composedAsyncValidatorFn=bT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Va}get invalid(){return this.status===Yf}get pending(){return this.status==zd}get disabled(){return this.status===Qf}get enabled(){return this.status!==Qf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=yT(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=bT(e)}addValidators(e){this.setValidators(TI(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(TI(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Cy(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Cy(e,this._rawAsyncValidators))}hasValidator(e){return ym(this._rawValidators,e)}hasAsyncValidator(e){return ym(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qf,this.errors=null,this._forEachChild(r=>{r.disable(ai(ct({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ai(ct({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Va,this._forEachChild(r=>{r.enable(ai(ct({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ai(ct({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Va||this.status===zd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qf:Va}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zd,this._hasOwnPendingAsyncValidator=!0;const t=cT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=r instanceof Sn?r.controls.hasOwnProperty(o)?r.controls[o]:null:r instanceof xy&&r.at(o)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?Qf:this.errors?Yf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zd)?zd:this._anyControlsHaveStatus(Yf)?Yf:Va}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){vT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jf extends Py{constructor(e=null,t,r){super(Ry(t),Oy(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Em(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Em(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Sn extends Py{constructor(e,t,r){super(Ry(t),Oy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof Jf?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,c)=>{r=t(r,o,c)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class xy extends Py{constructor(e,t,r){super(Ry(t),Oy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,o)=>{this._throwIfControlMissing(o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Jf?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const Nl={provide:Li,useExisting:(0,u.Gpc)(()=>Au)},Su=(()=>Promise.resolve(null))();let Au=(()=>{class n extends Li{constructor(t,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new u.vpe,this.form=new Sn({},Ty(t),mm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Su.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Wd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Su.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),Em(this._directives,t)})}addFormGroup(t){Su.then(()=>{const r=this._findContainer(t.path),o=new Sn({});(function(n,e){Sy(n,e)})(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Su.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Su.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(ni,10),u.Y36(Tc,10))},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&u.NdJ("submit",function(c){return r.onSubmit(c)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Nl]),u.qOj]}),n})();const PI={provide:wc,useExisting:(0,u.Gpc)(()=>Yd)},Kd=(()=>Promise.resolve(null))();let Yd=(()=>{class n extends wc{constructor(t,r,o,c){super(),this.control=new Jf,this._registered=!1,this.update=new u.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(c=>{c.constructor===Gd?t=c:function(n){return Object.getPrototypeOf(n.constructor)===Sl}(c)?r=c:o=c}),o||r||t||null}(0,c)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(n,e){return[...e.path,n]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Wd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Kd.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Kd.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Li,9),u.Y36(ni,10),u.Y36(Tc,10),u.Y36(ns,10))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([PI]),u.qOj,u.TTD]}),n})(),Cm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const CT={provide:ns,useExisting:(0,u.Gpc)(()=>Xf),multi:!0};let Xf=(()=>{class n extends Sl{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("input",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},features:[u._Bn([CT]),u.qOj]}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();const hP={provide:ns,useExisting:(0,u.Gpc)(()=>ep),multi:!0};function Vy(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ep=(()=>{class n extends Sl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const r=this._getOptionId(t);null==r&&this.setProperty("selectedIndex",-1);const o=Vy(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([hP]),u.qOj]}),n})(),PT=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Vy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(ep,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const fP={provide:ns,useExisting:(0,u.Gpc)(()=>tp),multi:!0};function By(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let tp=(()=>{class n extends Sl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(c=>this._getOptionId(c));r=(c,h)=>{c._setSelected(o.indexOf(h.toString())>-1)}}else r=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[];if(void 0!==r.selectedOptions){const c=r.selectedOptions;for(let h=0;h<c.length;h++){const _=c.item(h),v=this._getOptionValue(_.value);o.push(v)}}else{const c=r.options;for(let h=0;h<c.length;h++){const _=c.item(h);if(_.selected){const v=this._getOptionValue(_.value);o.push(v)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&u.NdJ("change",function(c){return r.onChange(c.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([fP]),u.qOj]}),n})(),xT=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(By(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(By(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(tp,9))},n.\u0275dir=u.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function FT(n){return"number"==typeof n?n:parseFloat(n)}let Im=(()=>{class n{constructor(){this._validator=Hd}handleChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._validator=this.enabled()?this.createValidator(r):Hd,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(){return null!=this[this.inputName]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n}),n})();const BI={provide:ni,useExisting:(0,u.Gpc)(()=>Sm),multi:!0};let Sm=(()=>{class n extends Im{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>FT(t),this.createValidator=t=>function(n){return e=>{if(Al(e.value)||Al(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}ngOnChanges(t){this.handleChanges(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("max",r.enabled()?r.max:null)},inputs:{max:"max"},features:[u._Bn([BI]),u.qOj,u.TTD]}),n})();const Am={provide:ni,useExisting:(0,u.Gpc)(()=>Ml),multi:!0};let Ml=(()=>{class n extends Im{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>FT(t),this.createValidator=t=>function(n){return e=>{if(Al(e.value)||Al(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}ngOnChanges(t){this.handleChanges(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=u.n5z(n)))(r||n)}}(),n.\u0275dir=u.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("min",r.enabled()?r.min:null)},inputs:{min:"min"},features:[u._Bn([Am]),u.qOj,u.TTD]}),n})(),Qd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[IT]]}),n})(),Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Qd]}),n})();function BT(n,e){}function UT(n,e){if(1&n&&(u.TgZ(0,"button",3),u._uU(1),u.YNc(2,BT,0,0,"ng-template",4),u.qZA()),2&n){const t=e.$implicit;u.Q6J("ngbPanelToggle",t),u.xp6(1),u.hij(" ",t.title,""),u.xp6(1),u.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function GT(n,e){}function HT(n,e){}function jT(n,e){if(1&n&&(u.TgZ(0,"div",8),u.TgZ(1,"div",9),u.YNc(2,HT,0,0,"ng-template",4),u.qZA(),u.qZA()),2&n){const t=u.oxw().$implicit;u.s9C("id",t.id),u.uIk("aria-labelledby",t.id+"-header"),u.xp6(2),u.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const $T=function(n,e){return{$implicit:n,opened:e}};function WT(n,e){if(1&n&&(u.TgZ(0,"div"),u.TgZ(1,"div",5),u.YNc(2,GT,0,0,"ng-template",6),u.qZA(),u.YNc(3,jT,3,3,"div",7),u.qZA()),2&n){const t=e.$implicit,r=u.oxw(),o=u.MAs(1);u.Tol("card "+(t.cardClass||"")),u.xp6(1),u.Tol("card-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),u.MGl("id","",t.id,"-header"),u.xp6(1),u.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||o)("ngTemplateOutletContext",u.WLB(8,$T,t,t.isOpen)),u.xp6(1),u.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function ZT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"button",1),u.NdJ("click",function(){return u.CHM(t),u.oxw().close()}),u.TgZ(1,"span",2),u._uU(2,"\xd7"),u.qZA(),u.qZA()}}const jy=["*"];function UI(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"li",6),u.NdJ("click",function(){const c=u.CHM(t).$implicit,h=u.oxw();return h.focus(),h.select(c.id,h.NgbSlideEventSource.INDICATOR)}),u.qZA()}if(2&n){const t=e.$implicit,r=u.oxw();u.ekj("active",t.id===r.activeId),u.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function zT(n,e){}function GI(n,e){if(1&n&&(u.TgZ(0,"div",7),u.TgZ(1,"span",8),u.SDv(2,9),u.qZA(),u.YNc(3,zT,0,0,"ng-template",10),u.qZA()),2&n){const t=e.$implicit,r=e.index,o=e.count;u.Q6J("id","slide-"+t.id),u.xp6(2),u.pQV(r+1)(o),u.QtT(2),u.xp6(1),u.Q6J("ngTemplateOutlet",t.tplRef)}}function qT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",11),u.NdJ("click",function(){return u.CHM(t),u.oxw().arrowLeft()}),u._UZ(1,"span",12),u.TgZ(2,"span",8),u.SDv(3,13),u.qZA(),u.qZA()}}function KT(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"a",14),u.NdJ("click",function(){return u.CHM(t),u.oxw().arrowRight()}),u._UZ(1,"span",15),u.TgZ(2,"span",8),u.SDv(3,16),u.qZA(),u.qZA()}}const QI=["dialog"];function Jy(n){return"string"==typeof n}function Ec(n){return null!=n}function Ru(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const Ho={animation:!0,transitionTimerDelayMs:5},ES=()=>{},{transitionTimerDelayMs:Tw}=Ho,rs=new Map,An=(n,e,t,r)=>{let o=r.context||{};const c=rs.get(e);if(c)switch(r.runningTransition){case"continue":return Pr.E;case"stop":n.run(()=>c.transition$.complete()),o=Object.assign(c.context,o),rs.delete(e)}const h=t(e,r.animation,o)||ES;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>h()),(0,Xe.of)(void 0).pipe(function(n){return e=>new Bn.y(t=>e.subscribe({next:h=>n.run(()=>t.next(h)),error:h=>n.run(()=>t.error(h)),complete:()=>n.run(()=>t.complete())}))}(n));const _=new Kt.xQ,v=new Kt.xQ,D=_.pipe(function(...n){return e=>Do(e,(0,Xe.of)(...n))}(!0));rs.set(e,{transition$:_,complete:()=>{v.next(),v.complete()},context:o});const N=function(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const R=vi(e,"transitionend").pipe(fr(D),In(({target:H})=>H===e));fm(cy(N+Tw).pipe(fr(D)),R,v).pipe(fr(D)).subscribe(()=>{rs.delete(e),n.run(()=>{h(),_.next(),_.complete()})})}),_.asObservable()},eb=(n,e,t)=>{let{direction:r,maxHeight:o}=t;const{classList:c}=n;function h(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return o||(o=function(n){if("undefined"==typeof navigator)return"0px";const{classList:e}=n,t=e.contains("show");t||e.add("show"),n.style.height="";const r=n.getBoundingClientRect().height+"px";return t||e.remove("show"),r}(n),t.maxHeight=o,n.style.height="show"!==r?o:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Ru(n),c.add("collapsing")),n.style.height="show"===r?o:"0px",()=>{h(),c.remove("collapsing"),n.style.height=""};h()};let gp=(()=>{class n{constructor(){this.animation=Ho.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CS=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),DS=0,Om=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]]}),n})(),Pm=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]]}),n})(),Ou=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]]}),n})(),xm=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+DS++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new u.vpe,this.hidden=new u.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,Pm,4),u.Suo(o,Om,4),u.Suo(o,Ou,4)),2&t){let c;u.iGM(c=u.CRH())&&(r.titleTpls=c),u.iGM(c=u.CRH())&&(r.headerTpls=c),u.iGM(c=u.CRH())&&(r.contentTpls=c)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"}}),n})(),km=(()=>{class n{constructor(t,r,o,c){this._element=r,this._ngZone=o,this._changeDetector=c,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new u.vpe,this.shown=new u.vpe,this.hidden=new u.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Jy(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this.panels.forEach(t=>{const r=this._getPanelElement(t.id);r?t.initClassDone||(t.initClassDone=!0,An(this._ngZone,r,eb,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let o=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{o=!0}}),o||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(o=>{o.id!==t&&o.isOpen&&(o.isOpen=!1,o.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{if(r.transitionRunning){const o=this._getPanelElement(r.id);An(this._ngZone,o,eb,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide"}}).subscribe(()=>{r.transitionRunning=!1;const{id:c}=r;r.isOpen?(r.shown.emit(),this.shown.emit(c)):(r.hidden.emit(),this.hidden.emit(c))})}})}_getPanelElement(t){return this._element.nativeElement.querySelector("#"+t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(CS),u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(u.sBO))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,xm,4),2&t){let c;u.iGM(c=u.CRH())&&(r.panels=c)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"btn","btn-link",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id",4,"ngIf"],["role","tabpanel",3,"id"],[1,"card-body"]],template:function(t,r){1&t&&(u.YNc(0,UT,3,3,"ng-template",0,1,u.W1O),u.YNc(2,WT,4,11,"ng-template",2)),2&t&&(u.xp6(2),u.Q6J("ngForOf",r.panels))},directives:function(){return[Om,Dn,Ew,zi,Yr]},encapsulation:2}),n})(),Ew=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(km),u.Y36(xm,9))},n.\u0275dir=u.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(u.Ikx("disabled",r.panel.disabled),u.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),u.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"}}),n})(),tb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})();const Fm=({classList:n})=>{n.remove("show")};let SS=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cw=(()=>{class n{constructor(t,r,o,c){this._renderer=r,this._element=o,this._zone=c,this.closed=new u.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=An(this._zone,this._element.nativeElement,Fm,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(SS),u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&u.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],features:[u.TTD],ngContentSelectors:jy,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"close",3,"click"],["aria-hidden","true"]]},template:function(t,r){1&t&&(u.F$t(),u.Hsn(0),u.YNc(1,ZT,3,0,"button",0)),2&t&&(u.xp6(1),u.Q6J("ngIf",r.dismissible))},directives:[Yr],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),nb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Ol=(()=>{return(n=Ol||(Ol={})).LEFT="left",n.RIGHT="right",Ol;var n})();const ob=({classList:n})=>n.contains("carousel-item-left")||n.contains("carousel-item-right"),eh=n=>{n.remove("carousel-item-left"),n.remove("carousel-item-right")},Vm=n=>{eh(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},NS=(n,e,{direction:t})=>{const{classList:r}=n;return e?(ob(n)?eh(r):(r.add("carousel-item-"+(t===Ol.LEFT?"next":"prev")),Ru(n),r.add("carousel-item-"+t)),()=>{Vm(r),r.add("active")}):(eh(r),Vm(r),void r.add("active"))},MS=(n,e,{direction:t})=>{const{classList:r}=n;return e?(ob(n)?eh(r):r.add("carousel-item-"+t),()=>{Vm(r),r.remove("active")}):(eh(r),Vm(r),void r.remove("active"))};let RS=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),OS=0,Bm=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+OS++,this.slid=new u.vpe}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.Rgc))},n.\u0275dir=u.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),ab=(()=>{class n{constructor(t,r,o,c,h){this._platformId=r,this._ngZone=o,this._cd=c,this._container=h,this.NgbSlideEventSource=Pu,this._destroy$=new Kt.xQ,this._interval$=new Ut(0),this._mouseHover$=new Ut(!1),this._focused$=new Ut(!1),this._pauseOnHover$=new Ut(!1),this._pauseOnFocus$=new Ut(!1),this._pause$=new Ut(!1),this._wrap$=new Ut(!1),this.slide=new u.vpe,this.slid=new u.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Pu.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Pu.ARROW_RIGHT)}ngAfterContentInit(){Pi(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=af([this.slide.pipe((0,ze.U)(r=>r.current),Yt(this.activeId)),this._wrap$,this.slides.changes.pipe(Yt(null))]).pipe((0,ze.U)(([r,o])=>{const c=this.slides.toArray(),h=this._getSlideIdxById(r);return o?c.length>1:h<c.length-1}),Ld());af([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,ze.U)(([r,o,c,h,_,v,D])=>r||o&&c||h&&_||!D?0:v),Ld(),on(r=>r>0?cy(r,r):yc),fr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Pu.TIMER)))}),this.slides.changes.pipe(fr(this._destroy$)).subscribe(()=>{var t;null==(t=this._transitionIds)||t.forEach(r=>(n=>{var e;null==(e=rs.get(n))||e.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(or(1)).subscribe(()=>{for(const{id:r}of this.slides){const o=this._getSlideElement(r);r===this.activeId?o.classList.add("active"):o.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Ol.RIGHT,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Ol.LEFT,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,o){const c=this._transitionIds;if(c&&(c[0]!==t||c[1]!==this.activeId))return;let h=this._getSlideById(t);if(h&&h.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:h.id,direction:r,paused:this._pause$.value,source:o});const _={animation:this.animation,runningTransition:"stop",context:{direction:r}},v=[],D=this._getSlideById(this.activeId);if(D){const H=An(this._ngZone,this._getSlideElement(D.id),MS,_);H.subscribe(()=>{D.slid.emit({isShown:!1,direction:r,source:o})}),v.push(H)}const N=this.activeId;this.activeId=h.id;const R=this._getSlideById(this.activeId),B=An(this._ngZone,this._getSlideElement(h.id),NS,_);B.subscribe(()=>{null==R||R.slid.emit({isShown:!0,direction:r,source:o})}),v.push(B),dy(...v).pipe(or(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:N,current:h.id,direction:r,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Ol.RIGHT:Ol.LEFT}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),o=this._getSlideIdxById(t);return o===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[o+1].id}_getPrevSlide(t){const r=this.slides.toArray(),o=this._getSlideIdxById(t);return 0===o?this.wrap?r[r.length-1].id:r[0].id:r[o-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(RS),u.Y36(u.Lbi),u.Y36(u.R0b),u.Y36(u.sBO),u.Y36(u.SBq))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,Bm,4),2&t){let c;u.iGM(c=u.CRH())&&(r.slides=c)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&u.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(u.uIk("aria-activedescendant","slide-"+r.activeId),u.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"sr-only"],e,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(u.TgZ(0,"ol",0),u.YNc(1,UI,1,5,"li",1),u.qZA(),u.TgZ(2,"div",2),u.YNc(3,GI,4,4,"div",3),u.qZA(),u.YNc(4,qT,4,0,"a",4),u.YNc(5,KT,4,0,"a",5)),2&t&&(u.ekj("sr-only",!r.showNavigationIndicators),u.xp6(1),u.Q6J("ngForOf",r.slides),u.xp6(2),u.Q6J("ngForOf",r.slides),u.xp6(1),u.Q6J("ngIf",r.showNavigationArrows),u.xp6(1),u.Q6J("ngIf",r.showNavigationArrows))},directives:[Dn,Yr,zi],encapsulation:2,changeDetection:0}),n})();var Pu=(()=>{return(n=Pu||(Pu={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Pu;var n})();let Iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),Sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();var Cr=(()=>{return(n=Cr||(Cr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Cr;var n})();const yp=(n,e)=>!!e&&e.some(t=>t.contains(n)),Rw=(n,e)=>!e||null!=function(n,e){return e&&void 0!==n.closest?n.closest(e):null}(n,e),ZS="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const hb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function fb(n){const e=Array.from(n.querySelectorAll(hb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}const KS=/\s+/,nh=new class{getAllStyles(e){return window.getComputedStyle(e)}getStyle(e,t){return this.getAllStyles(e)[t]}isStaticPositioned(e){return"static"===(this.getStyle(e,"position")||"static")}offsetParent(e){let t=e.offsetParent||document.documentElement;for(;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement}position(e,t=!0){let r,o={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r=e.getBoundingClientRect(),r={top:r.top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{const c=this.offsetParent(e);r=this.offset(e,!1),c!==document.documentElement&&(o=this.offset(c,!1)),o.top+=c.clientTop,o.left+=c.clientLeft}return r.top-=o.top,r.bottom-=o.top,r.left-=o.left,r.right-=o.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r}offset(e,t=!0){const r=e.getBoundingClientRect(),o_top=window.scrollY-document.documentElement.clientTop,o_left=window.scrollX-document.documentElement.clientLeft;let c={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+o_top,bottom:r.bottom+o_top,left:r.left+o_left,right:r.right+o_left};return t&&(c.height=Math.round(c.height),c.width=Math.round(c.width),c.top=Math.round(c.top),c.bottom=Math.round(c.bottom),c.left=Math.round(c.left),c.right=Math.round(c.right)),c}positionElements(e,t,r,o){const[c="top",h="center"]=r.split("-"),_=o?this.offset(e,!1):this.position(e,!1),v=this.getAllStyles(t),D=parseFloat(v.marginTop),N=parseFloat(v.marginBottom),R=parseFloat(v.marginLeft),B=parseFloat(v.marginRight);let H=0,ie=0;switch(c){case"top":H=_.top-(t.offsetHeight+D+N);break;case"bottom":H=_.top+_.height;break;case"left":ie=_.left-(t.offsetWidth+R+B);break;case"right":ie=_.left+_.width}switch(h){case"top":H=_.top;break;case"bottom":H=_.top+_.height-t.offsetHeight;break;case"left":ie=_.left;break;case"right":ie=_.left+_.width-t.offsetWidth;break;case"center":"top"===c||"bottom"===c?ie=_.left+_.width/2-t.offsetWidth/2:H=_.top+_.height/2-t.offsetHeight/2}t.style.transform=`translate(${Math.round(ie)}px, ${Math.round(H)}px)`;const Ce=t.getBoundingClientRect(),Re=document.documentElement,et=window.innerHeight||Re.clientHeight,ht=window.innerWidth||Re.clientWidth;return Ce.left>=0&&Ce.top>=0&&Ce.right<=ht&&Ce.bottom<=et}};new Date(1882,10,12),new Date(2174,10,25);let Hw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn,Mu]]}),n})(),bb=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=u.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),jw=(()=>{class n{constructor(t){this.elementRef=t,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("disabled",r.disabled)},inputs:{disabled:"disabled"}}),n})(),$w=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>ih)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,o){if(1&t&&u.Suo(o,jw,4),2&t){let c;u.iGM(c=u.CRH())&&(r.menuItems=c)}},hostVars:5,hostBindings:function(t,r){1&t&&u.NdJ("keydown.ArrowUp",function(c){return r.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return r.dropdown.onKeyDown(c)})("keydown.Home",function(c){return r.dropdown.onKeyDown(c)})("keydown.End",function(c){return r.dropdown.onKeyDown(c)})("keydown.Enter",function(c){return r.dropdown.onKeyDown(c)})("keydown.Space",function(c){return r.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return r.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return r.dropdown.onKeyDown(c)}),2&t&&(u.uIk("x-placement",r.placement),u.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen()))}}),n})(),rh=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>ih)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&u.uIk("aria-expanded",r.dropdown.isOpen())}}),n})(),Wm=(()=>{class n extends rh{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(u.Y36((0,u.Gpc)(()=>ih)),u.Y36(u.SBq))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&u.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(c){return r.dropdown.onKeyDown(c)})("keydown.ArrowDown",function(c){return r.dropdown.onKeyDown(c)})("keydown.Home",function(c){return r.dropdown.onKeyDown(c)})("keydown.End",function(c){return r.dropdown.onKeyDown(c)})("keydown.Tab",function(c){return r.dropdown.onKeyDown(c)})("keydown.Shift.Tab",function(c){return r.dropdown.onKeyDown(c)}),2&t&&u.uIk("aria-expanded",r.dropdown.isOpen())},features:[u._Bn([{provide:rh,useExisting:(0,u.Gpc)(()=>n)}]),u.qOj]}),n})(),ih=(()=>{class n{constructor(t,r,o,c,h,_,v){this._changeDetector=t,this._document=o,this._ngZone=c,this._elementRef=h,this._renderer=_,this._closed$=new Kt.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new u.vpe,this.placement=r.placement,this.container=r.container,this.autoClose=r.autoClose,this.display=v?"static":"dynamic",this._zoneSubscription=c.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe(or(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses(),t.dropdownClass){const{currentValue:r,previousValue:o}=t.dropdownClass;this._applyCustomDropdownClass(r,o)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){!function(n,e,t,r,o,c,h,_){t&&n.runOutsideAngular((n=>ZS?()=>setTimeout(()=>n(),100):n)(()=>{const D=vi(e,"keydown").pipe(fr(o),In(B=>B.which===Cr.Escape),(0,Yn.b)(B=>B.preventDefault())),N=vi(e,"mousedown").pipe((0,ze.U)(B=>{const H=B.target;return 2!==B.button&&!yp(H,h)&&("inside"===t?yp(H,c)&&Rw(H,_):"outside"===t?!yp(H,c):Rw(H,_)||!yp(H,c))}),fr(o)),R=vi(e,"mouseup").pipe(pm(N),In(([B,H])=>H),tT(0),fr(o));fm([D.pipe((0,ze.U)(B=>0)),R.pipe((0,ze.U)(B=>1))]).subscribe(B=>n.run(()=>r(B)))}))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(t){const r=t.which,o=this._getMenuElements();let c=-1,h=null;const _=this._isEventFromToggle(t);if(!_&&o.length&&o.forEach((v,D)=>{v.contains(t.target)&&(h=v),v===this._document.activeElement&&(c=D)}),r!==Cr.Space&&r!==Cr.Enter){if(r!==Cr.Tab){if(_||h){if(this.open(),o.length){switch(r){case Cr.ArrowDown:c=Math.min(c+1,o.length-1);break;case Cr.ArrowUp:if(this._isDropup()&&-1===c){c=o.length-1;break}c=Math.max(c-1,0);break;case Cr.Home:c=0;break;case Cr.End:c=o.length-1}o[c].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const v=this._menu.nativeElement.querySelectorAll(hb);t.shiftKey&&t.target===v[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===v[v.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else vi(t.target,"focusout").pipe(or(1)).subscribe(({relatedTarget:v})=>{this._elementRef.nativeElement.contains(v)||this.close()})}}else h&&(!0===this.autoClose||"inside"===this.autoClose)&&vi(h,"click").pipe(or(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(n,e,t,r,o){let c=Array.isArray(t)?t:t.split(KS);const h=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],v=H=>{const[ie,Ce]=H.split("-"),Re=[];return Re};let D=c.findIndex(H=>"auto"===H);D>=0&&h.forEach(function(H){null==c.find(ie=>-1!==ie.search("^"+H))&&c.splice(D++,1,H)});const N=e.style;N.position="absolute",N.top="0",N.left="0",N["will-change"]="transform";let R=null,B=!1;for(R of c){v(R);if(nh.positionElements(n,e,R,r)){B=!0;break}}return B||(R=c[0],v(R),nh.positionElements(n,e,R,r)),R}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;if(this._menu){const o=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,o),t.removeStyle(o,"position"),t.removeStyle(o,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,o=this._menu.nativeElement,c=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(c,"position","absolute"),r.setStyle(o,"position","static"),r.setStyle(c,"z-index","1050"),r.appendChild(c,o),r.appendChild(this._document.body,c)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const o="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;o&&(r&&this._renderer.removeClass(o,r),t&&this._renderer.addClass(o,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const o=this._renderer,c=this._elementRef.nativeElement;o.removeClass(c,"dropup"),o.removeClass(c,"dropdown"),r.placement="static"===this.display?null:t;const h=-1!==t.search("^top")?"dropup":"dropdown";o.addClass(c,h);const _=this._bodyContainer;_&&(o.removeClass(_,"dropup"),o.removeClass(_,"dropdown"),o.addClass(_,h))}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.sBO),u.Y36(bb),u.Y36(re),u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36($m,8))},n.\u0275dir=u.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,o){if(1&t&&(u.Suo(o,$w,5),u.Suo(o,rh,5)),2&t){let c;u.iGM(c=u.CRH())&&(r._menu=c.first),u.iGM(c=u.CRH())&&(r._anchor=c.first)}},hostVars:2,hostBindings:function(t,r){2&t&&u.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[u.TTD]}),n})(),Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();class Vu{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let fA=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(or(1)).subscribe(()=>{An(this._zone,this._el.nativeElement,(t,r)=>{r&&Ru(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return An(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,r){2&t&&(u.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),u.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class vb{close(e){}dismiss(e){}}class pA{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new Kt.xQ,this._dismissed=new Kt.xQ,this._hidden=new Kt.xQ,e.instance.dismissEvent.subscribe(c=>{this.dismiss(c)}),this.result=new Promise((c,h)=>{this._resolve=c,this._reject=h}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(fr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(fr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();(n=t)&&n.then?t.then(r=>{!1!==r&&this._dismiss(e)},()=>{}):!1!==t&&this._dismiss(e)}else this._dismiss(e);var n}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Xe.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),dy(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var sh=(()=>{return(n=sh||(sh={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",sh;var n})();let qw=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new Kt.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new u.vpe,this.shown=new Kt.xQ,this.hidden=new Kt.xQ}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(or(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},h=dy(An(this._zone,t,()=>t.classList.remove("show"),r),An(this._zone,this._dialogEl.nativeElement,()=>{},r));return h.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),h}_show(){const t={animation:this.animation,runningTransition:"continue"};dy(An(this._zone,this._elRef.nativeElement,(c,h)=>{h&&Ru(c),c.classList.add("show")},t),An(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{vi(t,"keydown").pipe(fr(this._closed$),In(o=>o.which===Cr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(sh.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;vi(this._dialogEl.nativeElement,"mousedown").pipe(fr(this._closed$),(0,Yn.b)(()=>r=!1),on(()=>vi(t,"mouseup").pipe(fr(this._closed$),or(1))),In(({target:o})=>t===o)).subscribe(()=>{r=!0}),vi(t,"click").pipe(fr(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(sh.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=fb(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&An(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(re),u.Y36(u.SBq),u.Y36(u.R0b))},n.\u0275cmp=u.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&u.Gf(QI,7),2&t){let o;u.iGM(o=u.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(u.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),u.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),u.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:jy,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(u.F$t(),u.TgZ(0,"div",0,1),u.TgZ(2,"div",2),u.Hsn(3),u.qZA(),u.qZA()),2&t&&u.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Kw=()=>{};let dx=(()=>{class n{constructor(t){this._document=t}compensate(){const t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Kw}_adjustBody(t){const r=this._document.body,o=r.style.paddingRight,c=parseFloat(window.getComputedStyle(r)["padding-right"]);return r.style["padding-right"]=`${c+t}px`,()=>r.style["padding-right"]=o}_isPresent(t){const r=this._document.body.getBoundingClientRect();return window.innerWidth-(r.left+r.right)>=t-.1*t}_getWidth(){const t=this._document.createElement("div");t.className="modal-scrollbar-measure";const r=this._document.body;r.appendChild(t);const o=t.getBoundingClientRect().width-t.clientWidth;return r.removeChild(t),o}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(re))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gA=(()=>{class n{constructor(t,r,o,c,h,_){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=c,this._rendererFactory=h,this._ngZone=_,this._activeWindowCmptHasChanged=new Kt.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new u.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const v=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const o=vi(e,"focusin").pipe(fr(t),(0,ze.U)(c=>c.target));vi(e,"keydown").pipe(fr(t),In(c=>c.which===Cr.Tab),pm(o)).subscribe(([c,h])=>{const[_,v]=fb(e);(h===_||h===e)&&c.shiftKey&&(v.focus(),c.preventDefault()),h===v&&!c.shiftKey&&(_.focus(),c.preventDefault())}),r&&vi(e,"click").pipe(fr(t),pm(o),(0,ze.U)(c=>c[1])).subscribe(c=>c.focus())})})(0,v.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(v.location.nativeElement)}})}open(t,r,o,c){const h=c.container instanceof HTMLElement?c.container:Ec(c.container)?this._document.querySelector(c.container):this._document.body,_=this._rendererFactory.createRenderer(null,null),v=this._scrollBar.compensate(),D=()=>{this._modalRefs.length||(_.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!h)throw new Error(`The specified modal container "${c.container||"body"}" was not found in the DOM.`);const N=new vb,R=this._getContentRef(t,c.injector||r,o,N,c);let B=!1!==c.backdrop?this._attachBackdrop(t,h):void 0,H=this._attachWindowComponent(t,h,R),ie=new pA(H,R,B,c.beforeDismiss);return this._registerModalRef(ie),this._registerWindowCmpt(H),ie.result.then(v,v),ie.result.then(D,D),N.close=Ce=>{ie.close(Ce)},N.dismiss=Ce=>{ie.dismiss(Ce)},this._applyWindowOptions(H.instance,c),1===this._modalRefs.length&&_.addClass(this._document.body,"modal-open"),B&&B.instance&&(this._applyBackdropOptions(B.instance,c),B.changeDetectorRef.detectChanges()),H.changeDetectorRef.detectChanges(),ie}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let c=t.resolveComponentFactory(fA).create(this._injector);return this._applicationRef.attachView(c.hostView),r.appendChild(c.location.nativeElement),c}_attachWindowComponent(t,r,o){let h=t.resolveComponentFactory(qw).create(this._injector,o.nodes);return this._applicationRef.attachView(h.hostView),r.appendChild(h.location.nativeElement),h}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{Ec(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{Ec(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,c,h){return o?o instanceof u.Rgc?this._createFromTemplateRef(o,c):Jy(o)?this._createFromString(o):this._createFromComponent(t,r,o,c,h):new Vu([])}_createFromTemplateRef(t,r){const c=t.createEmbeddedView({$implicit:r,close(h){r.close(h)},dismiss(h){r.dismiss(h)}});return this._applicationRef.attachView(c),new Vu([c.rootNodes],c)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Vu([[r]])}_createFromComponent(t,r,o,c,h){const _=t.resolveComponentFactory(o),v=u.zs3.create({providers:[{provide:vb,useValue:c}],parent:r}),D=_.create(v),N=D.location.nativeElement;return h.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(D.hostView),new Vu([[N]],D.hostView,D)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u.z2F),u.LFG(u.zs3),u.LFG(re),u.LFG(dx),u.LFG(u.FYo),u.LFG(u.R0b))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oh=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(gp))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hx=(()=>{class n{constructor(t,r,o,c){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=c}open(t,r={}){const o=ct(ai(ct({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(u._Vd),u.LFG(u.zs3),u.LFG(gA),u.LFG(oh))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[hx]}),n})(),_A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),Eb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),Uu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),rE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),DA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),aE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})(),lE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})();new u.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let uE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Fn]]}),n})();const Xm=[tb,nb,sb,Iw,Sw,Hw,Zw,Zm,_A,Eb,Uu,rE,DA,aE,Cb,lE,uE];let LA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[Xm,tb,nb,sb,Iw,Sw,Hw,Zw,Zm,_A,Eb,Uu,rE,DA,aE,Cb,lE,uE]}),n})();function Sx(n,e){1&n&&(u.TgZ(0,"span",10),u._uU(1,"BETA"),u.qZA())}let VA=(()=>{class n{constructor(t){this.router=t}ngOnInit(){this.displayType=this.router.url.startsWith("/pizza")?"PizzaCalculator":"PinsaCalculator"}changeCalculator(){switch(this.displayType){case"PizzaCalculator":this.router.navigateByUrl("/pinsa");break;case"PinsaCalculator":this.router.navigateByUrl("/pizza")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(bi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","px-2"],[1,"navbar-brand",3,"click"],["class","badge bg-white text-secondary",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLink","./calculator","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],["routerLink","./recipes","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],["routerLink","./dough","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],[1,"badge","bg-white","text-secondary"]],template:function(t,r){1&t&&(u.TgZ(0,"nav",0),u.TgZ(1,"a",1),u.NdJ("click",function(){return r.changeCalculator()}),u._uU(2),u.YNc(3,Sx,2,0,"span",2),u.qZA(),u.TgZ(4,"button",3),u._UZ(5,"span",4),u.qZA(),u.TgZ(6,"div",5),u.TgZ(7,"div",6),u.TgZ(8,"a",7),u._uU(9,"Calculator"),u.qZA(),u.TgZ(10,"a",8),u._uU(11,"Rezepte"),u.qZA(),u.TgZ(12,"a",9),u._uU(13,"Teig"),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(2),u.hij("",r.displayType," "),u.xp6(1),u.Q6J("ngIf","PinsaCalculator"==r.displayType))},directives:[$m,Yr,Fd,Vf],styles:[""]}),n})();const Ep=["selfClosingAlert"],BA=["installAlert"];function UA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-alert",2,3),u.NdJ("closed",function(){return u.CHM(t),u.oxw().mobileMessage=""}),u._uU(2),u.qZA()}if(2&n){const t=u.oxw();u.xp6(2),u.hij("",t.mobileMessage,"\n")}}function GA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"ngb-alert",2,4),u.NdJ("closed",function(){return u.CHM(t),u.oxw().installMessage=""}),u._uU(2),u.qZA()}if(2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.installMessage)}}let Cp=(()=>{class n{constructor(t){this.deviceDetect=t,this.toMatchMobile=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],this.install=new Kt.xQ,this.mobile=new Kt.xQ}ngOnInit(){console.log(this.deviceDetect.getDeviceInfo()),this.mobile.subscribe(t=>this.mobileMessage=t),this.mobile.pipe(cm(5e3)).subscribe(()=>{this.selfClosingAlert&&this.selfClosingAlert.close()}),this.install.subscribe(t=>this.installMessage=t),this.install.pipe(cm(5e3)).subscribe(()=>{this.installAlert&&this.installAlert.close()}),this.deviceDetect.isDesktop(),this.deviceDetect.isMobile()&&this.install.next('Diese Applikation l\xe4sst sich mittels "Teilen" als App hinzuf\xfcgen.')}detectStandalone(){return"standalone"in window.navigator}detectMobile(){return console.log(navigator.userAgent),this.toMatchMobile.some(t=>navigator.userAgent.match(t))}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(sI))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-contentwrapper"]],viewQuery:function(t,r){if(1&t&&(u.Gf(Ep,5),u.Gf(BA,5)),2&t){let o;u.iGM(o=u.CRH())&&(r.selfClosingAlert=o.first),u.iGM(o=u.CRH())&&(r.installAlert=o.first)}},decls:5,vars:2,consts:[["class","alert-fixed","type","dark",3,"closed",4,"ngIf"],[1,"container","p-1"],["type","dark",1,"alert-fixed",3,"closed"],["selfClosingAlert",""],["installAlert",""]],template:function(t,r){1&t&&(u._UZ(0,"app-navbar"),u.YNc(1,UA,3,1,"ngb-alert",0),u.YNc(2,GA,3,1,"ngb-alert",0),u.TgZ(3,"div",1),u._UZ(4,"router-outlet"),u.qZA()),2&t&&(u.xp6(1),u.Q6J("ngIf",r.mobileMessage),u.xp6(1),u.Q6J("ngIf",r.installMessage))},directives:[VA,Yr,rr,Cw],styles:[".alert-fixed[_ngcontent-%COMP%]{position:fixed;top:0px;left:0px;width:100%;z-index:9999;border-radius:0}"]}),n})();var Ua=(()=>{return(n=Ua||(Ua={})).e_standard="Standard",n.e_special="Spezial",n.e_sour="Sauerteig",Ua;var n})();let HA=(()=>{class n{constructor(){this.dataSource=new Ut({}),this.currentDough=this.dataSource.asObservable()}updateDataSet(t){this.dataSource.next(t)}updateMeasures(t){let r;if(t.pizzaDough===Ua.e_standard||t.pizzaDough===Ua.e_special){const o=Number((t.pizzaNumber*t.pizzaSize/(1+t.pizzaWater/100+.03+.002)).toFixed(1));r={flour:o,water:Number((o*t.pizzaWater/100).toFixed(1)),salt:Number((.01*o).toFixed(1)),yeast:Number((.002*o).toFixed(1)),levain:Number((.002*o).toFixed(1))}}else if(t.pizzaDough===Ua.e_sour){const o=Number((t.pizzaNumber*(t.pizzaSize-15)/(1+t.pizzaWater/100+.03)).toFixed(1));r={flour:o,water:Number((o*t.pizzaWater/100).toFixed(1)),salt:Number((.03*o).toFixed(1)),levain:Number((15*t.pizzaNumber).toFixed()),yeast:Number((.002*o).toFixed(1))}}this.updateDataSet(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jA=["carousel"];function e_(n,e){1&n&&(u.TgZ(0,"div",9),u._uU(1," PizzaCalculator "),u.qZA())}function $A(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().goBack()}),u._UZ(1,"i",11),u.qZA()}}function WA(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"option",29),u.NdJ("ngValue",function(){return u.CHM(t).$implicit.key}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t.value," ")}}function dE(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.TgZ(1,"form"),u.TgZ(2,"div",13),u.TgZ(3,"div",14),u.TgZ(4,"label",15),u._uU(5,"Anzahl der Pizzen:"),u.qZA(),u.TgZ(6,"input",16),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaNumber=o}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(7,"div",13),u.TgZ(8,"div",14),u.TgZ(9,"label",17),u._uU(10,"Pizzateig Gewicht je Pizza:"),u.qZA(),u.TgZ(11,"div",18),u.TgZ(12,"input",19),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaSize=o}),u.qZA(),u.TgZ(13,"div",20),u.TgZ(14,"div",21),u._uU(15,"g"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(16,"div",22),u.TgZ(17,"small"),u._uU(18,"200g = kleine Pizza, 300g = gro\xdfe Pizza"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(19,"div",13),u.TgZ(20,"div",14),u.TgZ(21,"label",23),u._uU(22,"Wasseranteil des Teigs:"),u.qZA(),u.TgZ(23,"div",18),u.TgZ(24,"input",24),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaWater=o}),u.qZA(),u.TgZ(25,"div",20),u.TgZ(26,"div",21),u._uU(27,"%"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",22),u.TgZ(29,"small"),u._uU(30,"Wasseranteil von 50% bis 70%"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(31,"div",13),u.TgZ(32,"div",14),u.TgZ(33,"label",25),u._uU(34,"Pizzateig"),u.qZA(),u.TgZ(35,"div",18),u.TgZ(36,"select",26),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaDough=o}),u.YNc(37,WA,2,1,"option",27),u.ALo(38,"keyvalue"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(39,"hr"),u.TgZ(40,"div",13),u.TgZ(41,"button",28),u.NdJ("click",function(){return u.CHM(t),u.oxw().updatePizzaInfos()}),u._uU(42,"Berechnen"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(6),u.Q6J("ngModel",t.pizzaInfo.pizzaNumber),u.xp6(6),u.Q6J("ngModel",t.pizzaInfo.pizzaSize),u.xp6(12),u.Q6J("ngModel",t.pizzaInfo.pizzaWater),u.xp6(12),u.Q6J("ngModel",t.pizzaInfo.pizzaDough),u.xp6(1),u.Q6J("ngForOf",u.lcZ(38,5,t.doughType))}}function hE(n,e){if(1&n&&(u.TgZ(0,"h3"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.dough.flour," g Mehl")}}function Db(n,e){if(1&n&&(u.TgZ(0,"h3"),u._uU(1),u.TgZ(2,"small"),u._uU(3,"Type 1050"),u.qZA(),u.qZA(),u.TgZ(4,"h3"),u._uU(5),u.TgZ(6,"small"),u._uU(7,"Type 405"),u.qZA(),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",(1*t.dough.flour/3).toFixed(1)," g Mehl "),u.xp6(4),u.hij("",(2*t.dough.flour/3).toFixed(1)," g Mehl ")}}function fE(n,e){if(1&n&&(u.TgZ(0,"h3"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.dough.levain," g Levain (60/40)")}}function ZA(n,e){if(1&n&&(u.TgZ(0,"h3"),u._uU(1),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.hij("",t.dough.yeast," g Hefe")}}function zA(n,e){if(1&n&&(u.TgZ(0,"div",12),u.TgZ(1,"h2"),u._uU(2),u.qZA(),u._UZ(3,"hr"),u.TgZ(4,"div",30),u.TgZ(5,"div"),u._uU(6,"Anzahl der Pizzen:"),u.qZA(),u.TgZ(7,"div"),u._uU(8),u.qZA(),u.qZA(),u._UZ(9,"hr"),u.YNc(10,hE,2,1,"h3",31),u.YNc(11,Db,8,2,"ng-template",null,32,u.W1O),u.TgZ(13,"h3"),u._uU(14),u.qZA(),u.TgZ(15,"h3"),u._uU(16),u.qZA(),u.YNc(17,fE,2,1,"h3",31),u.YNc(18,ZA,2,1,"ng-template",null,33,u.W1O),u.qZA()),2&n){const t=u.MAs(12),r=u.MAs(19),o=u.oxw();u.xp6(2),u.Oqu(o.pizzaInfo.pizzaDough),u.xp6(6),u.AsE("",o.pizzaInfo.pizzaNumber," x ",o.pizzaInfo.pizzaSize," g"),u.xp6(2),u.Q6J("ngIf",!o.pizzaInfo.pizzaDough.includes("Spezial"))("ngIfElse",t),u.xp6(4),u.hij("",o.dough.water," ml Wasser"),u.xp6(2),u.hij("",o.dough.salt," g Salz"),u.xp6(1),u.Q6J("ngIf",o.pizzaInfo.pizzaDough.includes("Sauer"))("ngIfElse",r)}}let qA=(()=>{class n{constructor(t){this.pizzaService=t,this.doughType=Ua,this.pizzaService.currentDough.subscribe(r=>this.dough=r),this.displayRecipe=!1}ngOnInit(){this.pizzaInfo={pizzaNumber:1,pizzaSize:250,pizzaWater:57,pizzaDough:Ua.e_standard}}updatePizzaInfos(){this.pizzaService.updateMeasures(this.pizzaInfo),this.carousel.select("recipe"),this.displayRecipe=!0}goBack(){this.carousel.select("calculator"),this.displayRecipe=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(HA))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pizza"]],viewQuery:function(t,r){if(1&t&&u.Gf(jA,5),2&t){let o;u.iGM(o=u.CRH())&&(r.carousel=o.first)}},decls:10,vars:5,consts:[[1,"container","p-1"],[1,"card"],["class","card-header",4,"ngIf","ngIfElse"],["recipe",""],[1,"card-body"],[3,"interval","showNavigationArrows","showNavigationIndicators"],["carousel",""],["ngbSlide","","id","calculator"],["ngbSlide","","id","recipe"],[1,"card-header"],[1,"card-header",3,"click"],[1,"bi","bi-arrow-left"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mt-2"],[1,"w-100"],["for","pizzaNumber"],["name","pizzaNumber","type","number","inputmode","numeric","min","0",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaSize"],[1,"input-group","mb-2"],["name","pizzaSize","type","number","inputmode","numeric","min","200","max","300",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"align-self-end","ml-3"],["for","pizzaWater"],["name","pizzaWater","type","number","inputmode","numeric","min","50","max","70",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaDough"],["name","pizzaDough",1,"custom-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-dark","mb-3",3,"click"],[3,"ngValue"],[1,"d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],["spezial",""],["yeast",""]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,e_,2,0,"div",2),u.YNc(3,$A,2,0,"ng-template",null,3,u.W1O),u.TgZ(5,"div",4),u.TgZ(6,"ngb-carousel",5,6),u.YNc(8,dE,43,7,"ng-template",7),u.YNc(9,zA,20,9,"ng-template",8),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const o=u.MAs(4);u.xp6(2),u.Q6J("ngIf",!1===r.displayRecipe)("ngIfElse",o),u.xp6(4),u.Q6J("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1)}},directives:[Yr,ab,Bm,Cm,Zf,Au,Ml,Xf,Gd,jd,Yd,Sm,ep,Dn,PT,xT],pipes:[Sg],styles:["[_ngcontent-%COMP%]:focus{outline:0!important;box-shadow:0 0 #0000!important}"]}),n})();var Ib=k(4762),Pn=k(5940),Ti=k(7905),t_=k(6293),ve=k(8239),Wo=k(1572),Tt=k(4213),uh=k(1177);const pE="firebasestorage.googleapis.com",Sb="storageBucket";class Xn extends Tt.ZR{constructor(e,t){super(n_(e),`Firebase Storage: ${t} (${n_(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Xn.prototype)}_codeEquals(e){return n_(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function n_(n){return"storage/"+n}function r_(){return new Xn("unknown","An unknown error occurred, please check the error payload for server response.")}function wi(){return new Xn("canceled","User canceled the upload/download.")}function XA(){return new Xn("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Cc(n){return new Xn("invalid-argument",n)}function vE(){return new Xn("app-deleted","The Firebase app was deleted.")}function Nb(n){return new Xn("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ip(n,e){return new Xn("invalid-format","String does not match format '"+n+"': "+e)}function i_(n){throw new Xn("internal-error","Internal error: "+n)}class kr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=kr.makeFromUrl(e,t)}catch(o){return new kr(e,"")}if(""===r.path)return r;throw new Xn("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let r=null;const o="([A-Za-z0-9.\\-_]+)",_=new RegExp("^gs://"+o+"(/(.*))?$","i");function D(st){st.path_=decodeURIComponent(st.path)}const R=t.replace(/[.]/g,"\\."),St=[{regex:_,indices:{bucket:1,path:3},postModify:function(st){"/"===st.path.charAt(st.path.length-1)&&(st.path_=st.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${R}/v[A-Za-z0-9_]+/b/${o}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:D},{regex:new RegExp(`^https?://${t===pE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${o}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:D}];for(let st=0;st<St.length;st++){const jt=St[st],mr=jt.regex.exec(e);if(mr){let po=mr[jt.indices.path];po||(po=""),r=new kr(mr[jt.indices.bucket],po),jt.postModify(r);break}}if(null==r)throw new Xn("invalid-url","Invalid URL '"+e+"'.");return r}}class TE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function o_(n){return"string"==typeof n||n instanceof String}function Rb(n){return hh()&&n instanceof Blob}function hh(){return"undefined"!=typeof Blob}function a_(n,e,t,r){if(r<e)throw Cc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Cc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Dc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function l_(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Ga=(()=>{return(n=Ga||(Ga={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",Ga;var n})();class tN{constructor(e,t,r,o,c,h,_,v,D,N,R){this.url_=e,this.method_=t,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=h,this.callback_=_,this.errorCallback_=v,this.timeout_=D,this.progressCallback_=N,this.connectionFactory_=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((B,H)=>{this.resolve_=B,this.reject_=H,this.start_()})}start_(){const t=(r,o)=>{const c=this.resolve_,h=this.reject_,_=o.connection;if(o.wasSuccessCode)try{const v=this.callback_(_,_.getResponseText());void 0!==v?c(v):c()}catch(v){h(v)}else if(null!==_){const v=r_();v.serverResponse=_.getResponseText(),h(this.errorCallback_?this.errorCallback_(_,v):v)}else h(o.canceled?this.appDelete_?vE():wi():new Xn("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?t(0,new c_(!1,null,!0)):this.backoffId_=function(n,e,t){let r=1,o=null,c=null,h=!1,_=0;function v(){return 2===_}let D=!1;function N(...Re){D||(D=!0,e.apply(null,Re))}function R(Re){o=setTimeout(()=>{o=null,n(H,v())},Re)}function B(){c&&clearTimeout(c)}function H(Re,...et){if(D)return void B();if(Re)return B(),void N.call(null,Re,...et);if(v()||h)return B(),void N.call(null,Re,...et);let St;r<64&&(r*=2),1===_?(_=2,St=0):St=1e3*(r+Math.random()),R(St)}let ie=!1;function Ce(Re){ie||(ie=!0,B(),!D&&(null!==o?(Re||(_=2),clearTimeout(o),R(0)):Re||(_=1)))}return R(0),c=setTimeout(()=>{h=!0,Ce(!0)},t),Ce}((r,o)=>{if(o)return void r(!1,new c_(!1,null,!0));const c=this.connectionFactory_();this.pendingConnection_=c;const h=_=>{null!==this.progressCallback_&&this.progressCallback_(_.loaded,_.lengthComputable?_.total:-1)};null!==this.progressCallback_&&c.addUploadProgressListener(h),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&c.removeUploadProgressListener(h),this.pendingConnection_=null;const _=c.getErrorCode()===Ga.NO_ERROR,v=c.getStatus();if(!_||this.isRetryStatusCode_(v)){const N=c.getErrorCode()===Ga.ABORT;return void r(!1,new c_(!1,null,N))}const D=-1!==this.successCodes_.indexOf(v);r(!0,new c_(D,c))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,o=-1!==[408,429].indexOf(e),c=-1!==this.additionalRetryCodes_.indexOf(e);return t||o||c}}class c_{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rN(...n){const e="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(hh())return new Blob(n);throw new Xn("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class u_{constructor(e,t){this.data=e,this.contentType=t||null}}function d_(n,e){switch(n){case Ts.RAW:return new u_(Ob(e));case Ts.BASE64:case Ts.BASE64URL:return new u_(RE(n,e));case Ts.DATA_URL:return new u_(function(n){const e=new OE(n);return e.base64?RE(Ts.BASE64,e.rest):function(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Ip(Ts.DATA_URL,"Malformed data URL.")}return Ob(e)}(e.rest)}(e),function(n){return new OE(n).contentType}(e))}throw r_()}function Ob(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function RE(n,e){switch(n){case Ts.BASE64:{const o=-1!==e.indexOf("-"),c=-1!==e.indexOf("_");if(o||c)throw Ip(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ts.BASE64URL:{const o=-1!==e.indexOf("+"),c=-1!==e.indexOf("/");if(o||c)throw Ip(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function(n){return atob(n)}(e)}catch(o){throw Ip(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}class OE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ip(Ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=e.substring(e.indexOf(",")+1)}}class kl{constructor(e,t){let r=0,o="";Rb(e)?(this.data_=e,r=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Rb(this.data_)){const o=function(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===o?null:new kl(o)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new kl(r,!0)}}static getBlob(...e){if(hh()){const t=e.map(r=>r instanceof kl?r.data_:r);return new kl(rN.apply(null,t))}{const t=e.map(h=>o_(h)?d_(Ts.RAW,h).data:h.data_);let r=0;t.forEach(h=>{r+=h.byteLength});const o=new Uint8Array(r);let c=0;return t.forEach(h=>{for(let _=0;_<h.length;_++)o[c++]=h[_]}),new kl(o,!0)}}uploadData(){return this.data_}}function xE(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function oN(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function Ox(n,e){return e}class Vi{constructor(e,t,r,o){this.server=e,this.local=t||e,this.writable=!!r,this.xform=o||Ox}}let h_=null;function f_(){if(h_)return h_;const n=[];n.push(new Vi("bucket")),n.push(new Vi("generation")),n.push(new Vi("metageneration")),n.push(new Vi("name","fullPath",!0));const t=new Vi("name");t.xform=function(c,h){return function(n){return!o_(n)||n.length<2?n:oN(n)}(h)},n.push(t);const o=new Vi("size");return o.xform=function(c,h){return void 0!==h?Number(h):h},n.push(o),n.push(new Vi("timeCreated")),n.push(new Vi("updated")),n.push(new Vi("md5Hash",null,!0)),n.push(new Vi("cacheControl",null,!0)),n.push(new Vi("contentDisposition",null,!0)),n.push(new Vi("contentEncoding",null,!0)),n.push(new Vi("contentLanguage",null,!0)),n.push(new Vi("contentType",null,!0)),n.push(new Vi("metadata","customMetadata",!0)),h_=n,h_}function kE(n,e,t){const r=xE(e);return null===r?null:function(n,e,t){const r={type:"file"},o=t.length;for(let c=0;c<o;c++){const h=t[c];r[h.local]=h.xform(r,e[h.server])}return function(n,e){Object.defineProperty(n,"ref",{get:function(){const c=new kr(n.bucket,n.fullPath);return e._makeStorageReference(c)}})}(r,n),r}(n,r,t)}function Pb(n,e){const t={},r=e.length;for(let o=0;o<r;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}const cN="prefixes";class Fl{constructor(e,t,r,o){this.url=e,this.method=t,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ll(n){if(!n)throw r_()}function fh(n,e){return function(r,o){const c=kE(n,o,e);return Ll(null!==c),c}}function gh(n){return function(t,r){let o;return o=401===t.getStatus()?t.getResponseText().includes("Firebase App Check token is invalid")?new Xn("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Xn("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(n){return new Xn("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function(n){return new Xn("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,o.serverResponse=r.serverResponse,o}}function p_(n){const e=gh(n);return function(r,o){let c=e(r,o);return 404===r.getStatus()&&(c=function(n){return new Xn("object-not-found","Object '"+n+"' does not exist.")}(n.path)),c.serverResponse=o.serverResponse,c}}function g_(n,e,t){const o=Dc(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Fl(o,"GET",fh(n,t),h);return _.errorHandler=p_(e),_}function LE(n,e,t,r,o){const c={};c.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(c.delimiter=t),r&&(c.pageToken=r),o&&(c.maxResults=o);const _=Dc(e.bucketOnlyServerUrl(),n.host,n._protocol),D=n.maxOperationRetryTime,N=new Fl(_,"GET",function(n,e){return function(r,o){const c=function(n,e,t){const r=xE(t);return null===r?null:function(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[cN])for(const o of t[cN]){const c=o.replace(/\/$/,""),h=n._makeStorageReference(new kr(e,c));r.prefixes.push(h)}if(t.items)for(const o of t.items){const c=n._makeStorageReference(new kr(e,o.name));r.items.push(c)}return r}(n,e,r)}(n,e,o);return Ll(null!==c),c}}(n,e.bucket),D);return N.urlParams=c,N.errorHandler=gh(e),N}function Sp(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function(n,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}class kb{constructor(e,t,r,o){this.current=e,this.total=t,this.finalized=!!r,this.metadata=o||null}}function GE(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(o){Ll(!1)}return Ll(!!t&&-1!==(e||["active"]).indexOf(t)),t}const pN={STATE_CHANGED:"state_changed"},is={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function jE(n){switch(n){case"running":case"pausing":case"canceling":return is.RUNNING;case"paused":return is.PAUSED;case"success":return is.SUCCESS;case"canceled":return is.CANCELED;default:return is.ERROR}}class Fb{constructor(e,t,r){if("function"==typeof e||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const c=e;this.next=c.next,this.error=c.error,this.complete=c.complete}}}function mh(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class Vx{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ga.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ga.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ga.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,o){if(this.sent_)throw i_("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==o)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw i_("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw i_("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponseText(){if(!this.sent_)throw i_("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}function Zo(){return new Vx}class mN{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=f_(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{this._request=void 0,this._chunkMultiplier=1,o._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=o,this._transition("error"))},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals("canceled")?this.completeTransitions_():(this._error=o,this._transition("error"))},this._promise=new Promise((o,c)=>{this._resolve=o,this._reject=c,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h=Sp(e,r,o),_={name:h.fullPath},v=Dc(c,n.host,n._protocol),N={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},R=Pb(h,t),ie=new Fl(v,"POST",function(Ce){let Re;GE(Ce);try{Re=Ce.getResponseHeader("X-Goog-Upload-URL")}catch(et){Ll(!1)}return Ll(o_(Re)),Re},n.maxUploadRetryTime);return ie.urlParams=_,ie.headers=N,ie.body=R,ie.errorHandler=gh(e),ie}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zo,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._uploadUrl=c,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const o=function(n,e,t,r){const v=new Fl(t,"POST",function(D){const N=GE(D,["active","final"]);let R=null;try{R=D.getResponseHeader("X-Goog-Upload-Size-Received")}catch(H){Ll(!1)}R||Ll(!1);const B=Number(R);return Ll(!isNaN(B)),new kb(B,r.size(),"final"===N)},n.maxUploadRetryTime);return v.headers={"X-Goog-Upload-Command":"query"},v.errorHandler=gh(e),v}(this._ref.storage,this._ref._location,e,this._blob),c=this._ref.storage._makeRequest(o,Zo,t,r);this._request=c,c.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new kb(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((o,c)=>{let h;try{h=function(n,e,t,r,o,c,h,_){const v=new kb(0,0);if(h?(v.current=h.current,v.total=h.total):(v.current=0,v.total=r.size()),r.size()!==v.total)throw new Xn("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const D=v.total-v.current;let N=D;o>0&&(N=Math.min(N,o));const R=v.current,ie={"X-Goog-Upload-Command":N===D?"upload, finalize":"upload","X-Goog-Upload-Offset":`${v.current}`},Ce=r.slice(R,R+N);if(null===Ce)throw XA();const St=new Fl(t,"POST",function(st,jt){const mr=GE(st,["active","final"]),zh=v.current+N,po=r.size();let $O;return $O="final"===mr?fh(e,c)(st,jt):null,new kb(zh,po,"final"===mr,$O)},e.maxUploadRetryTime);return St.headers=ie,St.body=Ce.uploadData(),St.progressCallback=_||null,St.errorHandler=gh(n),St}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(v){return this._error=v,void this._transition("error")}const _=this._ref.storage._makeRequest(h,Zo,o,c);this._request=_,_.getPromise().then(v=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(v.current),v.finalized?(this._metadata=v.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=g_(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(r,Zo,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function(n,e,t,r,o){const c=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"},v=function(){let St="";for(let st=0;st<2;st++)St+=Math.random().toString().slice(2);return St}();h["Content-Type"]="multipart/related; boundary="+v;const D=Sp(e,r,o),N=Pb(D,t),H=kl.getBlob("--"+v+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+N+"\r\n--"+v+"\r\nContent-Type: "+D.contentType+"\r\n\r\n",r,"\r\n--"+v+"--");if(null===H)throw XA();const ie={name:D.fullPath},Ce=Dc(c,n.host,n._protocol),et=n.maxUploadRetryTime,ht=new Fl(Ce,"POST",fh(n,t),et);return ht.urlParams=ie,ht.headers=h,ht.body=H.uploadData(),ht.errorHandler=gh(e),ht}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(r,Zo,e,t);this._request=o,o.getPromise().then(c=>{this._request=void 0,this._metadata=c,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=wi(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=jE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,o){const c=new Fb(t||void 0,r||void 0,o||void 0);return this._addObserver(c),()=>{this._removeObserver(c)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(jE(this._state)){case is.SUCCESS:mh(this._resolve.bind(null,this.snapshot))();break;case is.CANCELED:case is.ERROR:mh(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(jE(this._state)){case is.RUNNING:case is.PAUSED:e.next&&mh(e.next.bind(e,this.snapshot))();break;case is.SUCCESS:e.complete&&mh(e.complete.bind(e))();break;default:e.error&&mh(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Ic{constructor(e,t){this._service=e,this._location=t instanceof kr?t:kr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ic(e,t)}get root(){const e=new kr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oN(this._location.path)}get storage(){return this._service}get parent(){const e=function(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new kr(this._location.bucket,e);return new Ic(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw Nb(e)}}function m_(n,e,t){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,ve.Z)(function*(n,e,t){const o=yield WE(n,{pageToken:t});e.prefixes.push(...o.prefixes),e.items.push(...o.items),null!=o.nextPageToken&&(yield m_(n,e,o.nextPageToken))})).apply(this,arguments)}function WE(n,e){null!=e&&"number"==typeof e.maxResults&&a_("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=LE(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Zo)}function bN(n){n._throwIfRoot("getDownloadURL");const e=function(n,e,t){const o=Dc(e.fullServerUrl(),n.host,n._protocol),h=n.maxOperationRetryTime,_=new Fl(o,"GET",function(n,e){return function(r,o){const c=kE(n,o,e);return Ll(null!==c),function(n,e,t,r){const o=xE(e);if(null===o||!o_(o.downloadTokens))return null;const c=o.downloadTokens;if(0===c.length)return null;const h=encodeURIComponent;return c.split(",").map(D=>{const R=n.fullPath;return Dc("/b/"+h(n.bucket)+"/o/"+h(R),t,r)+l_({alt:"media",token:D})})[0]}(c,o,n.host,n._protocol)}}(n,t),h);return _.errorHandler=p_(e),_}(n.storage,n._location,f_());return n.storage.makeRequestWithTokens(e,Zo).then(t=>{if(null===t)throw new Xn("no-download-url","The given file does not have any download URLs.");return t})}function ZE(n,e){const t=function(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new kr(n._location.bucket,t);return new Ic(n.storage,r)}function zE(n,e){if(n instanceof Hb){const t=n;if(null==t._bucket)throw new Xn("no-default-bucket","No default bucket found. Did you set the '"+Sb+"' property when initializing the app?");const r=new Ic(t,t._bucket);return null!=e?zE(r,e):r}return void 0!==e?ZE(n,e):n}function Ub(n,e){if(e&&function(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof Hb)return function(n,e){return new Ic(n,e)}(n,e);throw Cc("To use ref(service, url), the first argument must be a Storage instance.")}return zE(n,e)}function Gb(n,e){const t=null==e?void 0:e[Sb];return null==t?null:kr.makeFromBucketSpec(t,n)}class Hb{constructor(e,t,r,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=pE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=o?kr.makeFromBucketSpec(o,this._host):Gb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?kr.makeFromBucketSpec(this._url,e):Gb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){a_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){a_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,ve.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,ve.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ic(this,e)}_makeRequest(e,t,r,o){if(this._deleted)return new TE(vE());{const c=function(n,e,t,r,o,c){const h=l_(n.urlParams),_=n.url+h,v=Object.assign({},n.headers);return function(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(v,c),function(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new tN(_,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o)}(e,this._appId,r,o,t,this._firebaseVersion);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,ve.Z)(function*(){const[o,c]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,o,c).getPromise()})()}}const jb="@firebase/storage";function XE(n,e){return Ub(n=(0,Tt.m9)(n),e)}(0,Wo._registerComponent)(new uh.wA("storage",function(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new Hb(t,r,o,e,Wo.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Wo.registerVersion)(jb,"0.8.7",""),(0,Wo.registerVersion)(jb,"0.8.7","esm2017");class __{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Zb{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new __(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new __(r,this,this._ref))},t)}on(e,t,r,o){let c;return t&&(c="function"==typeof t?h=>t(new __(h,this,this._ref)):{next:t.next?h=>t.next(new __(h,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,c,r||void 0,o||void 0)}}class eC{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Vl(e,this._service))}get items(){return this._delegate.items.map(e=>new Vl(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Vl{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(n,e){return ZE(n,e)}(this._delegate,e);return new Vl(t,this.storage)}get root(){return new Vl(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Vl(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Zb(function(n,e,t){return function(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new mN(n,new kl(e),t)}(n=(0,Tt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Ts.RAW,r){this._throwIfRoot("putString");const o=d_(t,e),c=Object.assign({},r);return null==c.contentType&&null!=o.contentType&&(c.contentType=o.contentType),new Zb(new mN(this._delegate,new kl(o.data,!0),c),this)}listAll(){return function(n){return function(n){const e={prefixes:[],items:[]};return m_(n,e).then(()=>e)}(n=(0,Tt.m9)(n))}(this._delegate).then(e=>new eC(e,this.storage))}list(e){return function(n,e){return WE(n=(0,Tt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new eC(t,this.storage))}getMetadata(){return function(n){return function(n){n._throwIfRoot("getMetadata");const e=g_(n.storage,n._location,f_());return n.storage.makeRequestWithTokens(e,Zo)}(n=(0,Tt.m9)(n))}(this._delegate)}updateMetadata(e){return function(n,e){return function(n,e){n._throwIfRoot("updateMetadata");const t=function(n,e,t,r){const c=Dc(e.fullServerUrl(),n.host,n._protocol),_=Pb(t,r),D=n.maxOperationRetryTime,N=new Fl(c,"PATCH",fh(n,r),D);return N.headers={"Content-Type":"application/json; charset=utf-8"},N.body=_,N.errorHandler=p_(e),N}(n.storage,n._location,e,f_());return n.storage.makeRequestWithTokens(t,Zo)}(n=(0,Tt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return bN((0,Tt.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(n){n._throwIfRoot("deleteObject");const e=function(n,e){const r=Dc(e.fullServerUrl(),n.host,n._protocol),_=new Fl(r,"DELETE",function(v,D){},n.maxOperationRetryTime);return _.successCodes=[200,204],_.errorHandler=p_(e),_}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Zo)}((0,Tt.m9)(this._delegate))}_throwIfRoot(e){if(""===this._delegate._location.path)throw Nb(e)}}class zb{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(tC(e))throw Cc("ref() expected a child path but got a URL, use refFromURL instead.");return new Vl(XE(this._delegate,e),this)}refFromURL(e){if(!tC(e))throw Cc("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kr.makeFromUrl(e,this._delegate.host)}catch(t){throw Cc("refFromUrl() expected a valid full URL but got an invalid one.")}return new Vl(XE(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function(n,e,t,r={}){!function(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken="string"==typeof o?o:(0,Tt.Sg)(o,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function tC(n){return/^[A-Za-z]+:\/\//.test(n)}function DN(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new zb(t,r)}!function(n){const e={TaskState:is,TaskEvent:pN,StringFormat:Ts,Storage:zb,Reference:Vl};n.INTERNAL.registerComponent(new uh.wA("storage-compat",DN,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.7")}(t_.Z),k(7713);var Gu=k(3855);const NN=new Map,ek={activated:!1,tokenObservers:[]},MN={initialized:!1,enabled:!1};function Fr(n){return NN.get(n)||ek}function vn(n,e){NN.set(n,e)}function Yb(){return MN}class ON{constructor(e,t,r,o,c){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=o,o>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ve.Z)(function*(){t.stop();try{t.pending=new Tt.BH,yield(n=t.getNextRun(e),new Promise(e=>{setTimeout(e,n)})),t.pending.resolve(),yield t.pending.promise,t.pending=new Tt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}var n})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Es=new Tt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function v_(n){if(!Fr(n).activated)throw Es.create("use-before-activation",{appName:n.name})}function yh(n,e){return Qb.apply(this,arguments)}function Qb(){return(Qb=(0,ve.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});o&&(r["X-Firebase-Client"]=o.getPlatformInfoString());const c={method:"POST",body:JSON.stringify(e),headers:r};let h,_;try{h=yield fetch(n,c)}catch(R){throw Es.create("fetch-network-error",{originalErrorMessage:R.message})}if(200!==h.status)throw Es.create("fetch-status-error",{httpStatus:h.status});try{_=yield h.json()}catch(R){throw Es.create("fetch-parse-error",{originalErrorMessage:R.message})}const v=_.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw Es.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const D=1e3*Number(v[1]),N=Date.now();return{token:_.attestationToken,expireTimeMillis:N+D,issuedAtTimeMillis:N}})).apply(this,arguments)}function Lr(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const Ap="firebase-app-check-store";let ju=null;function uC(){return ju||(ju=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Es.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ap,{keyPath:"compositeKey"})}}catch(t){e(Es.create("storage-open",{originalErrorMessage:t.message}))}}),ju)}function Xb(){return(Xb=(0,ve.Z)(function*(n,e){const r=(yield uC()).transaction(Ap,"readwrite"),c=r.objectStore(Ap).put({compositeKey:n,value:e});return new Promise((h,_)=>{c.onsuccess=v=>{h()},r.onerror=v=>{var D;_(Es.create("storage-set",{originalErrorMessage:null===(D=v.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const Np=new Gu.Yd("@firebase/app-check");function nv(n,e){return(0,Tt.hl)()?function(n,e){return function(n,e){return Xb.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Np.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function iv(){return Yb().enabled}function Mp(){return sv.apply(this,arguments)}function sv(){return(sv=(0,ve.Z)(function*(){const n=Yb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const BN={error:"UNKNOWN_ERROR"};function UN(n){return Tt.US.encodeString(JSON.stringify(n),!1)}function ov(n){return av.apply(this,arguments)}function av(){return(av=(0,ve.Z)(function*(n,e=!1){const t=n.app;v_(t);const r=Fr(t);let c,h,o=r.token;if(!o){const _=yield r.cachedTokenPromise;_&&Rp(_)&&(o=_,vn(t,Object.assign(Object.assign({},r),{token:o})),gC(t,{token:o.token}))}if(!e&&o&&Rp(o))return{token:o.token};if(iv()){const _=yield yh(Lr(t,yield Mp()),n.platformLoggerProvider);return yield nv(t,_),vn(t,Object.assign(Object.assign({},r),{token:_})),{token:_.token}}try{o=yield r.provider.getToken()}catch(_){Np.error(_),c=_}return o?(h={token:o.token},vn(t,Object.assign(Object.assign({},r),{token:o})),yield nv(t,o)):h=HN(c),gC(t,h),h})).apply(this,arguments)}function lv(n,e){const t=Fr(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),vn(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function gC(n,e){const t=Fr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function Rp(n){return n.expireTimeMillis-Date.now()>0}function HN(n){return{token:UN(BN),error:n}}class jN{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Fr(this.app);for(const t of e)lv(this.app,t.next);return Promise.resolve()}}const Un="app-check-internal";(0,Wo._registerComponent)(new uh.wA("app-check",n=>function(n,e){return new jN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Un).initialize()})),(0,Wo._registerComponent)(new uh.wA(Un,n=>function(n){return{getToken:e=>ov(n,e),addTokenListener:e=>function(n,e,t,r){const{app:o}=n,c=Fr(o),h={next:t,error:r,type:e},_=Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,h]});if(!_.tokenRefresher){const v=function(n){const{app:e}=n;return new ON((0,ve.Z)(function*(){let r;if(r=Fr(e).token?yield ov(n,!0):yield ov(n),r.error)throw r.error}),()=>!0,()=>{const t=Fr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);_.tokenRefresher=v}if(!_.tokenRefresher.isRunning()&&c.isTokenAutoRefreshEnabled&&_.tokenRefresher.start(),c.token&&Rp(c.token)){const v=c.token;Promise.resolve().then(()=>t({token:v.token})).catch(()=>{})}else null==c.token&&c.cachedTokenPromise.then(v=>{v&&Rp(v)&&t({token:v.token})}).catch(()=>{});vn(o,_)}(n,"INTERNAL",e),removeTokenListener:e=>lv(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Wo.registerVersion)("@firebase/app-check","0.5.1");class xp{constructor(){return(0,Pn.vb)("app-check")}}"undefined"!=typeof window&&window;var yv=k(7892);function Fp(n){const e=function(n){return new Bn.y(e=>{const t=h=>e.next(h);t(n.snapshot);const c=n.on("state_changed",t);return n.then(h=>{t(h),e.complete()},h=>{t(n.snapshot),(h=>{e.error(h)})(h)}),function(){c()}}).pipe(cm(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ze.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function A_(n){return{getDownloadURL:()=>(0,Xe.of)(void 0).pipe(Pn.fc,on(()=>n.getDownloadURL()),Pn.iC),getMetadata:()=>(0,Xe.of)(void 0).pipe(Pn.fc,on(()=>n.getMetadata()),Pn.iC),delete:()=>(0,sn.D)(n.delete()),child:e=>A_(n.child(e)),updateMetadata:e=>(0,sn.D)(n.updateMetadata(e)),put:(e,t)=>Fp(n.put(e,t)),putString:(e,t,r)=>Fp(n.putString(e,t,r)),list:e=>(0,sn.D)(n.list(e)),listAll:()=>(0,sn.D)(n.listAll())}}const bv=new u.OlP("angularfire2.storageBucket"),vv=new u.OlP("angularfire2.storage.maxUploadRetryTime"),ak=new u.OlP("angularfire2.storage.maxOperationRetryTime"),lk=new u.OlP("angularfire2.storage.use-emulator");let wt=(()=>{class n{constructor(t,r,o,c,h,_,v,D,N,R){const B=(0,Ti.on)(t,h,r);this.storage=(0,Ti.cc)(`${B.name}.storage.${o}`,"AngularFireStorage",B.name,()=>{const H=h.runOutsideAngular(()=>B.storage(o||void 0)),ie=N;return ie&&H.useEmulator(...ie),v&&H.setMaxUploadRetryTime(v),D&&H.setMaxOperationRetryTime(D),H},[v,D])}ref(t){return A_(this.storage.ref(t))}refFromURL(t){return A_(this.storage.refFromURL(t))}upload(t,r,o){return A_(this.storage.ref(t)).put(r,o)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ti.Dh),u.LFG(Ti.xv,8),u.LFG(bv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pn.HU),u.LFG(vv,8),u.LFG(ak,8),u.LFG(lk,8),u.LFG(xp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({}),n})(),uk=(()=>{class n{constructor(){yv.Z.registerVersion("angularfire",Pn.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[wt],imports:[ck]}),n})();function Tv(){return n=>n.lift(new QN)}class QN{call(e,t){return t.subscribe(new JN(e))}}class JN extends Jt.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}k(4802);var Ke,XN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Dr={},wv=wv||{},Dt=XN||self;function N_(){}function $u(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Lp(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ev="closure_uid_"+(1e9*Math.random()>>>0),hk=0;function fk(n,e,t){return n.call.apply(n.bind,arguments)}function tM(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Xt(n,e,t){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?fk:tM).apply(null,arguments)}function M_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ii(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,c){for(var h=Array(arguments.length-2),_=2;_<arguments.length;_++)h[_-2]=arguments[_];return e.prototype[o].apply(r,h)}}function Ha(){this.s=this.s,this.o=this.o}var rM={};Ha.prototype.s=!1,Ha.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Ev)&&n[Ev]||(n[Ev]=++hk)}(this);delete rM[n]}},Ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wC=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},EC=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let c=0;c<r;c++)c in o&&e.call(t,o[c],c,n)};function CC(n){return Array.prototype.concat.apply([],arguments)}function Vp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function R_(n){return/^[\s\xa0]*$/.test(n)}var Bi,DC=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ei(n,e){return-1!=n.indexOf(e)}function Bp(n,e){return n<e?-1:n>e?1:0}e:{var sM=Dt.navigator;if(sM){var IC=sM.userAgent;if(IC){Bi=IC;break e}}Bi=""}function Cv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function SC(n){const e={};for(const t in n)e[t]=n[t];return e}var AC="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NC(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let c=0;c<AC.length;c++)t=AC[c],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Dv(n){return Dv[" "](n),n}Dv[" "]=N_;var O_,n,oM=Ei(Bi,"Opera"),wh=Ei(Bi,"Trident")||Ei(Bi,"MSIE"),Iv=Ei(Bi,"Edge"),Wu=Iv||wh,aM=Ei(Bi,"Gecko")&&!(Ei(Bi.toLowerCase(),"webkit")&&!Ei(Bi,"Edge"))&&!(Ei(Bi,"Trident")||Ei(Bi,"MSIE"))&&!Ei(Bi,"Edge"),MC=Ei(Bi.toLowerCase(),"webkit")&&!Ei(Bi,"Edge");function RC(){var n=Dt.document;return n?n.documentMode:void 0}e:{var Sv="",Av=(n=Bi,aM?/rv:([^\);]+)(\)|;)/.exec(n):Iv?/Edge\/([\d\.]+)/.exec(n):wh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):MC?/WebKit\/(\S+)/.exec(n):oM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Av&&(Sv=Av?Av[1]:""),wh){var Nv=RC();if(null!=Nv&&Nv>parseFloat(Sv)){O_=String(Nv);break e}}O_=Sv}var OC={};function lM(){return e=OC,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=DC(String(O_)).split("."),t=DC("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",c=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],0==o[0].length&&0==c[0].length)break;n=Bp(0==o[1].length?0:parseInt(o[1],10),0==c[1].length?0:parseInt(c[1],10))||Bp(0==o[2].length,0==c[2].length)||Bp(o[2],c[2]),o=o[3],c=c[3]}while(0==n)}return 0<=n}();var e}var pk=Dt.document&&wh&&(RC()||parseInt(O_,10))||void 0,gk=function(){if(!Dt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dt.addEventListener("test",N_,e),Dt.removeEventListener("test",N_,e)}catch(t){}return n}();function Vr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Gp(n,e){if(Vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aM){e:{try{Dv(e.nodeName);var o=!0;break e}catch(c){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:uM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Gp.Z.h.call(this)}}Vr.prototype.h=function(){this.defaultPrevented=!0},ii(Gp,Vr);var uM={2:"touch",3:"pen",4:"mouse"};Gp.prototype.h=function(){Gp.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Hp="closure_listenable_"+(1e6*Math.random()|0),dM=0;function hM(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++dM,this.ca=this.fa=!1}function P_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function jp(n){this.src=n,this.g={},this.h=0}function $p(n,e){var t=e.type;if(t in n.g){var c,r=n.g[t],o=wC(r,e);(c=0<=o)&&Array.prototype.splice.call(r,o,1),c&&(P_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Rv(n,e,t,r){for(var o=0;o<n.length;++o){var c=n[o];if(!c.ca&&c.listener==e&&c.capture==!!t&&c.ia==r)return o}return-1}jp.prototype.add=function(n,e,t,r,o){var c=n.toString();(n=this.g[c])||(n=this.g[c]=[],this.h++);var h=Rv(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new hM(e,this.src,c,!!r,o)).fa=t,n.push(e)),e};var Br="closure_lm_"+(1e6*Math.random()|0),x_={};function lo(n,e,t,r,o){if(r&&r.once)return Ov(n,e,t,r,o);if(Array.isArray(e)){for(var c=0;c<e.length;c++)lo(n,e[c],t,r,o);return null}return t=xC(t),n&&n[Hp]?n.N(e,t,Lp(r)?!!r.capture:!!r,o):k_(n,e,t,!1,r,o)}function k_(n,e,t,r,o,c){if(!e)throw Error("Invalid event type");var h=Lp(o)?!!o.capture:!!o,_=Zu(n);if(_||(n[Br]=_=new jp(n)),(t=_.add(e,t,r,h,c)).proxy)return t;if(r=function(){var e=gM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)gk||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(PC(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ov(n,e,t,r,o){if(Array.isArray(e)){for(var c=0;c<e.length;c++)Ov(n,e[c],t,r,o);return null}return t=xC(t),n&&n[Hp]?n.O(e,t,Lp(r)?!!r.capture:!!r,o):k_(n,e,t,!0,r,o)}function pM(n,e,t,r,o){if(Array.isArray(e))for(var c=0;c<e.length;c++)pM(n,e[c],t,r,o);else r=Lp(r)?!!r.capture:!!r,t=xC(t),n&&n[Hp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Rv(c=n.g[e],t,r,o))&&(P_(c[t]),Array.prototype.splice.call(c,t,1),0==c.length&&(delete n.g[e],n.h--))):n&&(n=Zu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Rv(e,t,r,o)),(t=-1<n?e[n]:null)&&Pv(t))}function Pv(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Hp])$p(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(PC(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Zu(e))?($p(t,n),0==t.h&&(t.src=null,e[Br]=null)):P_(n)}}}function PC(n){return n in x_?x_[n]:x_[n]="on"+n}function gM(n,e){if(n.ca)n=!0;else{e=new Gp(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Pv(n),n=t.call(r,e)}return n}function Zu(n){return(n=n[Br])instanceof jp?n:null}var F_="__closure_events_fn_"+(1e9*Math.random()>>>0);function xC(n){return"function"==typeof n?n:(n[F_]||(n[F_]=function(e){return n.handleEvent(e)}),n[F_])}function Ur(){Ha.call(this),this.i=new jp(this),this.P=this,this.I=null}function Ci(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Vr(e,n);else if(e instanceof Vr)e.target=e.target||n;else{var o=e;NC(e=new Vr(r,n),o)}if(o=!0,t)for(var c=t.length-1;0<=c;c--){var h=e.g=t[c];o=xv(h,r,!0,e)&&o}if(o=xv(h=e.g=n,r,!0,e)&&o,o=xv(h,r,!1,e)&&o,t)for(c=0;c<t.length;c++)o=xv(h=e.g=t[c],r,!1,e)&&o}function xv(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,c=0;c<e.length;++c){var h=e[c];if(h&&!h.ca&&h.capture==t){var _=h.listener,v=h.ia||h.src;h.fa&&$p(n.i,h),o=!1!==_.call(v,r)&&o}}return o&&!r.defaultPrevented}ii(Ur,Ha),Ur.prototype[Hp]=!0,Ur.prototype.removeEventListener=function(n,e,t,r){pM(this,n,e,t,r)},Ur.prototype.M=function(){if(Ur.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)P_(t[r]);delete n.g[e],n.h--}}this.I=null},Ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var kC=Dt.JSON.stringify;function kv(){var n=bM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Lv,FC=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _M,n=>n.reset());class _M{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function mk(n){Dt.setTimeout(()=>{throw n},0)}function Fv(n,e){Lv||function(){var n=Dt.Promise.resolve(void 0);Lv=function(){n.then(LC)}}(),Ds||(Lv(),Ds=!0),bM.add(n,e)}var Ds=!1,bM=new class{constructor(){this.h=this.g=null}add(e,t){const r=FC.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function LC(){for(var n;n=kv();){try{n.h.call(n.g)}catch(t){mk(t)}var e=FC;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ds=!1}function L_(n,e){Ur.call(this),this.h=n||1,this.g=e||Dt,this.j=Xt(this.kb,this),this.l=Date.now()}function V_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function B_(n,e,t){if("function"==typeof n)t&&(n=Xt(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xt(n.handleEvent,n)}return 2147483647<Number(e)?-1:Dt.setTimeout(n,e||0)}function Vv(n){n.g=B_(()=>{n.g=null,n.i&&(n.i=!1,Vv(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ii(L_,Ur),(Ke=L_.prototype).da=!1,Ke.S=null,Ke.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ci(this,"tick"),this.da&&(V_(this),this.start()))}},Ke.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.M=function(){L_.Z.M.call(this),V_(this),delete this.g};class Bv extends Ha{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Vv(this)}M(){super.M(),this.g&&(Dt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zu(n){Ha.call(this),this.h=n,this.g={}}ii(zu,Ha);var U_=[];function Wp(n,e,t,r){Array.isArray(t)||(t&&(U_[0]=t.toString()),t=U_);for(var o=0;o<t.length;o++){var c=lo(e,t[o],r||n.handleEvent,!1,n.h||n);if(!c)break;n.g[c.key]=c}}function Zp(n){Cv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Pv(e)},n),n.g={}}function zp(){this.g=!0}function Eh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var c=o[0];if("noop"!=c&&"stop"!=c&&"close"!=c)for(var h=1;h<o.length;h++)o[h]=""}}}return kC(t)}catch(_){return e}}(n,t)+(r?" "+r:"")})}zu.prototype.M=function(){zu.Z.M.call(this),Zp(this)},zu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},zp.prototype.Aa=function(){this.g=!1},zp.prototype.info=function(){};var qu={},UC=null;function Ch(){return UC=UC||new Ur}function GC(n){Vr.call(this,qu.Ma,n)}function Ir(n){const e=Ch();Ci(e,new GC(e,n))}function Dh(n,e){Vr.call(this,qu.STAT_EVENT,n),this.stat=e}function Gr(n){const e=Ch();Ci(e,new Dh(e,n))}function Uv(n,e){Vr.call(this,qu.Na,n),this.size=e}function Mc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dt.setTimeout(function(){n()},e)}qu.Ma="serverreachability",ii(GC,Vr),qu.STAT_EVENT="statevent",ii(Dh,Vr),qu.Na="timingevent",ii(Uv,Vr);var Ih={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Gv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sh(){}function jC(){}Sh.prototype.h=null;var jv,qp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hv(){Vr.call(this,"d")}function G_(){Vr.call(this,"c")}function H_(){}function Kp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new zu(this),this.P=Yp,this.W=new L_(n=Wu?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Bl}function Bl(){this.i=null,this.g="",this.h=!1}ii(Hv,Vr),ii(G_,Vr),ii(H_,Sh),H_.prototype.g=function(){return new XMLHttpRequest},H_.prototype.i=function(){return{}},jv=new H_;var Yp=45e3,Qp={},j_={};function $v(n,e,t){n.K=1,n.v=$a(ja(e)),n.s=t,n.U=!0,$C(n,null)}function $C(n,e){n.F=Date.now(),Ah(n),n.A=ja(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),SM(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Bl,n.g=Ok(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Bv(Xt(n.Ia,n,n.g),n.O)),Wp(n.V,n.g,"readystatechange",n.gb),e=n.H?SC(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Ir(1),function(n,e,t,r,o,c){n.info(function(){if(n.g)if(c)for(var h="",_=c.split("&"),v=0;v<_.length;v++){var D=_[v].split("=");if(1<D.length){var N=D[0];D=D[1];var R=N.split("_");h=2<=R.length&&"type"==R[1]?h+(N+"=")+D+"&":h+(N+"=redacted&")}}else h=null;else h=c;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function $_(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function WC(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=ZC(n,t),o==j_){4==e&&(n.o=4,Gr(14),r=!1),Eh(n.j,n.m,null,"[Incomplete Response]");break}if(o==Qp){n.o=4,Gr(15),Eh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Eh(n.j,n.m,o,null),Ku(n,o)}$_(n)&&o!=j_&&o!=Qp&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Gr(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),OM(e),e.L=!0,Gr(11))):(Eh(n.j,n.m,t,"[Invalid Chunked Response]"),Ui(n),Jp(n))}function ZC(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?j_:(t=Number(e.substring(t,r)),isNaN(t)?Qp:(r+=1)+t>e.length?j_:(e=e.substr(r,t),n.C=r+t,e))}function Ah(n){n.Y=Date.now()+n.P,zC(n,n.P)}function zC(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mc(Xt(n.eb,n),e)}function W_(n){n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Jp(n){0==n.l.G||n.I||Ak(n.l,n)}function Ui(n){W_(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,V_(n.W),Zp(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ku(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||d(t.i,n)))if(t.I=n.N,!n.J&&d(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Mc(Xt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;eD(t),JC(t)}RM(t),Gr(18)}if(1>=l(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else rg(t,11)}else if((n.J||t.g==n)&&eD(t),!R_(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let D=o[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const N=D[3];null!=N&&(t.ma=N,t.h.info("VER="+t.ma));const R=D[4];null!=R&&(t.za=R,t.h.info("SVER="+t.za));const B=D[5];null!=B&&"number"==typeof B&&0<B&&(t.K=r=1.5*B,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const H=n.g;if(H){const ie=H.g?H.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ie){var c=r.i;!c.g&&(Ei(ie,"spdy")||Ei(ie,"quic")||Ei(ie,"h2"))&&(c.j=c.l,c.g=new Set,c.h&&(f(c,c.h),c.h=null))}if(r.D){const Ce=H.g?H.g.getResponseHeader("X-HTTP-Session-Id"):null;Ce&&(r.sa=Ce,xn(r.F,r.D,Ce))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Rk(r,r.H?r.la:null,r.W),h.J){m(r.i,h);var _=h,v=r.K;v&&_.setTimeout(v),_.B&&(W_(_),Ah(_)),r.g=h}else Ik(r);0<t.l.length&&XC(t)}else"stop"!=D[0]&&"close"!=D[0]||rg(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?rg(t,7):NM(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}Ir(4)}catch(D){}}function Mh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if($u(n)||"string"==typeof n)EC(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if($u(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if($u(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var c=0;c<o;c++)e.call(void 0,r[c],t&&t[c],n)}}function Ko(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Ko)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Wv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Yu(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Yu(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Yu(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ke=Kp.prototype).setTimeout=function(n){this.P=n},Ke.gb=function(n){n=n.target;const e=this.L;e&&3==Yo(n)?e.l():this.Ia(n)},Ke.Ia=function(n){try{if(n==this.g)e:{const N=Yo(this.g);var e=this.g.Da();const R=this.g.ba();if(!(3>N)&&(3!=N||Wu||this.g&&(this.h.h||this.g.ga()||Q_(this.g)))){this.I||4!=N||7==e||Ir(8==e||0>=R?3:2),W_(this);var t=this.g.ba();this.N=t;t:if($_(this)){var r=Q_(this.g);n="";var o=r.length,c=4==Yo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ui(this),Jp(this);var h="";break t}this.h.i=new Dt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:c&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,o,c,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+c+" "+h})}(this.j,this.u,this.A,this.m,this.X,N,t),this.i){if(this.$&&!this.J){t:{if(this.g){var _,v=this.g;if((_=v.g?v.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R_(_)){var D=_;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,Gr(12),Ui(this),Jp(this);break e}Eh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ku(this,t)}this.U?(WC(this,N,h),Wu&&this.i&&3==N&&(Wp(this.V,this.W,"tick",this.fb),this.W.start())):(Eh(this.j,this.m,h,null),Ku(this,h)),4==N&&Ui(this),this.i&&!this.I&&(4==N?Ak(this.l,this):(this.i=!1,Ah(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,Gr(12)):(this.o=0,Gr(13)),Ui(this),Jp(this)}}}catch(N){}},Ke.fb=function(){if(this.g){var n=Yo(this.g),e=this.g.ga();this.C<e.length&&(W_(this),WC(this,n,e),this.i&&4!=n&&Ah(this))}},Ke.cancel=function(){this.I=!0,Ui(this)},Ke.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ir(3),Gr(17)),Ui(this),this.o=2,Jp(this)):zC(this,this.Y-n)},(Ke=Ko.prototype).R=function(){Wv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ke.T=function(){return Wv(this),this.g.concat()},Ke.get=function(n,e){return Yu(this.h,n)?this.h[n]:e},Ke.set=function(n,e){Yu(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ke.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],c=this.get(o);n.call(e,c,o,this)}};var qC=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Rc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Rc){this.g=void 0!==e?e:n.g,Xp(this,n.j),this.s=n.s,Rh(this,n.i),Z_(this,n.m),this.l=n.l,e=n.h;var t=new q_;t.i=e.i,e.g&&(t.g=new Ko(e.g),t.h=e.h),YC(this,t),this.o=n.o}else n&&(t=String(n).match(qC))?(this.g=!!e,Xp(this,t[1]||"",!0),this.s=eg(t[2]||""),Rh(this,t[3]||"",!0),Z_(this,t[4]),this.l=eg(t[5]||"",!0),YC(this,t[6]||"",!0),this.o=eg(t[7]||"")):(this.g=!!e,this.h=new q_(null,this.g))}function ja(n){return new Rc(n)}function Xp(n,e,t){n.j=t?eg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Rh(n,e,t){n.i=t?eg(e,!0):e}function Z_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function YC(n,e,t){e instanceof q_?(n.h=e,function(n,e){e&&!n.j&&(Qu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(IM(this,r),SM(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=z_(e,DM)),n.h=new q_(e,n.g))}function xn(n,e,t){n.h.set(e,t)}function $a(n){return xn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function eg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function z_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,_k),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function _k(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Rc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(z_(e,EM,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(z_(e,EM,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(z_(t,"/"==t.charAt(0)?CM:yk,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",z_(t,bk)),n.join("")};var EM=/[#\/\?@]/g,yk=/[#\?:]/g,CM=/[#\?]/g,DM=/[#\?@]/g,bk=/#/g;function q_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Qu(n){n.g||(n.g=new Ko,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var c=n[t].substring(0,r);o=n[t].substring(r+1)}else c=n[t];e(c,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function IM(n,e){Qu(n),e=tg(n,e),Yu(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Yu((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Wv(n)))}function QC(n,e){return Qu(n),e=tg(n,e),Yu(n.g.h,e)}function SM(n,e,t){IM(n,e),0<t.length&&(n.i=null,n.g.set(tg(n,e),Vp(t)),n.h+=t.length)}function tg(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function i(n){this.l=n||s,n=Dt.PerformanceNavigationTiming?0<(n=Dt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dt.g&&Dt.g.Ea&&Dt.g.Ea()&&Dt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=q_.prototype).add=function(n,e){Qu(this),this.i=null,n=tg(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){Qu(this),this.g.forEach(function(t,r){EC(t,function(o){n.call(e,o,r,this)},this)},this)},Ke.T=function(){Qu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],c=0;c<o.length;c++)t.push(e[r]);return t},Ke.R=function(n){Qu(this);var e=[];if("string"==typeof n)QC(this,n)&&(e=CC(e,this.g.get(tg(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=CC(e,n[t])}return e},Ke.set=function(n,e){return Qu(this),this.i=null,QC(this,n=tg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var c=0;c<r.length;c++){var h=o;""!==r[c]&&(h+="="+encodeURIComponent(String(r[c]))),n.push(h)}}return this.i=n.join("&")};var s=10;function a(n){return!!n.h||!!n.g&&n.g.size>=n.j}function l(n){return n.h?1:n.g?n.g.size:0}function d(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function f(n,e){n.g?n.g.add(e):n.h=e}function m(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function y(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Vp(n.i)}function w(){}function C(){this.g=new w}function S(n,e,t){const r=t||"";try{Mh(n,function(o,c){let h=o;Lp(o)&&(h=kC(o)),e.push(r+c+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function x(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(c){}}function G(n){this.l=n.$b||null,this.j=n.ib||!1}function W(n,e){Ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=ue,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}i.prototype.cancel=function(){if(this.i=y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},w.prototype.stringify=function(n){return Dt.JSON.stringify(n,void 0)},w.prototype.parse=function(n){return Dt.JSON.parse(n,void 0)},ii(G,Sh),G.prototype.g=function(){return new W(this.l,this.j)},G.prototype.i=function(n){return function(){return n}}({}),ii(W,Ur);var ue=0;function ee(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function xe(n){n.readyState=4,n.l=null,n.j=null,n.A=null,we(n)}function we(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=W.prototype).open=function(n,e){if(this.readyState!=ue)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,we(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Dt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xe(this)),this.readyState=ue},Ke.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,we(this)),this.g&&(this.readyState=3,we(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Dt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ee(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ke.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xe(this):we(this),3==this.readyState&&ee(this)}},Ke.Ua=function(n){this.g&&(this.response=this.responseText=n,xe(this))},Ke.Ta=function(n){this.g&&(this.response=n,xe(this))},Ke.ha=function(){this.g&&xe(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(W.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nt=Dt.JSON.parse;function qe(n){Ur.call(this),this.headers=new Ko,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ft,this.K=this.L=!1}ii(qe,Ur);var Ft="",Sr=/^https?$/i,co=["POST","PUT"];function Oh(n){return"content-type"==n.toLowerCase()}function Ju(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xu(n),Ph(n)}function Xu(n){n.D||(n.D=!0,Ci(n,"complete"),Ci(n,"error"))}function K_(n){if(n.h&&void 0!==wv&&(!n.C[1]||4!=Yo(n)||2!=n.ba()))if(n.v&&4==Yo(n))B_(n.Fa,0,n);else if(Ci(n,"readystatechange"),4==Yo(n)){n.h=!1;try{const _=n.ba();e:switch(_){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===_){var o=String(n.H).match(qC)[1]||null;if(!o&&Dt.self&&Dt.self.location){var c=Dt.self.location.protocol;o=c.substr(0,c.length-1)}r=!Sr.test(o?o.toLowerCase():"")}t=r}if(t)Ci(n,"complete"),Ci(n,"success");else{n.m=6;try{var h=2<Yo(n)?n.g.statusText:""}catch(v){h=""}n.j=h+" ["+n.ba()+"]",Xu(n)}}finally{Ph(n)}}}function Ph(n,e){if(n.g){Y_(n);const t=n.g,r=n.C[0]?N_:null;n.g=null,n.C=null,e||Ci(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function Y_(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dt.clearTimeout(n.A),n.A=null)}function Yo(n){return n.g?n.g.readyState:0}function Q_(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ft:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function AM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return Cv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):xn(n,e,t))}function zv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wk(n){this.za=0,this.l=[],this.h=new zp,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zv("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zv("baseRetryDelayMs",5e3,n),this.$a=zv("retryDelaySeedMs",1e4,n),this.Ya=zv("forwardChannelMaxRetries",2,n),this.ra=zv("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new i(n&&n.concurrentRequestLimit),this.Ca=new C,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function NM(n){if(Ek(n),3==n.G){var e=n.V++,t=ja(n.F);xn(t,"SID",n.J),xn(t,"RID",e),xn(t,"TYPE","terminate"),qv(n,t),(e=new Kp(n,n.h,e,void 0)).K=2,e.v=$a(ja(t)),t=!1,Dt.navigator&&Dt.navigator.sendBeacon&&(t=Dt.navigator.sendBeacon(e.v.toString(),"")),!t&&Dt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ok(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ah(e)}Mk(n)}function JC(n){n.g&&(OM(n),n.g.cancel(),n.g=null)}function Ek(n){JC(n),n.u&&(Dt.clearTimeout(n.u),n.u=null),eD(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dt.clearTimeout(n.m),n.m=null)}function MM(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&XC(n)}function XC(n){a(n.i)||n.m||(n.m=!0,Fv(n.Ha,n),n.C=0)}function Ck(n,e){var t;t=e?e.m:n.V++;const r=ja(n.F);xn(r,"SID",n.J),xn(r,"RID",t),xn(r,"AID",n.U),qv(n,r),n.o&&n.s&&AM(r,n.o,n.s),t=new Kp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Dk(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),f(n.i,t),$v(t,r,e)}function qv(n,e){n.j&&Mh({},function(t,r){xn(e,r,t)})}function Dk(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Xt(n.j.Oa,n.j,n):null;e:{var o=n.l;let c=-1;for(;;){const h=["count="+t];-1==c?0<t?(c=o[0].h,h.push("ofs="+c)):c=0:h.push("ofs="+c);let _=!0;for(let v=0;v<t;v++){let D=o[v].h;const N=o[v].g;if(D-=c,0>D)c=Math.max(0,o[v].h-100),_=!1;else try{S(N,h,"req"+D+"_")}catch(R){r&&r(N)}}if(_){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Ik(n){n.g||n.u||(n.Y=1,Fv(n.Ga,n),n.A=0)}function RM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mc(Xt(n.Ga,n),Nk(n,n.A)),n.A++,0))}function OM(n){null!=n.B&&(Dt.clearTimeout(n.B),n.B=null)}function Sk(n){n.g=new Kp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ja(n.oa);xn(e,"RID","rpc"),xn(e,"SID",n.J),xn(e,"CI",n.N?"0":"1"),xn(e,"AID",n.U),qv(n,e),xn(e,"TYPE","xmlhttp"),n.o&&n.s&&AM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=$a(ja(e)),t.s=null,t.U=!0,$C(t,n)}function eD(n){null!=n.v&&(Dt.clearTimeout(n.v),n.v=null)}function Ak(n,e){var t=null;if(n.g==e){eD(n),OM(n),n.g=null;var r=2}else{if(!d(n.i,e))return;t=e.D,m(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Ci(r=Ch(),new Uv(r,t,e,o)),XC(n)}else Ik(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function(n,e){return!(l(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mc(Xt(n.Ha,n,e),Nk(n,n.C)),n.C++,0)))}(n,e)||2==r&&RM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:rg(n,5);break;case 4:rg(n,10);break;case 3:rg(n,6);break;default:rg(n,2)}}function Nk(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function rg(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Xt(n.jb,n);t||(t=new Rc("//www.google.com/images/cleardot.gif"),Dt.location&&"http"==Dt.location.protocol||Xp(t,"https"),$a(t)),function(n,e){const t=new zp;if(Dt.Image){const r=new Image;r.onload=M_(x,t,r,"TestLoadImage: loaded",!0,e),r.onerror=M_(x,t,r,"TestLoadImage: error",!1,e),r.onabort=M_(x,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=M_(x,t,r,"TestLoadImage: timeout",!1,e),Dt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Gr(2);n.G=0,n.j&&n.j.va(e),Mk(n),Ek(n)}function Mk(n){n.G=0,n.I=-1,n.j&&((0!=y(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Vp(n.l),n.l.length=0),n.j.ua())}function Rk(n,e,t){let r=function(n){return n instanceof Rc?ja(n):new Rc(n,void 0)}(t);if(""!=r.i)e&&Rh(r,e+"."+r.i),Z_(r,r.m);else{const o=Dt.location;r=function(n,e,t,r){var o=new Rc(null,void 0);return n&&Xp(o,n),e&&Rh(o,e),t&&Z_(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&Cv(n.aa,function(o,c){xn(r,c,o)}),t=n.sa,(e=n.D)&&t&&xn(r,e,t),xn(r,"VER",n.ma),qv(n,r),r}function Ok(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qe(t&&n.Ba&&!n.qa?new G({ib:!0}):n.qa)).L=n.H,e}function Pk(){}function tD(){if(wh&&!(10<=Number(pk)))throw Error("Environmental error: no available transport.")}function Qo(n,e){Ur.call(this),this.g=new wk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!R_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!R_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new J_(this)}function xk(n){Hv.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function kk(){G_.call(this),this.status=1}function J_(n){this.g=n}(Ke=qe.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():jv.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:jv),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(c){return void Ju(this,c)}n=t||"";const o=new Ko(this.headers);r&&Mh(r,function(c,h){o.set(h,c)}),r=function(n){e:{var e=Oh;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Dt.FormData&&n instanceof Dt.FormData,!(0<=wC(co,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(c,h){this.g.setRequestHeader(h,c)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Y_(this),0<this.B&&((this.K=function(n){return wh&&lM()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=B_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(c){Ju(this,c)}},Ke.pa=function(){void 0!==wv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ci(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ci(this,"complete"),Ci(this,"abort"),Ph(this))},Ke.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ph(this,!0)),qe.Z.M.call(this)},Ke.Fa=function(){this.s||(this.F||this.v||this.l?K_(this):this.cb())},Ke.cb=function(){K_(this)},Ke.ba=function(){try{return 2<Yo(this)?this.g.status:-1}catch(n){return-1}},Ke.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Ke.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nt(e)}},Ke.Da=function(){return this.m},Ke.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=wk.prototype).ma=8,Ke.G=1,Ke.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Ke.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Kp(this,this.h,n,void 0);let c=this.s;if(this.P&&(c?(c=SC(c),NC(c,this.P)):c=this.P),null===this.o&&(o.H=c),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Dk(this,o,e),xn(t=ja(this.F),"RID",n),xn(t,"CVER",22),this.D&&xn(t,"X-HTTP-Session-Id",this.D),qv(this,t),this.o&&c&&AM(t,this.o,c),f(this.i,o),this.Ra&&xn(t,"TYPE","init"),this.ja?(xn(t,"$req",e),xn(t,"SID","null"),o.$=!0,$v(o,t,null)):$v(o,t,e),this.G=2}}else 3==this.G&&(n?Ck(this,n):0==this.l.length||a(this.i)||Ck(this))},Ke.Ga=function(){if(this.u=null,Sk(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mc(Xt(this.bb,this),n)}},Ke.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gr(10),JC(this),Sk(this))},Ke.ab=function(){null!=this.v&&(this.v=null,JC(this),RM(this),Gr(19))},Ke.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Gr(2)):(this.h.info("Failed to ping google.com"),Gr(1))},(Ke=Pk.prototype).xa=function(){},Ke.wa=function(){},Ke.va=function(){},Ke.ua=function(){},Ke.Oa=function(){},tD.prototype.g=function(n,e){return new Qo(n,e)},ii(Qo,Ur),Qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Fv(Xt(n.hb,n,e))),Gr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Rk(n,null,n.W),XC(n)},Qo.prototype.close=function(){NM(this.g)},Qo.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,MM(this.g,e)}else this.v?((e={}).__data__=kC(n),MM(this.g,e)):MM(this.g,n)},Qo.prototype.M=function(){this.g.j=null,delete this.j,NM(this.g),delete this.g,Qo.Z.M.call(this)},ii(xk,Hv),ii(kk,G_),ii(J_,Pk),J_.prototype.xa=function(){Ci(this.g,"a")},J_.prototype.wa=function(n){Ci(this.g,new xk(n))},J_.prototype.va=function(n){Ci(this.g,new kk(n))},J_.prototype.ua=function(){Ci(this.g,"b")},tD.prototype.createWebChannel=tD.prototype.g,Qo.prototype.send=Qo.prototype.u,Qo.prototype.open=Qo.prototype.m,Qo.prototype.close=Qo.prototype.close,Ih.NO_ERROR=0,Ih.TIMEOUT=8,Ih.HTTP_ERROR=6,Gv.COMPLETE="complete",jC.EventType=qp,qp.OPEN="a",qp.CLOSE="b",qp.ERROR="c",qp.MESSAGE="d",Ur.prototype.listen=Ur.prototype.N,qe.prototype.listenOnce=qe.prototype.O,qe.prototype.getLastError=qe.prototype.La,qe.prototype.getLastErrorCode=qe.prototype.Da,qe.prototype.getStatus=qe.prototype.ba,qe.prototype.getResponseJson=qe.prototype.Qa,qe.prototype.getResponseText=qe.prototype.ga,qe.prototype.send=qe.prototype.ea;var kV=Dr.createWebChannelTransport=function(){return new tD},FV=Dr.getStatEventTarget=function(){return Ch()},PM=Dr.ErrorCode=Ih,LV=Dr.EventType=Gv,VV=Dr.Event=qu,Fk=Dr.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},BV=Dr.FetchXmlHttpFactory=G,nD=Dr.WebChannel=jC,UV=Dr.XhrIo=qe;const Lk="@firebase/firestore";class Gi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");let X_="9.4.0";const xh=new Gu.Yd("@firebase/firestore");function xM(){return xh.logLevel}function Ve(n,...e){if(xh.logLevel<=Gu.in.DEBUG){const t=e.map(kM);xh.debug(`Firestore (${X_}): ${n}`,...t)}}function Hr(n,...e){if(xh.logLevel<=Gu.in.ERROR){const t=e.map(kM);xh.error(`Firestore (${X_}): ${n}`,...t)}}function Kv(n,...e){if(xh.logLevel<=Gu.in.WARN){const t=e.map(kM);xh.warn(`Firestore (${X_}): ${n}`,...t)}}function kM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function lt(n="Unexpected state"){const e=`FIRESTORE (${X_}) INTERNAL ASSERTION FAILED: `+n;throw Hr(e),new Error(e)}function Ct(n,e){n||lt()}function He(n,e){return n}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vk{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class jV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gi.UNAUTHENTICATED))}shutdown(){}}class $V{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class WV{constructor(e){this.t=e,this.currentUser=Gi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const c=D=>this.i!==o?(o=this.i,t(D)):Promise.resolve();let h=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Di,e.enqueueRetryable(()=>c(this.currentUser))};const _=()=>{const D=h;e.enqueueRetryable((0,ve.Z)(function*(){yield D.promise,yield c(r.currentUser)}))},v=D=>{Ve("FirebaseCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),_()};this.t.onInit(D=>v(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?v(D):(Ve("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Di)}},0),_()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ve("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct("string"==typeof r.accessToken),new Vk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ct(null===e||"string"==typeof e),new Gi(e)}}class ZV{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Gi.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class zV{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new ZV(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Gi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function qV(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Jo.T=-1;class Bk{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=qV(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<t&&(r+=e.charAt(o[c]%e.length))}return r}}function Ht(n,e){return n<e?-1:n>e?1:0}function e0(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function Uk(n){return n+"\0"}class Ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ii.fromMillis(Date.now())}static fromDate(e){return Ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Ii(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Ii(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ig(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Hk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Yv{constructor(e,t,r){void 0===t?t=0:t>e.length&&lt(),void 0===r?r=e.length-t:r>e.length-t&&lt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Yv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const c=e.get(o),h=t.get(o);if(c<h)return-1;if(c>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gn extends Yv{construct(e,t,r){return new gn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new gn(t)}static emptyPath(){return new gn([])}}const KV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hi extends Yv{construct(e,t,r){return new Hi(e,t,r)}static isValidIdentifier(e){return KV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const _=e[o];if("\\"===_){if(o+1===e.length)throw new Fe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[o+1];if("\\"!==v&&"."!==v&&"`"!==v)throw new Fe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=v,o+=2}else"`"===_?(h=!h,o++):"."!==_||h?(r+=_,o++):(c(),o++)}if(c(),h)throw new Fe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hi(t)}static emptyPath(){return new Hi([])}}class t0{constructor(e){this.fields=e,e.sort(Hi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return e0(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Si{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Si(t)}static fromUint8Array(e){const t=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(e);return new Si(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Si.EMPTY_BYTE_STRING=new Si("");const QV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kh(n){if(Ct(!!n),"string"==typeof n){let e=0;const t=QV.exec(n);if(Ct(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jr(n.seconds),nanos:jr(n.nanos)}}function jr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function n0(n){return"string"==typeof n?Si.fromBase64String(n):Si.fromUint8Array(n)}function FM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jk(n){const e=n.mapValue.fields.__previous_value__;return FM(e)?jk(e):e}function Qv(n){const e=kh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ii(e.seconds,e.nanos)}function sg(n){return null==n}function rD(n){return 0===n&&1/n==-1/0}function $k(n){return"number"==typeof n&&Number.isInteger(n)&&!rD(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class it{constructor(e){this.path=e}static fromPath(e){return new it(gn.fromString(e))}static fromName(e){return new it(gn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===gn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return gn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new gn(e.slice()))}}function og(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FM(n)?4:10:lt()}function Oc(n,e){const t=og(n);if(t!==og(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Qv(n).isEqual(Qv(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=kh(r.timestampValue),h=kh(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,n0(n.bytesValue).isEqual(n0(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return jr(r.geoPointValue.latitude)===jr(o.geoPointValue.latitude)&&jr(r.geoPointValue.longitude)===jr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return jr(r.integerValue)===jr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=jr(r.doubleValue),h=jr(o.doubleValue);return c===h?rD(c)===rD(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return e0(n.arrayValue.values||[],e.arrayValue.values||[],Oc);case 10:return function(r,o){const c=r.mapValue.fields||{},h=o.mapValue.fields||{};if(Gk(c)!==Gk(h))return!1;for(const _ in c)if(c.hasOwnProperty(_)&&(void 0===h[_]||!Oc(c[_],h[_])))return!1;return!0}(n,e);default:return lt()}var o}function Jv(n,e){return void 0!==(n.values||[]).find(t=>Oc(t,e))}function r0(n,e){const t=og(n),r=og(e);if(t!==r)return Ht(t,r);switch(t){case 0:return 0;case 1:return Ht(n.booleanValue,e.booleanValue);case 2:return function(o,c){const h=jr(o.integerValue||o.doubleValue),_=jr(c.integerValue||c.doubleValue);return h<_?-1:h>_?1:h===_?0:isNaN(h)?isNaN(_)?0:-1:1}(n,e);case 3:return Wk(n.timestampValue,e.timestampValue);case 4:return Wk(Qv(n),Qv(e));case 5:return Ht(n.stringValue,e.stringValue);case 6:return function(o,c){const h=n0(o),_=n0(c);return h.compareTo(_)}(n.bytesValue,e.bytesValue);case 7:return function(o,c){const h=o.split("/"),_=c.split("/");for(let v=0;v<h.length&&v<_.length;v++){const D=Ht(h[v],_[v]);if(0!==D)return D}return Ht(h.length,_.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,c){const h=Ht(jr(o.latitude),jr(c.latitude));return 0!==h?h:Ht(jr(o.longitude),jr(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,c){const h=o.values||[],_=c.values||[];for(let v=0;v<h.length&&v<_.length;++v){const D=r0(h[v],_[v]);if(D)return D}return Ht(h.length,_.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,c){const h=o.fields||{},_=Object.keys(h),v=c.fields||{},D=Object.keys(v);_.sort(),D.sort();for(let N=0;N<_.length&&N<D.length;++N){const R=Ht(_[N],D[N]);if(0!==R)return R;const B=r0(h[_[N]],v[D[N]]);if(0!==B)return B}return Ht(_.length,D.length)}(n.mapValue,e.mapValue);default:throw lt()}}function Wk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ht(n,e);const t=kh(n),r=kh(e),o=Ht(t.seconds,r.seconds);return 0!==o?o:Ht(t.nanos,r.nanos)}function LM(n){return VM(n)}function VM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=kh(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?n0(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",c=!0;for(const h of r.values||[])c?c=!1:o+=",",o+=VM(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let c="{",h=!0;for(const _ of o)h?h=!1:c+=",",c+=`${_}:${VM(r.fields[_])}`;return c+"}"}(n.mapValue):lt();var e}function iD(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function BM(n){return!!n&&"integerValue"in n}function UM(n){return!!n&&"arrayValue"in n}function Zk(n){return!!n&&"nullValue"in n}function zk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sD(n){return!!n&&"mapValue"in n}function Xv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return ig(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Xv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Xv(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ss{constructor(e){this.value=e}static empty(){return new ss({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xv(t)}setAll(e){let t=Hi.emptyPath(),r={},o=[];e.forEach((h,_)=>{if(!t.isImmediateParentOf(_)){const v=this.getFieldsMap(t);this.applyChanges(v,r,o),r={},o=[],t=_.popLast()}h?r[_.lastSegment()]=Xv(h):o.push(_.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,r,o)}delete(e){const t=this.field(e.popLast());sD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Oc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];sD(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){ig(t,(o,c)=>e[o]=c);for(const o of r)delete e[o]}clone(){return new ss(Xv(this.value))}}function qk(n){const e=[];return ig(n.fields,(t,r)=>{const o=new Hi([t]);if(sD(r)){const c=qk(r.mapValue).fields;if(0===c.length)e.push(o);else for(const h of c)e.push(o.child(h))}else e.push(o)}),new t0(e)}class sr{constructor(e,t,r,o,c){this.key=e,this.documentType=t,this.version=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new sr(e,0,Pt.min(),ss.empty(),0)}static newFoundDocument(e,t,r){return new sr(e,1,t,r,0)}static newNoDocument(e,t){return new sr(e,2,t,ss.empty(),0)}static newUnknownDocument(e,t){return new sr(e,3,t,ss.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new sr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class JV{constructor(e,t=null,r=[],o=[],c=null,h=null,_=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=h,this.endAt=_,this.A=null}}function Kk(n,e=null,t=[],r=[],o=null,c=null,h=null){return new JV(n,e,t,r,o,c,h)}function e1(n){const e=He(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+LM(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),sg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=lD(e.startAt)),e.endAt&&(t+="|ub:",t+=lD(e.endAt)),e.A=t}return e.A}function oD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!lB(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Oc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jk(n.startAt,e.startAt)&&Jk(n.endAt,e.endAt)}function aD(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Is extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new tB(e,t,r):"array-contains"===t?new iB(e,r):"in"===t?new sB(e,r):"not-in"===t?new oB(e,r):"array-contains-any"===t?new aB(e,r):new Is(e,t,r)}static R(e,t,r){return"in"===t?new nB(e,r):new rB(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(r0(t,this.value)):null!==t&&og(this.value)===og(t)&&this.P(r0(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tB extends Is{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.P(t)}}class nB extends Is{constructor(e,t){super(e,"in",t),this.keys=Yk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rB extends Is{constructor(e,t){super(e,"not-in",t),this.keys=Yk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Yk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class iB extends Is{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return UM(t)&&Jv(t.arrayValue,this.value)}}class sB extends Is{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Jv(this.value.arrayValue,t)}}class oB extends Is{constructor(e,t){super(e,"not-in",t)}matches(e){if(Jv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Jv(this.value.arrayValue,t)}}class aB extends Is{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!UM(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Jv(this.value.arrayValue,r))}}class t1{constructor(e,t){this.position=e,this.before=t}}function lD(n){return`${n.before?"b":"a"}:${n.position.map(e=>LM(e)).join(",")}`}class s0{constructor(e,t="asc"){this.field=e,this.dir=t}}function lB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Qk(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const c=e[o],h=n.position[o];if(r=c.field.isKeyField()?it.comparator(it.fromName(h.referenceValue),t.key):r0(h,t.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function Jk(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Oc(n.position[t],e.position[t]))return!1;return!0}class ed{constructor(e,t=null,r=[],o=[],c=null,h="F",_=null,v=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=h,this.startAt=_,this.endAt=v,this.V=null,this.S=null}}function Xk(n,e,t,r,o,c,h,_){return new ed(n,e,t,r,o,c,h,_)}function o0(n){return new ed(n)}function cD(n){return!sg(n.limit)&&"F"===n.limitType}function uD(n){return!sg(n.limit)&&"L"===n.limitType}function GM(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function HM(n){for(const e of n.filters)if(e.v())return e.field;return null}function jM(n){return null!==n.collectionGroup}function a0(n){const e=He(n);if(null===e.V){e.V=[];const t=HM(e),r=GM(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new s0(t)),e.V.push(new s0(Hi.keyField(),"asc"));else{let o=!1;for(const c of e.explicitOrderBy)e.V.push(c),c.field.isKeyField()&&(o=!0);if(!o){const c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new s0(Hi.keyField(),c))}}}return e.V}function Wa(n){const e=He(n);if(!e.S)if("F"===e.limitType)e.S=Kk(e.path,e.collectionGroup,a0(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const c of a0(e))t.push(new s0(c.field,"desc"===c.dir?"asc":"desc"));const r=e.endAt?new t1(e.endAt.position,!e.endAt.before):null,o=e.startAt?new t1(e.startAt.position,!e.startAt.before):null;e.S=Kk(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.S}function eF(n,e,t){return new ed(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function n1(n,e){return oD(Wa(n),Wa(e))&&n.limitType===e.limitType}function tF(n){return`${e1(Wa(n))}|lt:${n.limitType}`}function $M(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${LM(r.value)}`;var r}).join(", ")}]`),sg(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+lD(n.startAt)),n.endAt&&(e+=", endAt: "+lD(n.endAt)),`Target(${e})`}(Wa(n))}; limitType=${n.limitType})`}function r1(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):it.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!Qk(t.startAt,a0(t),r)||t.endAt&&Qk(t.endAt,a0(t),r)));var t,r}function nF(n){return(e,t)=>{let r=!1;for(const o of a0(n)){const c=cB(o,e,t);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function cB(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(o,c,h){const _=c.data.field(o),v=h.data.field(o);return null!==_&&null!==v?r0(_,v):lt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return lt()}}function rF(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rD(e)?"-0":e}}function iF(n){return{integerValue:""+n}}function sF(n,e){return $k(e)?iF(e):rF(n,e)}class dD{constructor(){this._=void 0}}function uB(n,e,t){return n instanceof l0?function(r,o){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(c.fields.__previous_value__=o),{mapValue:c}}(t,e):n instanceof ag?aF(n,e):n instanceof lg?lF(n,e):function(r,o){const c=oF(r,o),h=cF(c)+cF(r.C);return BM(c)&&BM(r.C)?iF(h):rF(r.N,h)}(n,e)}function dB(n,e,t){return n instanceof ag?aF(n,e):n instanceof lg?lF(n,e):t}function oF(n,e){return n instanceof c0?BM(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class l0 extends dD{}class ag extends dD{constructor(e){super(),this.elements=e}}function aF(n,e){const t=uF(e);for(const r of n.elements)t.some(o=>Oc(o,r))||t.push(r);return{arrayValue:{values:t}}}class lg extends dD{constructor(e){super(),this.elements=e}}function lF(n,e){let t=uF(e);for(const r of n.elements)t=t.filter(o=>!Oc(o,r));return{arrayValue:{values:t}}}class c0 extends dD{constructor(e,t){super(),this.N=e,this.C=t}}function cF(n){return jr(n.integerValue||n.doubleValue)}function uF(n){return UM(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class i1{constructor(e,t){this.field=e,this.transform=t}}class fB{constructor(e,t){this.version=e,this.transformResults=t}}class $r{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class fD{}function pB(n,e,t){n instanceof s1?function(r,o,c){const h=r.value.clone(),_=pF(r.fieldTransforms,o,c.transformResults);h.setAll(_),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Fh?function(r,o,c){if(!hD(r.precondition,o))return void o.convertToUnknownDocument(c.version);const h=pF(r.fieldTransforms,o,c.transformResults),_=o.data;_.setAll(fF(r)),_.setAll(h),o.convertToFoundDocument(c.version,_).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function WM(n,e,t){var o;n instanceof s1?function(r,o,c){if(!hD(r.precondition,o))return;const h=r.value.clone(),_=gF(r.fieldTransforms,c,o);h.setAll(_),o.convertToFoundDocument(hF(o),h).setHasLocalMutations()}(n,e,t):n instanceof Fh?function(r,o,c){if(!hD(r.precondition,o))return;const h=gF(r.fieldTransforms,c,o),_=o.data;_.setAll(fF(r)),_.setAll(h),o.convertToFoundDocument(hF(o),_).setHasLocalMutations()}(n,e,t):hD(n.precondition,o=e)&&o.convertToNoDocument(Pt.min())}function gB(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),c=oF(r.transform,o||null);null!=c&&(null==t&&(t=ss.empty()),t.set(r.field,c))}return t||null}function dF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&e0(t,r,(o,c)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ag&&r instanceof ag||t instanceof lg&&r instanceof lg?e0(t.elements,r.elements,Oc):t instanceof c0&&r instanceof c0?Oc(t.C,r.C):t instanceof l0&&r instanceof l0);var t,r}(o,c))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function hF(n){return n.isFoundDocument()?n.version:Pt.min()}class s1 extends fD{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Fh extends fD{constructor(e,t,r,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}}function fF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function pF(n,e,t){const r=new Map;Ct(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],h=c.transform,_=e.data.field(c.field);r.set(c.field,dB(h,_,t[o]))}return r}function gF(n,e,t){const r=new Map;for(const o of n){const c=o.transform,h=t.data.field(o.field);r.set(o.field,uB(c,h,e))}return r}class o1 extends fD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class ZM extends fD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class mB{constructor(e){this.count=e}}var Wr,en;function mF(n){switch(n){default:return lt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function _F(n){if(void 0===n)return Hr("GRPC error has no .code"),me.UNKNOWN;switch(n){case Wr.OK:return me.OK;case Wr.CANCELLED:return me.CANCELLED;case Wr.UNKNOWN:return me.UNKNOWN;case Wr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Wr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Wr.INTERNAL:return me.INTERNAL;case Wr.UNAVAILABLE:return me.UNAVAILABLE;case Wr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Wr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Wr.NOT_FOUND:return me.NOT_FOUND;case Wr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Wr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Wr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Wr.ABORTED:return me.ABORTED;case Wr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Wr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Wr.DATA_LOSS:return me.DATA_LOSS;default:return lt()}}(en=Wr||(Wr={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";class si{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pD(this.root,e,this.comparator,!1)}getReverseIterator(){return new pD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pD(this.root,e,this.comparator,!0)}}class pD{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?r(e.key,t):1,o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(0===c){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,o,c){this.key=e,this.value=t,this.color=null!=r?r:ji.RED,this.left=null!=o?o:ji.EMPTY,this.right=null!=c?c:ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,c){return new ji(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=c?c:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===c?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return ji.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new ji(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class pr{constructor(e){this.comparator=e,this.data=new si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new yF(this.data.getIterator())}getIteratorFrom(e){return new yF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof pr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new pr(this.comparator);return t.data=e,t}}class yF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const _B=new si(it.comparator);function Za(){return _B}const yB=new si(it.comparator);function zM(){return yB}const bB=new si(it.comparator);function bF(){return bB}const vB=new pr(it.comparator);function Cn(...n){let e=vB;for(const t of n)e=e.add(t);return e}const TB=new pr(Ht);function gD(){return TB}class a1{constructor(e,t,r,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,l1.createSynthesizedTargetChangeForCurrentChange(e,t)),new a1(Pt.min(),r,gD(),Za(),Cn())}}class l1{constructor(e,t,r,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t){return new l1(Si.EMPTY_BYTE_STRING,t,Cn(),Cn(),Cn())}}class mD{constructor(e,t,r,o){this.k=e,this.removedTargetIds=t,this.key=r,this.$=o}}class vF{constructor(e,t){this.targetId=e,this.O=t}}class TF{constructor(e,t,r=Si.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class wF{constructor(){this.F=0,this.M=CF(),this.L=Si.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=Cn(),t=Cn(),r=Cn();return this.M.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:lt()}}),new l1(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=CF()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class wB{constructor(e){this.tt=e,this.et=new Map,this.nt=Za(),this.st=EF(),this.it=new pr(Ht)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:lt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,o)=>{this.ht(o)&&t(o)})}ft(e){const t=e.targetId,r=e.O.count,o=this.dt(t);if(o){const c=o.target;if(aD(c))if(0===r){const h=new it(c.path);this.ct(t,h,sr.newNoDocument(h,Pt.min()))}else Ct(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((c,h)=>{const _=this.dt(h);if(_){if(c.current&&aD(_.target)){const v=new it(_.target.path);null!==this.nt.get(v)||this.gt(h,v)||this.ct(h,v,sr.newNoDocument(v,e))}c.K&&(t.set(h,c.W()),c.G())}});let r=Cn();this.st.forEach((c,h)=>{let _=!0;h.forEachWhile(v=>{const D=this.dt(v);return!D||2===D.purpose||(_=!1,!1)}),_&&(r=r.add(c))});const o=new a1(e,t,this.it,this.nt,r);return this.nt=Za(),this.st=EF(),this.it=new pr(Ht),o}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const o=this.ut(e);this.gt(e,t)?o.H(t,1):o.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new wF,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new pr(Ht),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Ve("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new wF),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function EF(){return new si(it.comparator)}function CF(){return new si(it.comparator)}const EB={asc:"ASCENDING",desc:"DESCENDING"},CB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class DB{constructor(e,t){this.databaseId=e,this.D=t}}function c1(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DF(n,e){return n.D?e.toBase64():e.toUint8Array()}function IB(n,e){return c1(n,e.toTimestamp())}function Ai(n){return Ct(!!n),Pt.fromTimestamp(function(e){const t=kh(e);return new Ii(t.seconds,t.nanos)}(n))}function qM(n,e){return(t=n,new gn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function IF(n){const e=gn.fromString(n);return Ct(VF(e)),e}function u1(n,e){return qM(n.databaseId,e.path)}function Pc(n,e){const t=IF(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(AF(t))}function KM(n,e){return qM(n.databaseId,e)}function SF(n){const e=IF(n);return 4===e.length?gn.emptyPath():AF(e)}function d1(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AF(n){return Ct(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NF(n,e,t){return{name:u1(n,e),fields:t.value.mapValue.fields}}function MF(n,e,t){const r=Pc(n,e.name),o=Ai(e.updateTime),c=new ss({mapValue:{fields:e.fields}}),h=sr.newFoundDocument(r,o,c);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function _D(n,e){let t;if(e instanceof s1)t={update:NF(n,e.key,e.value)};else if(e instanceof o1)t={delete:u1(n,e.key)};else if(e instanceof Fh)t={update:NF(n,e.key,e.data),updateMask:kB(e.fieldMask)};else{if(!(e instanceof ZM))return lt();t={verify:u1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,c){const h=c.transform;if(h instanceof l0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ag)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof lg)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof c0)return{fieldPath:c.field.canonicalString(),increment:h.C};throw lt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:IB(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:lt()),t;var o}function RF(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?$r.updateTime(Ai(o.updateTime)):void 0!==o.exists?$r.exists(o.exists):$r.none():$r.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(c,h){let _=null;"setToServerValue"in h?(Ct("REQUEST_TIME"===h.setToServerValue),_=new l0):"appendMissingElements"in h?_=new ag(h.appendMissingElements.values||[]):"removeAllFromArray"in h?_=new lg(h.removeAllFromArray.values||[]):"increment"in h?_=new c0(c,h.increment):lt();const v=Hi.fromServerFormat(h.fieldPath);return new i1(v,_)}(n,o)):[];var o;if(e.update){const o=Pc(n,e.update.name),c=new ss({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new t0((e.updateMask.fieldPaths||[]).map(D=>Hi.fromServerFormat(D)));return new Fh(o,c,h,t,r)}return new s1(o,c,t,r)}if(e.delete){const o=Pc(n,e.delete);return new o1(o,t)}if(e.verify){const o=Pc(n,e.verify);return new ZM(o,t)}return lt()}function OF(n,e){return{documents:[KM(n,e.path)]}}function PF(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=KM(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=KM(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(_){if(0===_.length)return;const v=_.map(D=>function(N){if("=="===N.op){if(zk(N.value))return{unaryFilter:{field:u0(N.field),op:"IS_NAN"}};if(Zk(N.value))return{unaryFilter:{field:u0(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(zk(N.value))return{unaryFilter:{field:u0(N.field),op:"IS_NOT_NAN"}};if(Zk(N.value))return{unaryFilter:{field:u0(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:u0(N.field),op:OB(N.op),value:N.value}}}(D));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);o&&(t.structuredQuery.where=o);const c=function(_){if(0!==_.length)return _.map(v=>{return{field:u0((D=v).field),direction:RB(D.dir)};var D})}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=(v=e.limit,n.D||sg(v)?v:{value:v});var v;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=FF(e.startAt)),e.endAt&&(t.structuredQuery.endAt=FF(e.endAt)),t}function xF(n){let e=SF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ct(1===r);const N=t.from[0];N.allDescendants?o=N.collectionId:e=e.child(N.collectionId)}let c=[];t.where&&(c=kF(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(N=>{return new s0(d0((R=N).field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let _=null;t.limit&&(_=function(N){let R;return R="object"==typeof N?N.value:N,sg(R)?null:R}(t.limit));let v=null;t.startAt&&(v=LF(t.startAt));let D=null;return t.endAt&&(D=LF(t.endAt)),Xk(e,o,h,c,_,"F",v,D)}function kF(n){return n?void 0!==n.unaryFilter?[xB(n)]:void 0!==n.fieldFilter?[PB(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>kF(e)).reduce((e,t)=>e.concat(t)):lt():[]}function FF(n){return{before:n.before,values:n.position}}function LF(n){return new t1(n.values||[],!!n.before)}function RB(n){return EB[n]}function OB(n){return CB[n]}function u0(n){return{fieldPath:n.canonicalString()}}function d0(n){return Hi.fromServerFormat(n.fieldPath)}function PB(n){return Is.create(d0(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(n.fieldFilter.op),n.fieldFilter.value)}function xB(n){switch(n.unaryFilter.op){case"IS_NAN":const e=d0(n.unaryFilter.field);return Is.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=d0(n.unaryFilter.field);return Is.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=d0(n.unaryFilter.field);return Is.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=d0(n.unaryFilter.field);return Is.create(o,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}function kB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Ul(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=BF(e)),e=FB(n.get(t),e);return BF(e)}function FB(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const c=n.charAt(o);switch(c){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=c}}return t}function BF(n){return n+"\x01\x01"}function td(n){const e=n.length;if(Ct(e>=2),2===e)return Ct("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const t=e-2,r=[];let o="";for(let c=0;c<e;){const h=n.indexOf("\x01",c);switch((h<0||h>t)&&lt(),n.charAt(h+1)){case"\x01":const _=n.substring(c,h);let v;0===o.length?v=_:(o+=_,v=o,o=""),r.push(v);break;case"\x10":o+=n.substring(c,h),o+="\0";break;case"\x11":o+=n.substring(c,h+1);break;default:lt()}c=h+2}return new gn(r)}class LB{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class Xo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}Xo.store="owner",Xo.key="owner";class Lh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Lh.store="mutationQueues",Lh.keyPath="userId";class er{constructor(e,t,r,o,c){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=o,this.mutations=c}}er.store="mutations",er.keyPath="batchId",er.userMutationsIndex="userMutationsIndex",er.userMutationsKeyPath=["userId","batchId"];class os{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Ul(t)]}static key(e,t,r){return[e,Ul(t),r]}}os.store="documentMutations",os.PLACEHOLDER=new os;class VB{constructor(e,t){this.path=e,this.readTime=t}}class BB{constructor(e,t){this.path=e,this.version=t}}class gr{constructor(e,t,r,o,c,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=o,this.readTime=c,this.parentPath=h}}gr.store="remoteDocuments",gr.readTimeIndex="readTimeIndex",gr.readTimeIndexPath="readTime",gr.collectionReadTimeIndex="collectionReadTimeIndex",gr.collectionReadTimeIndexPath=["parentPath","readTime"];class xc{constructor(e){this.byteSize=e}}xc.store="remoteDocumentGlobal",xc.key="remoteDocumentGlobalKey";class uo{constructor(e,t,r,o,c,h,_){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=o,this.lastListenSequenceNumber=c,this.lastLimboFreeSnapshotVersion=h,this.query=_}}uo.store="targets",uo.keyPath="targetId",uo.queryTargetsIndexName="queryTargetsIndex",uo.queryTargetsKeyPath=["canonicalId","targetId"];class $i{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}$i.store="targetDocuments",$i.keyPath=["targetId","path"],$i.documentTargetsIndex="documentTargetsIndex",$i.documentTargetsKeyPath=["path","targetId"];class ea{constructor(e,t,r,o){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=o}}ea.key="targetGlobalKey",ea.store="targetGlobal";class cg{constructor(e,t){this.collectionId=e,this.parent=t}}cg.store="collectionParents",cg.keyPath=["collectionId","parent"];class nd{constructor(e,t,r,o){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=o}}nd.store="clientMetadata",nd.keyPath="clientId";class h0{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}h0.store="bundles",h0.keyPath="bundleId";class f0{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}f0.store="namedQueries",f0.keyPath="name";const UB=[Lh.store,er.store,os.store,gr.store,uo.store,Xo.store,ea.store,$i.store,nd.store,xc.store,cg.store,h0.store,f0.store],UF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,r)=>{t(e)})}static reject(e){return new Oe((t,r)=>{r(e)})}static waitFor(e){return new Oe((t,r)=>{let o=0,c=0,h=!1;e.forEach(_=>{++o,_.next(()=>{++c,h&&c===o&&t()},v=>r(v))}),h=!0,c===o&&t()})}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next(o=>o?Oe.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,c)=>{r.push(t.call(this,o,c))}),this.waitFor(r)}}class yD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new Di,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new h1(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const o=YM(r.target.error);this.Et.reject(new h1(e,o))}}static open(e,t,r,o){try{return new yD(t,e.transaction(o,r))}catch(c){throw new h1(t,c)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Ve("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new HB(t)}}class Gl{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Gl.Rt((0,Tt.z$)())&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ve("SimpleDb","Removing database:",e),dg(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Tt.hl)())return!1;if(Gl.Pt())return!0;const e=(0,Tt.z$)(),t=Gl.Rt(e),r=0<t&&t<10,o=Gl.vt(e),c=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||c)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,ve.Z)(function*(){return t.db||(Ve("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const c=indexedDB.open(t.name,t.version);c.onsuccess=h=>{r(h.target.result)},c.onblocked=()=>{o(new h1(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},c.onerror=h=>{const _=h.target.error;o("VersionError"===_.name?new Fe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===_.name?new Fe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+_):new h1(e,_))},c.onupgradeneeded=h=>{Ve("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,c.transaction,h.oldVersion,t.version).next(()=>{Ve("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var c=this;return(0,ve.Z)(function*(){const h="readonly"===t;let _=0;for(;;){++_;try{c.db=yield c.Dt(e);const v=yD.open(c.db,e,h?"readonly":"readwrite",r),D=o(v).catch(N=>(v.abort(N),Oe.reject(N))).toPromise();return D.catch(()=>{}),yield v.It,D}catch(v){const D="FirebaseError"!==v.name&&_<3;if(Ve("SimpleDb","Transaction failed with error:",v.message,"Retrying:",D),c.close(),!D)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class GB{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return dg(this.kt.delete())}}class h1 extends Fe{constructor(e,t){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ug(n){return"IndexedDbTransactionError"===n.name}class HB{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ve("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ve("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),dg(r)}add(e){return Ve("SimpleDb","ADD",this.store.name,e,e),dg(this.store.add(e))}get(e){return dg(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ve("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ve("SimpleDb","DELETE",this.store.name,e),dg(this.store.delete(e))}count(){return Ve("SimpleDb","COUNT",this.store.name),dg(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),o=[];return this.Bt(r,(c,h)=>{o.push(h)}).next(()=>o)}Ut(e,t){Ve("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const o=this.cursor(r);return this.Bt(o,(c,h,_)=>_.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Bt(o,t)}jt(e){const t=this.cursor({});return new Oe((r,o)=>{t.onerror=c=>{const h=YM(c.target.error);o(h)},t.onsuccess=c=>{const h=c.target.result;h?e(h.primaryKey,h.value).next(_=>{_?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new Oe((o,c)=>{e.onerror=h=>{c(h.target.error)},e.onsuccess=h=>{const _=h.target.result;if(!_)return void o();const v=new GB(_),D=t(_.primaryKey,_.value,v);if(D instanceof Oe){const N=D.catch(R=>(v.done(),Oe.reject(R)));r.push(N)}v.isDone?o():null===v.Ft?_.continue():_.continue(v.Ft)}}).next(()=>Oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function dg(n){return new Oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=YM(r.target.error);t(o)}})}let HF=!1;function YM(n){const e=Gl.Rt((0,Tt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HF||(HF=!0,setTimeout(()=>{throw r},0)),r}}return n}class jF extends GF{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function ho(n,e){const t=He(n);return Gl.St(t.Qt,e)}class QM{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&pB(c,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&WM(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&WM(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Cn())}isEqual(e){return this.batchId===e.batchId&&e0(this.mutations,e.mutations,(t,r)=>dF(t,r))&&e0(this.baseMutations,e.baseMutations,(t,r)=>dF(t,r))}}class JM{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ct(e.mutations.length===r.length);let o=bF();const c=e.mutations;for(let h=0;h<c.length;h++)o=o.insert(c[h].key,r[h].version);return new JM(e,t,r,o)}}class Vh{constructor(e,t,r,o,c=Pt.min(),h=Pt.min(),_=Si.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=_}withSequenceNumber(e){return new Vh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Vh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class $F{constructor(e){this.Wt=e}}function XM(n,e){if(e.document)return MF(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=it.fromSegments(e.noDocument.path),r=g0(e.noDocument.readTime),o=sr.newNoDocument(t,r);return e.hasCommittedMutations?o.setHasCommittedMutations():o}if(e.unknownDocument){const t=it.fromSegments(e.unknownDocument.path),r=g0(e.unknownDocument.version);return sr.newUnknownDocument(t,r)}return lt()}function WF(n,e,t){const r=eR(t),o=e.key.path.popLast().toArray();if(e.isFoundDocument()){const c={name:u1(_=n.Wt,(v=e).key),fields:v.data.value.mapValue.fields,updateTime:c1(_,v.version.toTimestamp())};return new gr(null,null,c,e.hasCommittedMutations,r,o)}var _,v;if(e.isNoDocument()){const c=e.key.path.toArray(),h=p0(e.version),_=e.hasCommittedMutations;return new gr(null,new VB(c,h),null,_,r,o)}if(e.isUnknownDocument()){const c=e.key.path.toArray(),h=p0(e.version);return new gr(new BB(c,h),null,null,!0,r,o)}return lt()}function eR(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ZF(n){const e=new Ii(n[0],n[1]);return Pt.fromTimestamp(e)}function p0(n){const e=n.toTimestamp();return new LB(e.seconds,e.nanoseconds)}function g0(n){const e=new Ii(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function m0(n,e){const t=(e.baseMutations||[]).map(c=>RF(n.Wt,c));for(let c=0;c<e.mutations.length-1;++c){const h=e.mutations[c];c+1<e.mutations.length&&void 0!==e.mutations[c+1].transform&&(h.updateTransforms=e.mutations[c+1].transform.fieldTransforms,e.mutations.splice(c+1,1),++c)}const r=e.mutations.map(c=>RF(n.Wt,c)),o=Ii.fromMillis(e.localWriteTimeMs);return new QM(e.batchId,o,t,r)}function f1(n){const e=g0(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?g0(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var o;return void 0!==n.query.documents?(Ct(1===(o=n.query).documents.length),r=Wa(o0(SF(o.documents[0])))):r=Wa(xF(n.query)),new Vh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Si.fromBase64String(n.resumeToken))}function zF(n,e){const t=p0(e.snapshotVersion),r=p0(e.lastLimboFreeSnapshotVersion);let o;o=aD(e.target)?OF(n.Wt,e.target):PF(n.Wt,e.target);const c=e.resumeToken.toBase64();return new uo(e.targetId,e1(e.target),t,c,e.sequenceNumber,r,o)}function tR(n){const e=xF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?eF(e,e.limit,"L"):e}class jB{getBundleMetadata(e,t){return qF(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:g0(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return qF(e).put({bundleId:(r=t).id,createTime:p0(Ai(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return KF(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:tR(o.bundledQuery),readTime:g0(o.readTime)};var o})}saveNamedQuery(e,t){return KF(e).put({name:(r=t).name,readTime:p0(Ai(r.readTime)),bundledQuery:r.bundledQuery});var r}}function qF(n){return ho(n,h0.store)}function KF(n){return ho(n,f0.store)}class $B{constructor(){this.Gt=new nR}addToCollectionParentIndex(e,t){return this.Gt.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.Gt.getEntries(t))}}class nR{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new pr(gn.comparator),c=!o.has(r);return this.index[t]=o.add(r),c}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new pr(gn.comparator)).toArray()}}class WB{constructor(){this.zt=new nR}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const c={collectionId:r,parent:Ul(o)};return YF(e).put(c)}return Oe.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[Uk(t),""],!1,!0);return YF(e).Lt(o).next(c=>{for(const h of c){if(h.collectionId!==t)break;r.push(td(h.parent))}return r})}}function YF(n){return ho(n,cg.store)}const QF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class fo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function JF(n,e,t){const r=n.store(er.store),o=n.store(os.store),c=[],h=IDBKeyRange.only(t.batchId);let _=0;const v=r.Kt({range:h},(N,R,B)=>(_++,B.delete()));c.push(v.next(()=>{Ct(1===_)}));const D=[];for(const N of t.mutations){const R=os.key(e,N.key.path,t.batchId);c.push(o.delete(R)),D.push(N.key)}return Oe.waitFor(c).next(()=>D)}function bD(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw lt();e=n.noDocument}return JSON.stringify(e).length}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class rR{constructor(e,t,r,o){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=o,this.Jt={}}static Yt(e,t,r,o){Ct(""!==e.uid);const c=e.isAuthenticated()?e.uid:"";return new rR(c,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).Kt({index:er.userMutationsIndex,range:r},(o,c,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const c=_0(e),h=Bh(e);return h.add({}).next(_=>{Ct("number"==typeof _);const v=new QM(_,t,r,o),D=function(B,H,ie){const Ce=ie.baseMutations.map(et=>_D(B.Wt,et)),Re=ie.mutations.map(et=>_D(B.Wt,et));return new er(H,ie.batchId,ie.localWriteTime.toMillis(),Ce,Re)}(this.N,this.userId,v),N=[];let R=new pr((B,H)=>Ht(B.canonicalString(),H.canonicalString()));for(const B of o){const H=os.key(this.userId,B.key.path,_);R=R.add(B.key.path.popLast()),N.push(h.put(D)),N.push(c.put(H,os.PLACEHOLDER))}return R.forEach(B=>{N.push(this.Ht.addToCollectionParentIndex(e,B))}),e.addOnCommittedListener(()=>{this.Jt[_]=v.keys()}),Oe.waitFor(N).next(()=>v)})}lookupMutationBatch(e,t){return Bh(e).get(t).next(r=>r?(Ct(r.userId===this.userId),m0(this.N,r)):null)}Xt(e,t){return this.Jt[t]?Oe.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.Jt[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let c=null;return Bh(e).Kt({index:er.userMutationsIndex,range:o},(h,_,v)=>{_.userId===this.userId&&(Ct(_.batchId>=r),c=m0(this.N,_)),v.done()}).next(()=>c)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bh(e).Kt({index:er.userMutationsIndex,range:t,reverse:!0},(o,c,h)=>{r=c.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).Lt(er.userMutationsIndex,t).next(r=>r.map(o=>m0(this.N,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=os.prefixForPath(this.userId,t.path),o=IDBKeyRange.lowerBound(r),c=[];return _0(e).Kt({range:o},(h,_,v)=>{const[D,N,R]=h,B=td(N);if(D===this.userId&&t.path.isEqual(B))return Bh(e).get(R).next(H=>{if(!H)throw lt();Ct(H.userId===this.userId),c.push(m0(this.N,H))});v.done()}).next(()=>c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(Ht);const o=[];return t.forEach(c=>{const h=os.prefixForPath(this.userId,c.path),_=IDBKeyRange.lowerBound(h),v=_0(e).Kt({range:_},(D,N,R)=>{const[B,H,ie]=D,Ce=td(H);B===this.userId&&c.path.isEqual(Ce)?r=r.add(ie):R.done()});o.push(v)}),Oe.waitFor(o).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,c=os.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(c);let _=new pr(Ht);return _0(e).Kt({range:h},(v,D,N)=>{const[R,B,H]=v,ie=td(B);R===this.userId&&r.isPrefixOf(ie)?ie.length===o&&(_=_.add(H)):N.done()}).next(()=>this.Zt(e,_))}Zt(e,t){const r=[],o=[];return t.forEach(c=>{o.push(Bh(e).get(c).next(h=>{if(null===h)throw lt();Ct(h.userId===this.userId),r.push(m0(this.N,h))}))}),Oe.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return JF(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),Oe.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const r=IDBKeyRange.lowerBound(os.prefixForUser(this.userId)),o=[];return _0(e).Kt({range:r},(c,h,_)=>{if(c[0]===this.userId){const v=td(c[1]);o.push(v)}else _.done()}).next(()=>{Ct(0===o.length)})})}containsKey(e,t){return XF(e,this.userId,t)}ee(e){return eL(e).get(this.userId).next(t=>t||new Lh(this.userId,-1,""))}}function XF(n,e,t){const r=os.prefixForPath(e,t.path),o=r[1],c=IDBKeyRange.lowerBound(r);let h=!1;return _0(n).Kt({range:c,qt:!0},(_,v,D)=>{const[N,R,B]=_;N===e&&R===o&&(h=!0),D.done()}).next(()=>h)}function Bh(n){return ho(n,er.store)}function _0(n){return ho(n,os.store)}function eL(n){return ho(n,Lh.store)}class hg{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new hg(0)}static ie(){return new hg(-1)}}class ZB{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new hg(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Pt.fromTimestamp(new Ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.oe(e,o)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>y0(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(Ct(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let o=0;const c=[];return y0(e).Kt((h,_)=>{const v=f1(_);v.sequenceNumber<=t&&null===r.get(v.targetId)&&(o++,c.push(this.removeTargetData(e,v)))}).next(()=>Oe.waitFor(c)).next(()=>o)}forEachTarget(e,t){return y0(e).Kt((r,o)=>{const c=f1(o);t(c)})}re(e){return tL(e).get(ea.key).next(t=>(Ct(null!==t),t))}oe(e,t){return tL(e).put(ea.key,t)}ce(e,t){return y0(e).put(zF(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=e1(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let c=null;return y0(e).Kt({range:o,index:uo.queryTargetsIndexName},(h,_,v)=>{const D=f1(_);oD(t,D.target)&&(c=D,v.done())}).next(()=>c)}addMatchingKeys(e,t,r){const o=[],c=Uh(e);return t.forEach(h=>{const _=Ul(h.path);o.push(c.put(new $i(r,_))),o.push(this.referenceDelegate.addReference(e,r,h))}),Oe.waitFor(o)}removeMatchingKeys(e,t,r){const o=Uh(e);return Oe.forEach(t,c=>{const h=Ul(c.path);return Oe.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,c)])})}removeMatchingKeysForTargetId(e,t){const r=Uh(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Uh(e);let c=Cn();return o.Kt({range:r,qt:!0},(h,_,v)=>{const D=td(h[1]),N=new it(D);c=c.add(N)}).next(()=>c)}containsKey(e,t){const r=Ul(t.path),o=IDBKeyRange.bound([r],[Uk(r)],!1,!0);let c=0;return Uh(e).Kt({index:$i.documentTargetsIndex,qt:!0,range:o},([h,_],v,D)=>{0!==h&&(c++,D.done())}).next(()=>c>0)}Tt(e,t){return y0(e).get(t).next(r=>r?f1(r):null)}}function y0(n){return ho(n,uo.store)}function tL(n){return ho(n,ea.store)}function Uh(n){return ho(n,$i.store)}function fg(n){return iR.apply(this,arguments)}function iR(){return iR=(0,ve.Z)(function*(n){if(n.code!==me.FAILED_PRECONDITION||n.message!==UF)throw n;Ve("LocalStore","Unexpectedly lost primary lease")}),iR.apply(this,arguments)}function nL([n,e],[t,r]){const o=Ht(n,t);return 0===o?Ht(e,r):o}class zB{constructor(e){this.ue=e,this.buffer=new pr(nL),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();nL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class qB{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Ve("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,ve.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){ug(o)?Ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield fg(o)}yield t._e(e)}))}}class KB{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Jo.T);const r=new zB(t);return this.me.forEachTarget(e,o=>r.fe(o.sequenceNumber)).next(()=>this.me.ye(e,o=>r.fe(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(QF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QF):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,o,c,h,_,v,D;const N=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(Ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,h=Date.now(),this.nthSequenceNumber(e,o))).next(R=>(r=R,_=Date.now(),this.removeTargets(e,r,t))).next(R=>(c=R,v=Date.now(),this.removeOrphanedDocuments(e,r))).next(R=>(D=Date.now(),xM()<=Gu.in.DEBUG&&Ve("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-N}ms\n\tDetermined least recently used ${o} in `+(_-h)+`ms\n\tRemoved ${c} targets in `+(v-_)+`ms\n\tRemoved ${R} documents in `+(D-v)+`ms\nTotal Duration: ${D-N}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:R})))}}class YB{constructor(e,t){this.db=e,this.garbageCollector=new KB(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,o)=>t(o))}addReference(e,t,r){return vD(e,r)}removeReference(e,t,r){return vD(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return vD(e,t)}Ie(e,t){return function(r,o){let c=!1;return eL(r).jt(h=>XF(r,h,o).next(_=>(_&&(c=!0),Oe.resolve(!_)))).next(()=>c)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let c=0;return this.Ee(e,(h,_)=>{if(_<=t){const v=this.Ie(e,h).next(D=>{if(!D)return c++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Uh(e).delete([0,Ul(h.path)])))});o.push(v)}}).next(()=>Oe.waitFor(o)).next(()=>r.apply(e)).next(()=>c)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return vD(e,t)}Ee(e,t){const r=Uh(e);let o,c=Jo.T;return r.Kt({index:$i.documentTargetsIndex},([h,_],{path:v,sequenceNumber:D})=>{0===h?(c!==Jo.T&&t(new it(td(o)),c),c=D,o=v):c=Jo.T}).next(()=>{c!==Jo.T&&t(new it(td(o)),c)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vD(n,e){return Uh(n).put((r=n.currentSequenceNumber,new $i(0,Ul(e.path),r)));var r}class b0{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,e))return c}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0!==o){for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),!0;return!1}forEach(e){ig(this.inner,(t,r)=>{for(const[o,c]of r)e(o,c)})}isEmpty(){return Hk(this.inner)}}class rL{constructor(){this.changes=new b0(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Pt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:sr.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Oe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QB{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return Gh(e).put(TD(t),r)}removeEntry(e,t){const r=Gh(e),o=TD(t);return r.delete(o)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return Gh(e).get(TD(t)).next(r=>this.Re(t,r))}be(e,t){return Gh(e).get(TD(t)).next(r=>({document:this.Re(t,r),size:bD(r)}))}getEntries(e,t){let r=Za();return this.Pe(e,t,(o,c)=>{const h=this.Re(o,c);r=r.insert(o,h)}).next(()=>r)}ve(e,t){let r=Za(),o=new si(it.comparator);return this.Pe(e,t,(c,h)=>{const _=this.Re(c,h);r=r.insert(c,_),o=o.insert(c,bD(h))}).next(()=>({documents:r,Ve:o}))}Pe(e,t,r){if(t.isEmpty())return Oe.resolve();const o=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),c=t.getIterator();let h=c.getNext();return Gh(e).Kt({range:o},(_,v,D)=>{const N=it.fromSegments(_);for(;h&&it.comparator(h,N)<0;)r(h,null),h=c.getNext();h&&h.isEqual(N)&&(r(h,v),h=c.hasNext()?c.getNext():null),h?D.Mt(h.path.toArray()):D.done()}).next(()=>{for(;h;)r(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r){let o=Za();const c=t.path.length+1,h={};if(r.isEqual(Pt.min())){const _=t.path.toArray();h.range=IDBKeyRange.lowerBound(_)}else{const _=t.path.toArray(),v=eR(r);h.range=IDBKeyRange.lowerBound([_,v],!0),h.index=gr.collectionReadTimeIndex}return Gh(e).Kt(h,(_,v,D)=>{if(_.length!==c)return;const N=XM(this.N,v);t.path.isPrefixOf(N.key.path)?r1(t,N)&&(o=o.insert(N.key,N)):D.done()}).next(()=>o)}newChangeBuffer(e){return new JB(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return iL(e).get(xc.key).next(t=>(Ct(!!t),t))}Ae(e,t){return iL(e).put(xc.key,t)}Re(e,t){if(t){const r=XM(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return sr.newInvalidDocument(e)}}class JB extends rL{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new b0(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new pr((c,h)=>Ht(c.canonicalString(),h.canonicalString()));return this.changes.forEach((c,h)=>{const _=this.De.get(c);if(h.document.isValidDocument()){const v=WF(this.Se.N,h.document,this.getReadTime(c));o=o.add(c.path.popLast()),r+=bD(v)-_,t.push(this.Se.addEntry(e,c,v))}else if(r-=_,this.trackRemovals){const v=WF(this.Se.N,sr.newNoDocument(c,Pt.min()),this.getReadTime(c));t.push(this.Se.addEntry(e,c,v))}else t.push(this.Se.removeEntry(e,c))}),o.forEach(c=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,c))}),t.push(this.Se.updateMetadata(e,r)),Oe.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:o})=>(o.forEach((c,h)=>{this.De.set(c,h)}),r))}}function iL(n){return ho(n,xc.store)}function Gh(n){return ho(n,gr.store)}function TD(n){return n.path.toArray()}class XB{constructor(e){this.N=e}Ct(e,t,r,o){Ct(r<o&&r>=0&&o<=11);const c=new yD("createOrUpgrade",t);var _;r<1&&o>=1&&(e.createObjectStore(Xo.store),(_=e).createObjectStore(Lh.store,{keyPath:Lh.keyPath}),_.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0}),_.createObjectStore(os.store),sL(e),function(_){_.createObjectStore(gr.store)}(e));let h=Oe.resolve();return r<3&&o>=3&&(0!==r&&(function(_){_.deleteObjectStore($i.store),_.deleteObjectStore(uo.store),_.deleteObjectStore(ea.store)}(e),sL(e)),h=h.next(()=>function(_){const v=_.store(ea.store),D=new ea(0,0,Pt.min().toTimestamp(),0);return v.put(ea.key,D)}(c))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(_,v){return v.store(er.store).Lt().next(D=>{_.deleteObjectStore(er.store),_.createObjectStore(er.store,{keyPath:er.keyPath,autoIncrement:!0}).createIndex(er.userMutationsIndex,er.userMutationsKeyPath,{unique:!0});const N=v.store(er.store),R=D.map(B=>N.put(B));return Oe.waitFor(R)})}(e,c))),h=h.next(()=>{!function(_){_.createObjectStore(nd.store,{keyPath:nd.keyPath})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Ce(c))),r<6&&o>=6&&(h=h.next(()=>(function(_){_.createObjectStore(xc.store)}(e),this.Ne(c)))),r<7&&o>=7&&(h=h.next(()=>this.xe(c))),r<8&&o>=8&&(h=h.next(()=>this.ke(e,c))),r<9&&o>=9&&(h=h.next(()=>{(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){const v=_.objectStore(gr.store);v.createIndex(gr.readTimeIndex,gr.readTimeIndexPath,{unique:!1}),v.createIndex(gr.collectionReadTimeIndex,gr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&o>=10&&(h=h.next(()=>this.$e(c))),r<11&&o>=11&&(h=h.next(()=>{(function(_){_.createObjectStore(h0.store,{keyPath:h0.keyPath})})(e),function(_){_.createObjectStore(f0.store,{keyPath:f0.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(gr.store).Kt((r,o)=>{t+=bD(o)}).next(()=>{const r=new xc(t);return e.store(xc.store).put(xc.key,r)})}Ce(e){const t=e.store(Lh.store),r=e.store(er.store);return t.Lt().next(o=>Oe.forEach(o,c=>{const h=IDBKeyRange.bound([c.userId,-1],[c.userId,c.lastAcknowledgedBatchId]);return r.Lt(er.userMutationsIndex,h).next(_=>Oe.forEach(_,v=>{Ct(v.userId===c.userId);const D=m0(this.N,v);return JF(e,c.userId,D).next(()=>{})}))}))}xe(e){const t=e.store($i.store),r=e.store(gr.store);return e.store(ea.store).get(ea.key).next(o=>{const c=[];return r.Kt((h,_)=>{const v=new gn(h),D=[0,Ul(v)];c.push(t.get(D).next(N=>N?Oe.resolve():t.put(new $i(0,Ul(v),o.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(c))})}ke(e,t){e.createObjectStore(cg.store,{keyPath:cg.keyPath});const r=t.store(cg.store),o=new nR,c=h=>{if(o.add(h)){const _=h.lastSegment(),v=h.popLast();return r.put({collectionId:_,parent:Ul(v)})}};return t.store(gr.store).Kt({qt:!0},(h,_)=>{const v=new gn(h);return c(v.popLast())}).next(()=>t.store(os.store).Kt({qt:!0},([h,_,v],D)=>{const N=td(_);return c(N.popLast())}))}$e(e){const t=e.store(uo.store);return t.Kt((r,o)=>{const c=f1(o),h=zF(this.N,c);return t.put(h)})}}function sL(n){n.createObjectStore($i.store,{keyPath:$i.keyPath}).createIndex($i.documentTargetsIndex,$i.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(uo.store,{keyPath:uo.keyPath}).createIndex(uo.queryTargetsIndexName,uo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(ea.store)}const sR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class oR{constructor(e,t,r,o,c,h,_,v,D,N){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=c,this.window=h,this.document=_,this.Fe=D,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=R=>Promise.resolve(),!oR.bt())throw new Fe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new YB(this,o),this.We=t+"main",this.N=new $F(v),this.Ge=new Gl(this.We,11,new XB(this.N)),this.ze=new ZB(this.referenceDelegate,this.N),this.Ht=new WB,this.He=new QB(this.N,this.Ht),this.Je=new jB,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&Hr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,sR);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Jo(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,ve.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,ve.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,ve.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wD(e).put(new nd(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(ug(e))return Ve("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ve("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return p1(e).get(Xo.key).next(t=>Oe.resolve(this.an(t)))}un(e){return wD(e).delete(this.clientId)}hn(){var e=this;return(0,ve.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=ho(r,nd.store);return o.Lt().next(c=>{const h=e.fn(c,18e5),_=c.filter(v=>-1===h.indexOf(v));return Oe.forEach(_,v=>o.delete(v.clientId)).next(()=>_)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?Oe.resolve(!0):p1(e).get(Xo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Fe(me.FAILED_PRECONDITION,sR);return!1}}return!(!this.networkEnabled||!this.inForeground)||wD(e).Lt().next(r=>void 0===this.fn(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,_=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&_)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ve("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ve.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[Xo.store,nd.store],t=>{const r=new jF(t,Jo.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>wD(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return rR.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let c;return Ve("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",UB,h=>(c=new jF(h,this.Le?this.Le.next():Jo.T),"readwrite-primary"===t?this.sn(c).next(_=>!!_||this.rn(c)).next(_=>{if(!_)throw Hr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Fe(me.FAILED_PRECONDITION,UF);return r(c)}).next(_=>this.cn(c).next(()=>_)):this.Tn(c).next(()=>r(c)))).then(h=>(c.raiseOnCommittedEvent(),h))}Tn(e){return p1(e).get(Xo.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(me.FAILED_PRECONDITION,sR)})}cn(e){const t=new Xo(this.clientId,this.allowTabSynchronization,Date.now());return p1(e).put(Xo.key,t)}static bt(){return Gl.bt()}on(e){const t=p1(e);return t.get(Xo.key).next(r=>this.an(r)?(Ve("IndexedDbPersistence","Releasing primary lease."),t.delete(Xo.key)):Oe.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(Hr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Tt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Ve("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Hr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){Hr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function p1(n){return ho(n,Xo.store)}function wD(n){return ho(n,nd.store)}function aR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class eU{constructor(e,t){this.progress=e,this.En=t}}class oL{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(o=>{for(const c of r)c.applyToLocalView(o);return o})}bn(e,t){e.forEach((r,o)=>{for(const c of t)c.applyToLocalView(o)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return it.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Vn(e,t.path):jM(t)?this.Sn(e,t,r):this.Dn(e,t,r);var o}Vn(e,t){return this.An(e,new it(t)).next(r=>{let o=zM();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Sn(e,t,r){const o=t.collectionGroup;let c=zM();return this.Ht.getCollectionParents(e,o).next(h=>Oe.forEach(h,_=>{const v=(D=t,N=_.child(o),new ed(N,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,N;return this.Dn(e,v,r).next(D=>{D.forEach((N,R)=>{c=c.insert(N,R)})})}).next(()=>c))}Dn(e,t,r){let o,c;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(o=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(c=h,this.Cn(e,c,o).next(_=>{o=_;for(const v of c)for(const D of v.mutations){const N=D.key;let R=o.get(N);null==R&&(R=sr.newInvalidDocument(N),o=o.insert(N,R)),WM(D,R,v.localWriteTime),R.isFoundDocument()||(o=o.remove(N))}}))).next(()=>(o.forEach((h,_)=>{r1(t,_)||(o=o.remove(h))}),o))}Cn(e,t,r){let o=Cn();for(const h of t)for(const _ of h.mutations)_ instanceof Fh&&null===r.get(_.key)&&(o=o.add(_.key));let c=r;return this.He.getEntries(e,o).next(h=>(h.forEach((_,v)=>{v.isFoundDocument()&&(c=c.insert(_,v))}),c))}}class lR{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=o}static kn(e,t){let r=Cn(),o=Cn();for(const c of t.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new lR(e,t.fromCache,r,o)}}class aL{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,o){return 0===(c=t).filters.length&&null===c.limit&&null==c.startAt&&null==c.endAt&&(0===c.explicitOrderBy.length||1===c.explicitOrderBy.length&&c.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Fn(e,t):this.On.Pn(e,o).next(c=>{const h=this.Mn(t,c);return(cD(t)||uD(t))&&this.Ln(t.limitType,h,o,r)?this.Fn(e,t):(xM()<=Gu.in.DEBUG&&Ve("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$M(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(_=>(h.forEach(v=>{_=_.insert(v.key,v)}),_)))});var c}Mn(e,t){let r=new pr(nF(e));return t.forEach((o,c)=>{r1(e,c)&&(r=r.add(c))}),r}Ln(e,t,r,o){if(r.size!==t.size)return!0;const c="F"===e?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Fn(e,t){return xM()<=Gu.in.DEBUG&&Ve("QueryEngine","Using full collection scan to execute query:",$M(t)),this.On.getDocumentsMatchingQuery(e,t,Pt.min())}}class tU{constructor(e,t,r,o){this.persistence=e,this.Bn=t,this.N=o,this.Un=new si(Ht),this.qn=new b0(c=>e1(c),oD),this.Kn=Pt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new oL(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function lL(n,e,t,r){return new tU(n,e,t,r)}function cL(n,e){return cR.apply(this,arguments)}function cR(){return cR=(0,ve.Z)(function*(n,e){const t=He(n);let r=t.In,o=t.Qn;const c=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let _;return t.In.getAllMutationBatches(h).next(v=>(_=v,r=t.persistence.getMutationQueue(e),o=new oL(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(v=>{const D=[],N=[];let R=Cn();for(const B of _){D.push(B.batchId);for(const H of B.mutations)R=R.add(H.key)}for(const B of v){N.push(B.batchId);for(const H of B.mutations)R=R.add(H.key)}return o.Pn(h,R).next(B=>({Wn:B,removedBatchIds:D,addedBatchIds:N}))})});return t.In=r,t.Qn=o,t.Bn.$n(t.Qn),c}),cR.apply(this,arguments)}function nU(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),c=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,_,v,D){const N=v.batch,R=N.keys();let B=Oe.resolve();return R.forEach(H=>{B=B.next(()=>D.getEntry(_,H)).next(ie=>{const Ce=v.docVersions.get(H);Ct(null!==Ce),ie.version.compareTo(Ce)<0&&(N.applyToRemoteDocument(ie,v),ie.isValidDocument()&&D.addEntry(ie,v.commitVersion))})}),B.next(()=>h.In.removeMutationBatch(_,N))}(t,r,e,c).next(()=>c.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,o))})}function uL(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function rU(n,e){const t=He(n),r=e.snapshotVersion;let o=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});o=t.Un;const _=[];e.targetChanges.forEach((D,N)=>{const R=o.get(N);if(!R)return;_.push(t.ze.removeMatchingKeys(c,D.removedDocuments,N).next(()=>t.ze.addMatchingKeys(c,D.addedDocuments,N)));const B=D.resumeToken;if(B.approximateByteSize()>0){const H=R.withResumeToken(B,r).withSequenceNumber(c.currentSequenceNumber);o=o.insert(N,H),ie=R,Re=D,Ct((Ce=H).resumeToken.approximateByteSize()>0),(0===ie.resumeToken.approximateByteSize()||Ce.snapshotVersion.toMicroseconds()-ie.snapshotVersion.toMicroseconds()>=3e8||Re.addedDocuments.size+Re.modifiedDocuments.size+Re.removedDocuments.size>0)&&_.push(t.ze.updateTargetData(c,H))}var ie,Ce,Re});let v=Za();if(e.documentUpdates.forEach((D,N)=>{e.resolvedLimboDocuments.has(D)&&_.push(t.persistence.referenceDelegate.updateLimboDocument(c,D))}),_.push(dL(c,h,e.documentUpdates,r,void 0).next(D=>{v=D})),!r.isEqual(Pt.min())){const D=t.ze.getLastRemoteSnapshotVersion(c).next(N=>t.ze.setTargetsMetadata(c,c.currentSequenceNumber,r));_.push(D)}return Oe.waitFor(_).next(()=>h.apply(c)).next(()=>t.Qn.vn(c,v)).next(()=>v)}).then(c=>(t.Un=o,c))}function dL(n,e,t,r,o){let c=Cn();return t.forEach(h=>c=c.add(h)),e.getEntries(n,c).next(h=>{let _=Za();return t.forEach((v,D)=>{const N=h.get(v),R=(null==o?void 0:o.get(v))||r;D.isNoDocument()&&D.version.isEqual(Pt.min())?(e.removeEntry(v,R),_=_.insert(v,D)):!N.isValidDocument()||D.version.compareTo(N.version)>0||0===D.version.compareTo(N.version)&&N.hasPendingWrites?(e.addEntry(D,R),_=_.insert(v,D)):Ve("LocalStore","Ignoring outdated watch update for ",v,". Current version:",N.version," Watch version:",D.version)}),_})}function iU(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function v0(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.ze.getTargetData(r,e).next(c=>c?(o=c,Oe.resolve(o)):t.ze.allocateTargetId(r).next(h=>(o=new Vh(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.Un.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function T0(n,e,t){return uR.apply(this,arguments)}function uR(){return uR=(0,ve.Z)(function*(n,e,t){const r=He(n),o=r.Un.get(e),c=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",c,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!ug(h))throw h;Ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(o.target)}),uR.apply(this,arguments)}function ED(n,e,t){const r=He(n);let o=Pt.min(),c=Cn();return r.persistence.runTransaction("Execute query","readonly",h=>function(_,v,D){const N=He(_),R=N.qn.get(D);return void 0!==R?Oe.resolve(N.Un.get(R)):N.ze.getTargetData(v,D)}(r,h,Wa(e)).next(_=>{if(_)return o=_.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,_.targetId).next(v=>{c=v})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?o:Pt.min(),t?c:Cn())).next(_=>({documents:_,Gn:c})))}function hL(n,e){const t=He(n),r=He(t.ze),o=t.Un.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",c=>r.Tt(c,e).next(h=>h?h.target:null))}function fL(n){const e=He(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,o,c){const h=He(r);let _=Za(),v=eR(c);const D=Gh(o),N=IDBKeyRange.lowerBound(v,!0);return D.Kt({index:gr.readTimeIndex,range:N},(R,B)=>{const H=XM(h.N,B);_=_.insert(H.key,H),v=B.readTime}).next(()=>({En:_,readTime:ZF(v)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function dR(){return dR=(0,ve.Z)(function*(n){const e=He(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const o=Gh(r);let c=Pt.min();return o.Kt({index:gr.readTimeIndex,reverse:!0},(h,_,v)=>{_.readTime&&(c=ZF(_.readTime)),v.done()}).next(()=>c)}(t)).then(t=>{e.Kn=t})}),dR.apply(this,arguments)}function hR(){return hR=(0,ve.Z)(function*(n,e,t,r){const o=He(n);let c=Cn(),h=Za(),_=bF();for(const N of t){const R=e.zn(N.metadata.name);N.document&&(c=c.add(R)),h=h.insert(R,e.Hn(N)),_=_.insert(R,e.Jn(N.metadata.readTime))}const v=o.jn.newChangeBuffer({trackRemovals:!0}),D=yield v0(o,(N=r,Wa(o0(gn.fromString(`__bundle__/docs/${N}`)))));var N;return o.persistence.runTransaction("Apply bundle documents","readwrite",N=>dL(N,v,h,Pt.min(),_).next(R=>(v.apply(N),R)).next(R=>o.ze.removeMatchingKeysForTargetId(N,D.targetId).next(()=>o.ze.addMatchingKeys(N,c,D.targetId)).next(()=>o.Qn.vn(N,R)).next(()=>R)))}),hR.apply(this,arguments)}function aU(n,e){return fR.apply(this,arguments)}function fR(){return fR=(0,ve.Z)(function*(n,e,t=Cn()){const r=yield v0(n,Wa(tR(e.bundledQuery))),o=He(n);return o.persistence.runTransaction("Save named query","readwrite",c=>{const h=Ai(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o.Je.saveNamedQuery(c,e);const _=r.withResumeToken(Si.EMPTY_BYTE_STRING,h);return o.Un=o.Un.insert(_.targetId,_),o.ze.updateTargetData(c,_).next(()=>o.ze.removeMatchingKeysForTargetId(c,r.targetId)).next(()=>o.ze.addMatchingKeys(c,t,r.targetId)).next(()=>o.Je.saveNamedQuery(c,e))})}),fR.apply(this,arguments)}class lU{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ai(r.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:tR(r.bundledQuery),readTime:Ai(r.readTime)}),Oe.resolve();var r}}class pR{constructor(){this.Zn=new pr(Ni.ts),this.es=new pr(Ni.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new Ni(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new it(new gn([])),r=new Ni(t,e),o=new Ni(t,e+1),c=[];return this.es.forEachInRange([r,o],h=>{this.rs(h),c.push(h.key)}),c}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new it(new gn([])),r=new Ni(t,e),o=new Ni(t,e+1);let c=Cn();return this.es.forEachInRange([r,o],h=>{c=c.add(h.key)}),c}containsKey(e){const t=new Ni(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return it.comparator(e.key,t.key)||Ht(e.ls,t.ls)}static ns(e,t){return Ht(e.ls,t.ls)||it.comparator(e.key,t.key)}}class cU{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new pr(Ni.ts)}checkEmpty(e){return Oe.resolve(0===this.In.length)}addMutationBatch(e,t,r,o){const c=this.fs;this.fs++;const h=new QM(c,t,r,o);this.In.push(h);for(const _ of o)this.ds=this.ds.add(new Ni(_.key,c)),this.Ht.addToCollectionParentIndex(e,_.key.path.popLast());return Oe.resolve(h)}lookupMutationBatch(e,t){return Oe.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const o=this._s(t+1),c=o<0?0:o;return Oe.resolve(this.In.length>c?this.In[c]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return Oe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),o=new Ni(t,Number.POSITIVE_INFINITY),c=[];return this.ds.forEachInRange([r,o],h=>{const _=this.ws(h.ls);c.push(_)}),Oe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new pr(Ht);return t.forEach(o=>{const c=new Ni(o,0),h=new Ni(o,Number.POSITIVE_INFINITY);this.ds.forEachInRange([c,h],_=>{r=r.add(_.ls)})}),Oe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let c=r;it.isDocumentKey(c)||(c=c.child(""));const h=new Ni(new it(c),0);let _=new pr(Ht);return this.ds.forEachWhile(v=>{const D=v.key.path;return!!r.isPrefixOf(D)&&(D.length===o&&(_=_.add(v.ls)),!0)},h),Oe.resolve(this.gs(_))}gs(e){const t=[];return e.forEach(r=>{const o=this.ws(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ct(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return Oe.forEach(t.mutations,o=>{const c=new Ni(o.key,t.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new Ni(t,0),o=this.ds.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Oe.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class uU{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new si(it.comparator),this.size=0}addEntry(e,t,r){const o=t.key,c=this.docs.get(o),h=c?c.size:0,_=this.ps(t);return this.docs=this.docs.insert(o,{document:t.clone(),size:_,readTime:r}),this.size+=_-h,this.Ht.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.clone():sr.newInvalidDocument(t))}getEntries(e,t){let r=Za();return t.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.clone():sr.newInvalidDocument(o))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let o=Za();const c=new it(t.path.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:_,value:{document:v,readTime:D}}=h.getNext();if(!t.path.isPrefixOf(_.path))break;D.compareTo(r)<=0||r1(t,v)&&(o=o.insert(v.key,v.clone()))}return Oe.resolve(o)}Ts(e,t){return Oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new dU(this)}getSize(e){return Oe.resolve(this.size)}}class dU extends rL{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.document.isValidDocument()?t.push(this.Se.addEntry(e,o.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Oe.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class hU{constructor(e){this.persistence=e,this.Es=new b0(t=>e1(t),oD),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.Is=0,this.As=new pR,this.targetCount=0,this.Rs=hg.se()}forEachTarget(e,t){return this.Es.forEach((r,o)=>t(o)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),Oe.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new hg(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.ce(t),Oe.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let o=0;const c=[];return this.Es.forEach((h,_)=>{_.sequenceNumber<=t&&null===r.get(_.targetId)&&(this.Es.delete(h),c.push(this.removeMatchingKeysForTargetId(e,_.targetId)),o++)}),Oe.waitFor(c).next(()=>o)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(h=>{c.push(o.markPotentiallyOrphaned(e,h))}),Oe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this.As.containsKey(t))}}class fU{constructor(e,t){this.bs={},this.Le=new Jo(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new hU(this),this.Ht=new $B,this.He=new uU(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new $F(t),this.Je=new lU(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new cU(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Ve("MemoryPersistence","Starting transaction:",e);const o=new pU(this.Le.next());return this.referenceDelegate.vs(),r(o).next(c=>this.referenceDelegate.Vs(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Ss(e,t){return Oe.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class pU extends GF{constructor(e){super(),this.currentSequenceNumber=e}}class gR{constructor(e){this.persistence=e,this.Ds=new pR,this.Cs=null}static Ns(e){return new gR(e)}get xs(){if(this.Cs)return this.Cs;throw lt()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(o=>this.xs.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.xs.add(c.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,r=>{const o=it.fromPath(r);return this.ks(e,o).next(c=>{c||t.removeEntry(o)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return Oe.or([()=>Oe.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function pL(n,e){return`firestore_clients_${n}_${e}`}function gL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function mR(n,e){return`firestore_targets_${n}_${e}`}class CD{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static $s(e,t,r){const o=JSON.parse(r);let c,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(c=new Fe(o.error.code,o.error.message))),h?new CD(e,t,o.state,c):(Hr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class g1{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let o,c="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Fe(r.error.code,r.error.message))),c?new g1(e,r.state,o):(Hr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class DD{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,c=gD();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=$k(r.activeTargetIds[h]),c=c.add(r.activeTargetIds[h]);return o?new DD(e,c):(Hr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _R{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _R(t.clientId,t.onlineState):(Hr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yR{constructor(){this.activeTargetIds=gD()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bR{constructor(e,t,r,o,c){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new si(Ht),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=c,this.js=pL(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new yR),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(_){return`firestore_bundle_loaded_${_}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ve.Z)(function*(){const t=yield e.syncEngine.pn();for(const o of t){if(o===e.Ls)continue;const c=e.getItem(pL(e.persistenceKey,o));if(c){const h=DD.$s(o,c);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const o=e.Xs(r);o&&e.Zs(o)}for(const o of e.Ks)e.Us(o);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(mR(this.persistenceKey,e));if(r){const o=g1.$s(e,r);o&&(t=o.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mR(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.ni(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ve("SharedClientState","READ",e,t),t}setItem(e,t){Ve("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ve("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ve("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void Hr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ve.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const o=t.ci(r.key);return t.ai(o,null)}{const o=t.ui(r.key,r.newValue);if(o)return t.ai(o.clientId,o)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const o=t.hi(r.key,r.newValue);if(o)return t.li(o)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const o=t.fi(r.key,r.newValue);if(o)return t.di(o)}}else if(r.key===t.Hs){if(null!==r.newValue){const o=t.Xs(r.newValue);if(o)return t.Zs(o)}}else if(r.key===t.Qs){const o=function(c){let h=Jo.T;if(null!=c)try{const _=JSON.parse(c);Ct("number"==typeof _),h=_}catch(_){Hr("SharedClientState","Failed to read sequence number from WebStorage",_)}return h}(r.newValue);o!==Jo.T&&t.sequenceNumberHandler(o)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const o=new CD(this.currentUser,e,t,r),c=gL(this.persistenceKey,this.currentUser,e);this.setItem(c,o.Os())}ni(e){const t=gL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const o=mR(this.persistenceKey,e),c=new g1(e,t,r);this.setItem(o,c.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return DD.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),o=Number(r[1]);return CD.$s(new Gi(void 0!==r[2]?r[2]:null),o,t)}fi(e,t){const r=this.zs.exec(e),o=Number(r[1]);return g1.$s(o,t)}Xs(e){return _R.$s(e)}li(e){var t=this;return(0,ve.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Ve("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),o=this.ti(this.qs),c=this.ti(r),h=[],_=[];return c.forEach(v=>{o.has(v)||h.push(v)}),o.forEach(v=>{c.has(v)||_.push(v)}),this.syncEngine.gi(h,_).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=gD();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class mL{constructor(){this.yi=new yR,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new yR,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class gU{Ti(e){}shutdown(){}}class _L{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const mU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class _U{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class yU extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,o){const c=this.Bi(e,t);Ve("RestConnection","Sending: ",c,r);const h={};return this.Ui(h,o),this.qi(e,c,h,r).then(_=>(Ve("RestConnection","Received: ",_),_),_=>{throw Kv("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}Ki(e,t,r,o){return this.Li(e,t,r,o)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+X_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${mU[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,o){return new Promise((c,h)=>{const _=new UV;_.listenOnce(LV.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case PM.NO_ERROR:const D=_.getResponseJson();Ve("Connection","XHR received:",JSON.stringify(D)),c(D);break;case PM.TIMEOUT:Ve("Connection",'RPC "'+e+'" timed out'),h(new Fe(me.DEADLINE_EXCEEDED,"Request time out"));break;case PM.HTTP_ERROR:const N=_.getStatus();if(Ve("Connection",'RPC "'+e+'" failed with status:',N,"response text:",_.getResponseText()),N>0){const R=_.getResponseJson().error;if(R&&R.status&&R.message){const B=function(H){const ie=H.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(ie)>=0?ie:me.UNKNOWN}(R.status);h(new Fe(B,R.message))}else h(new Fe(me.UNKNOWN,"Server responded with status "+_.getStatus()))}else h(new Fe(me.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{Ve("Connection",'RPC "'+e+'" completed.')}});const v=JSON.stringify(o);_.send(t,"POST",v,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kV(),c=FV(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new BV({})),this.Ui(h.initMessageHeaders,t),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Ve("Connection","Creating WebChannel: "+_,h);const v=o.createWebChannel(_,h);let D=!1,N=!1;const R=new _U({vi:H=>{N?Ve("Connection","Not sending because WebChannel is closed:",H):(D||(Ve("Connection","Opening WebChannel transport."),v.open(),D=!0),Ve("Connection","WebChannel sending:",H),v.send(H))},Vi:()=>v.close()}),B=(H,ie,Ce)=>{H.listen(ie,Re=>{try{Ce(Re)}catch(et){setTimeout(()=>{throw et},0)}})};return B(v,nD.EventType.OPEN,()=>{N||Ve("Connection","WebChannel transport opened.")}),B(v,nD.EventType.CLOSE,()=>{N||(N=!0,Ve("Connection","WebChannel transport closed"),R.$i())}),B(v,nD.EventType.ERROR,H=>{N||(N=!0,Kv("Connection","WebChannel transport errored:",H),R.$i(new Fe(me.UNAVAILABLE,"The operation could not be completed")))}),B(v,nD.EventType.MESSAGE,H=>{var ie;if(!N){const Ce=H.data[0];Ct(!!Ce);const Re=Ce,et=Re.error||(null===(ie=Re[0])||void 0===ie?void 0:ie.error);if(et){Ve("Connection","WebChannel received error:",et);const ht=et.status;let St=function(jt){const mr=Wr[jt];if(void 0!==mr)return _F(mr)}(ht),st=et.message;void 0===St&&(St=me.INTERNAL,st="Unknown error status: "+ht+" with message "+et.message),N=!0,R.$i(new Fe(St,st)),v.close()}else Ve("Connection","WebChannel received:",Ce),R.Oi(Ce)}}),B(c,VV.STAT_EVENT,H=>{H.stat===Fk.PROXY?Ve("Connection","Detected buffering proxy"):H.stat===Fk.NOPROXY&&Ve("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.ki()},0),R}}function yL(){return"undefined"!=typeof window?window:null}function ID(){return"undefined"!=typeof document?document:null}function m1(n){return new DB(n,!0)}class vR{constructor(e,t,r=1e3,o=1.5,c=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=o,this.Gi=c,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),o=Math.max(0,t-r);o>0&&Ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,o,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class bL{constructor(e,t,r,o,c,h,_){this.Oe=e,this.er=r,this.nr=o,this.sr=c,this.credentialsProvider=h,this.listener=_,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new vR(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,ve.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,ve.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,ve.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===me.RESOURCE_EXHAUSTED?(Hr(t.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===me.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const o=new Fe(me.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(o)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,ve.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bU extends bL{constructor(e,t,r,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,c),this.N=o}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(v=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===v?1:"REMOVE"===v?2:"CURRENT"===v?3:"RESET"===v?4:lt(),o=e.targetChange.targetIds||[],c=function(v,D){return v.D?(Ct(void 0===D||"string"==typeof D),Si.fromBase64String(D||"")):(Ct(void 0===D||D instanceof Uint8Array),Si.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,_=h&&function(v){const D=void 0===v.code?me.UNKNOWN:_F(v.code);return new Fe(D,v.message||"")}(h);t=new TF(r,o,c,_||null)}else if("documentChange"in e){const r=e.documentChange,o=Pc(n,r.document.name),c=Ai(r.document.updateTime),h=new ss({mapValue:{fields:r.document.fields}}),_=sr.newFoundDocument(o,c,h);t=new mD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,o=Pc(n,r.document),c=r.readTime?Ai(r.readTime):Pt.min(),h=sr.newNoDocument(o,c);t=new mD([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Pc(n,r.document);t=new mD([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return lt();{const r=e.filter,c=new mB(r.count||0);t=new vF(r.targetId,c)}}var v;return t}(this.N,e),r=function(o){if(!("targetChange"in o))return Pt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Pt.min():c.readTime?Ai(c.readTime):Pt.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=d1(this.N),t.addTarget=function(o,c){let h;const _=c.target;return h=aD(_)?{documents:OF(o,_)}:{query:PF(o,_)},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0?h.resumeToken=DF(o,c.resumeToken):c.snapshotVersion.compareTo(Pt.min())>0&&(h.readTime=c1(o,c.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return lt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=d1(this.N),t.removeTarget=e,this.mr(t)}}class vU extends bL{constructor(e,t,r,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,c),this.N=o,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(Ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(Ct(void 0!==e),n.map(t=>function(r,o){let c=Ai(r.updateTime?r.updateTime:o);return c.isEqual(Pt.min())&&(c=Ai(o)),new fB(c,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ai(e.commitTime);return this.listener.Dr(r,t)}return Ct(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=d1(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>_D(this.N,r))};this.mr(t)}}class TU extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Li(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Fe(me.UNKNOWN,o.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(o=>this.sr.Ki(e,t,r,o)).catch(o=>{throw"FirebaseError"===o.name?(o.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),o):new Fe(me.UNKNOWN,o.toString())})}terminate(){this.kr=!0}}class wU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(Hr(t),this.Mr=!1):Ve("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class EU{constructor(e,t,r,o,c){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=c,this.zr.Ti(_=>{r.enqueueAndForget((0,ve.Z)(function*(){var v;Hh(h)&&(Ve("RemoteStore","Restarting streams for network reachability change."),yield(v=(0,ve.Z)(function*(D){const N=He(D);N.Wr.add(4),yield w0(N),N.Hr.set("Unknown"),N.Wr.delete(4),yield _1(N)}),function(D){return v.apply(this,arguments)})(h))}))}),this.Hr=new wU(r,o)}}function _1(n){return TR.apply(this,arguments)}function TR(){return TR=(0,ve.Z)(function*(n){if(Hh(n))for(const e of n.Gr)yield e(!0)}),TR.apply(this,arguments)}function w0(n){return wR.apply(this,arguments)}function wR(){return wR=(0,ve.Z)(function*(n){for(const e of n.Gr)yield e(!1)}),wR.apply(this,arguments)}function SD(n,e){const t=He(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),DR(t)?CR(t):C0(t).hr()&&ER(t,e))}function y1(n,e){const t=He(n),r=C0(t);t.Qr.delete(e),r.hr()&&vL(t,e),0===t.Qr.size&&(r.hr()?r.wr():Hh(t)&&t.Hr.set("Unknown"))}function ER(n,e){n.Jr.Y(e.targetId),C0(n).br(e)}function vL(n,e){n.Jr.Y(e),C0(n).Pr(e)}function CR(n){n.Jr=new wB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),C0(n).start(),n.Hr.Lr()}function DR(n){return Hh(n)&&!C0(n).ur()&&n.Qr.size>0}function Hh(n){return 0===He(n).Wr.size}function TL(n){n.Jr=void 0}function CU(n){return IR.apply(this,arguments)}function IR(){return IR=(0,ve.Z)(function*(n){n.Qr.forEach((e,t)=>{ER(n,e)})}),IR.apply(this,arguments)}function DU(n,e){return SR.apply(this,arguments)}function SR(){return SR=(0,ve.Z)(function*(n,e){TL(n),DR(n)?(n.Hr.qr(e),CR(n)):n.Hr.set("Unknown")}),SR.apply(this,arguments)}function IU(n,e,t){return AR.apply(this,arguments)}function AR(){return AR=(0,ve.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof TF&&2===e.state&&e.cause)try{yield(r=(0,ve.Z)(function*(o,c){const h=c.cause;for(const _ of c.targetIds)o.Qr.has(_)&&(yield o.remoteSyncer.rejectListen(_,h),o.Qr.delete(_),o.Jr.removeTarget(_))}),function(o,c){return r.apply(this,arguments)})(n,e)}catch(r){Ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield AD(n,r)}else if(e instanceof mD?n.Jr.rt(e):e instanceof vF?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Pt.min()))try{const r=yield uL(n.localStore);t.compareTo(r)>=0&&(yield function(o,c){const h=o.Jr._t(c);return h.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const D=o.Qr.get(v);D&&o.Qr.set(v,D.withResumeToken(_.resumeToken,c))}}),h.targetMismatches.forEach(_=>{const v=o.Qr.get(_);if(!v)return;o.Qr.set(_,v.withResumeToken(Si.EMPTY_BYTE_STRING,v.snapshotVersion)),vL(o,_);const D=new Vh(v.target,_,1,v.sequenceNumber);ER(o,D)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Ve("RemoteStore","Failed to raise snapshot:",r),yield AD(n,r)}var r}),AR.apply(this,arguments)}function AD(n,e,t){return NR.apply(this,arguments)}function NR(){return NR=(0,ve.Z)(function*(n,e,t){if(!ug(e))throw e;n.Wr.add(1),yield w0(n),n.Hr.set("Offline"),t||(t=()=>uL(n.localStore)),n.asyncQueue.enqueueRetryable((0,ve.Z)(function*(){Ve("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield _1(n)}))}),NR.apply(this,arguments)}function wL(n,e){return e().catch(t=>AD(n,t,e))}function E0(n){return MR.apply(this,arguments)}function MR(){return MR=(0,ve.Z)(function*(n){const e=He(n),t=jh(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;SU(e);)try{const o=yield iU(e.localStore,r);if(null===o){0===e.jr.length&&t.wr();break}r=o.batchId,AU(e,o)}catch(o){yield AD(e,o)}EL(e)&&CL(e)}),MR.apply(this,arguments)}function SU(n){return Hh(n)&&n.jr.length<10}function AU(n,e){n.jr.push(e);const t=jh(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function EL(n){return Hh(n)&&!jh(n).ur()&&n.jr.length>0}function CL(n){jh(n).start()}function NU(n){return RR.apply(this,arguments)}function RR(){return RR=(0,ve.Z)(function*(n){jh(n).Nr()}),RR.apply(this,arguments)}function MU(n){return OR.apply(this,arguments)}function OR(){return OR=(0,ve.Z)(function*(n){const e=jh(n);for(const t of n.jr)e.Sr(t.mutations)}),OR.apply(this,arguments)}function RU(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,ve.Z)(function*(n,e,t){const r=n.jr.shift(),o=JM.from(r,e,t);yield wL(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield E0(n)}),PR.apply(this,arguments)}function OU(n,e){return xR.apply(this,arguments)}function xR(){return xR=(0,ve.Z)(function*(n,e){var t;e&&jh(n).Vr&&(yield(t=(0,ve.Z)(function*(r,o){if(mF(c=o.code)&&c!==me.ABORTED){const h=r.jr.shift();jh(r).dr(),yield wL(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield E0(r)}var c}),function(r,o){return t.apply(this,arguments)})(n,e)),EL(n)&&CL(n)}),xR.apply(this,arguments)}function kR(n,e){return FR.apply(this,arguments)}function FR(){return FR=(0,ve.Z)(function*(n,e){const t=He(n);e?(t.Wr.delete(2),yield _1(t)):e||(t.Wr.add(2),yield w0(t),t.Hr.set("Unknown"))}),FR.apply(this,arguments)}function C0(n){return n.Yr||(n.Yr=function(e,t,r){const o=He(e);return o.$r(),new bU(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:CU.bind(null,n),Ci:DU.bind(null,n),Rr:IU.bind(null,n)}),n.Gr.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Yr.dr(),DR(n)?CR(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),TL(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function jh(n){return n.Xr||(n.Xr=function(e,t,r){const o=He(e);return o.$r(),new vU(t,o.sr,o.credentials,o.N,r)}(n.datastore,n.asyncQueue,{Si:NU.bind(null,n),Ci:OU.bind(null,n),Cr:MU.bind(null,n),Dr:RU.bind(null,n)}),n.Gr.push(function(){var e=(0,ve.Z)(function*(t){t?(n.Xr.dr(),yield E0(n)):(yield n.Xr.stop(),n.jr.length>0&&(Ve("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class LR{constructor(e,t,r,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,c){const h=Date.now()+r,_=new LR(e,t,h,o,c);return _.start(r),_}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function D0(n,e){if(Hr("AsyncQueue",`${e}: ${n}`),ug(n))return new Fe(me.UNAVAILABLE,`${e}: ${n}`);throw n}class I0{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=zM(),this.sortedSet=new si(this.comparator)}static emptySet(e){return new I0(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof I0)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new I0;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class DL{constructor(){this.Zr=new si(it.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):lt():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class S0{constructor(e,t,r,o,c,h,_,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=_,this.excludesMetadataChanges=v}static fromInitialDocuments(e,t,r,o){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new S0(e,t,I0.emptySet(t),c,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&n1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class PU{constructor(){this.no=void 0,this.listeners=[]}}class xU{constructor(){this.queries=new b0(e=>tF(e),n1),this.onlineState="Unknown",this.so=new Set}}function VR(n,e){return BR.apply(this,arguments)}function BR(){return BR=(0,ve.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1,c=t.queries.get(r);if(c||(o=!0,c=new PU),o)try{c.no=yield t.onListen(r)}catch(h){const _=D0(h,`Initialization of query '${$M(e.query)}' failed`);return void e.onError(_)}t.queries.set(r,c),c.listeners.push(e),e.io(t.onlineState),c.no&&e.ro(c.no)&&HR(t)}),BR.apply(this,arguments)}function UR(n,e){return GR.apply(this,arguments)}function GR(){return GR=(0,ve.Z)(function*(n,e){const t=He(n),r=e.query;let o=!1;const c=t.queries.get(r);if(c){const h=c.listeners.indexOf(e);h>=0&&(c.listeners.splice(h,1),o=0===c.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),GR.apply(this,arguments)}function kU(n,e){const t=He(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const _ of h.listeners)_.ro(o)&&(r=!0);h.no=o}}r&&HR(t)}function FU(n,e,t){const r=He(n),o=r.queries.get(e);if(o)for(const c of o.listeners)c.onError(t);r.queries.delete(e)}function HR(n){n.so.forEach(e=>{e.next()})}class jR{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new S0(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=S0.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class LU{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class IL{constructor(e){this.N=e}zn(e){return Pc(this.N,e)}Hn(e){return e.metadata.exists?MF(this.N,e.document,!1):sr.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Ai(e)}}class VU{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=SL(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new IL(this.N);for(const o of e)if(o.metadata.queries){const c=r.zn(o.metadata.name);for(const h of o.metadata.queries){const _=(t.get(h)||Cn()).add(c);t.set(h,_)}}return t}complete(){var e=this;return(0,ve.Z)(function*(){const t=yield function(n,e,t,r){return hR.apply(this,arguments)}(e.localStore,new IL(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const o of e.queries)yield aU(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",new eU(Object.assign({},e.progress),t)})()}}function SL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class AL{constructor(e){this.key=e}}class NL{constructor(e){this.key=e}}class ML{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=Cn(),this.mutatedKeys=Cn(),this.Io=nF(e),this.Ao=new I0(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new DL,o=t?t.Ao:this.Ao;let c=t?t.mutatedKeys:this.mutatedKeys,h=o,_=!1;const v=cD(this.query)&&o.size===this.query.limit?o.last():null,D=uD(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((N,R)=>{const B=o.get(N),H=r1(this.query,R)?R:null,ie=!!B&&this.mutatedKeys.has(B.key),Ce=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Re=!1;B&&H?B.data.isEqual(H.data)?ie!==Ce&&(r.track({type:3,doc:H}),Re=!0):this.vo(B,H)||(r.track({type:2,doc:H}),Re=!0,(v&&this.Io(H,v)>0||D&&this.Io(H,D)<0)&&(_=!0)):!B&&H?(r.track({type:0,doc:H}),Re=!0):B&&!H&&(r.track({type:1,doc:B}),Re=!0,(v||D)&&(_=!0)),Re&&(H?(h=h.add(H),c=Ce?c.add(N):c.delete(N)):(h=h.delete(N),c=c.delete(N)))}),cD(this.query)||uD(this.query))for(;h.size>this.query.limit;){const N=cD(this.query)?h.last():h.first();h=h.delete(N.key),c=c.delete(N.key),r.track({type:1,doc:N})}return{Ao:h,Po:r,Ln:_,mutatedKeys:c}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const c=e.Po.eo();c.sort((D,N)=>function(R,B){const H=ie=>{switch(ie){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return H(R)-H(B)}(D.type,N.type)||this.Io(D.doc,N.doc)),this.Vo(r);const h=t?this.So():[],_=0===this.Eo.size&&this.current?1:0,v=_!==this.To;return this.To=_,0!==c.length||v?{snapshot:new S0(this.query,e.Ao,o,c,e.mutatedKeys,0===_,v,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new DL,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=Cn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new NL(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new AL(r))}),t}No(e){this.po=e.Gn,this.Eo=Cn();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return S0.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class BU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class UU{constructor(e){this.key=e,this.ko=!1}}class GU{constructor(e,t,r,o,c,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new b0(_=>tF(_),n1),this.Fo=new Map,this.Mo=new Set,this.Lo=new si(it.comparator),this.Bo=new Map,this.Uo=new pR,this.qo={},this.Ko=new Map,this.jo=hg.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function HU(n,e){return $R.apply(this,arguments)}function $R(){return $R=(0,ve.Z)(function*(n,e){const t=fO(n);let r,o;const c=t.Oo.get(e);if(c)r=c.targetId,t.sharedClientState.addLocalQueryTarget(r),o=c.view.xo();else{const h=yield v0(t.localStore,Wa(e)),_=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield WR(t,e,r,"current"===_),t.isPrimaryClient&&SD(t.remoteStore,h)}return o}),$R.apply(this,arguments)}function WR(n,e,t,r){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,ve.Z)(function*(n,e,t,r){n.Wo=(N,R,B)=>{return(H=(0,ve.Z)(function*(ie,Ce,Re,et){let ht=Ce.view.bo(Re);ht.Ln&&(ht=yield ED(ie.localStore,Ce.query,!1).then(({documents:jt})=>Ce.view.bo(jt,ht)));const St=et&&et.targetChanges.get(Ce.targetId),st=Ce.view.applyChanges(ht,ie.isPrimaryClient,St);return nO(ie,Ce.targetId,st.Do),st.snapshot}),function(ie,Ce,Re,et){return H.apply(this,arguments)})(n,N,R,B);var H};const o=yield ED(n.localStore,e,!0),c=new ML(e,o.Gn),h=c.bo(o.documents),_=l1.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),v=c.applyChanges(h,n.isPrimaryClient,_);nO(n,t,v.Do);const D=new BU(e,t,c);return n.Oo.set(e,D),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),v.snapshot}),ZR.apply(this,arguments)}function jU(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,ve.Z)(function*(n,e){const t=He(n),r=t.Oo.get(e),o=t.Fo.get(r.targetId);if(o.length>1)return t.Fo.set(r.targetId,o.filter(c=>!n1(c,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield T0(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),y1(t.remoteStore,r.targetId),A0(t,r.targetId)}).catch(fg))):(A0(t,r.targetId),yield T0(t.localStore,r.targetId,!0))}),zR.apply(this,arguments)}function qR(){return qR=(0,ve.Z)(function*(n,e,t){const r=pO(n);try{const o=yield function(c,h){const _=He(c),v=Ii.now(),D=h.reduce((R,B)=>R.add(B.key),Cn());let N;return _.persistence.runTransaction("Locally write mutations","readwrite",R=>_.Qn.Pn(R,D).next(B=>{N=B;const H=[];for(const ie of h){const Ce=gB(ie,N.get(ie.key));null!=Ce&&H.push(new Fh(ie.key,Ce,qk(Ce.value.mapValue),$r.exists(!0)))}return _.In.addMutationBatch(R,v,H,h)})).then(R=>(R.applyToLocalDocumentSet(N),{batchId:R.batchId,changes:N}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(c,h,_){let v=c.qo[c.currentUser.toKey()];v||(v=new si(Ht)),v=v.insert(h,_),c.qo[c.currentUser.toKey()]=v}(r,o.batchId,t),yield rd(r,o.changes),yield E0(r.remoteStore)}catch(o){const c=D0(o,"Failed to persist write");t.reject(c)}}),qR.apply(this,arguments)}function RL(n,e){return KR.apply(this,arguments)}function KR(){return KR=(0,ve.Z)(function*(n,e){const t=He(n);try{const r=yield rU(t.localStore,e);e.targetChanges.forEach((o,c)=>{const h=t.Bo.get(c);h&&(Ct(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.ko=!0:o.modifiedDocuments.size>0?Ct(h.ko):o.removedDocuments.size>0&&(Ct(h.ko),h.ko=!1))}),yield rd(t,r,e)}catch(r){yield fg(r)}}),KR.apply(this,arguments)}function OL(n,e,t){const r=He(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Oo.forEach((c,h)=>{const _=h.view.io(e);_.snapshot&&o.push(_.snapshot)}),function(c,h){const _=He(c);_.onlineState=h;let v=!1;_.queries.forEach((D,N)=>{for(const R of N.listeners)R.io(h)&&(v=!0)}),v&&HR(_)}(r.eventManager,e),o.length&&r.$o.Rr(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function WU(n,e,t){return YR.apply(this,arguments)}function YR(){return YR=(0,ve.Z)(function*(n,e,t){const r=He(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.Bo.get(e),c=o&&o.key;if(c){let h=new si(it.comparator);h=h.insert(c,sr.newNoDocument(c,Pt.min()));const _=Cn().add(c),v=new a1(Pt.min(),new Map,new pr(Ht),h,_);yield RL(r,v),r.Lo=r.Lo.remove(c),r.Bo.delete(e),rO(r)}else yield T0(r.localStore,e,!1).then(()=>A0(r,e,t)).catch(fg)}),YR.apply(this,arguments)}function ZU(n,e){return QR.apply(this,arguments)}function QR(){return QR=(0,ve.Z)(function*(n,e){const t=He(n),r=e.batch.batchId;try{const o=yield nU(t.localStore,e);tO(t,r,null),eO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rd(t,o)}catch(o){yield fg(o)}}),QR.apply(this,arguments)}function zU(n,e,t){return JR.apply(this,arguments)}function JR(){return JR=(0,ve.Z)(function*(n,e,t){const r=He(n);try{const o=yield function(c,h){const _=He(c);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let D;return _.In.lookupMutationBatch(v,h).next(N=>(Ct(null!==N),D=N.keys(),_.In.removeMutationBatch(v,N))).next(()=>_.In.performConsistencyCheck(v)).next(()=>_.Qn.Pn(v,D))})}(r.localStore,e);tO(r,e,t),eO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rd(r,o)}catch(o){yield fg(o)}}),JR.apply(this,arguments)}function XR(){return XR=(0,ve.Z)(function*(n,e){const t=He(n);Hh(t.remoteStore)||Ve("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(c){const h=He(c);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",_=>h.In.getHighestUnacknowledgedBatchId(_))}(t.localStore);if(-1===r)return void e.resolve();const o=t.Ko.get(r)||[];o.push(e),t.Ko.set(r,o)}catch(r){const o=D0(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),XR.apply(this,arguments)}function eO(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function tO(n,e,t){const r=He(n);let o=r.qo[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),r.qo[r.currentUser.toKey()]=o}}function A0(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||PL(n,r)})}function PL(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(y1(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),rO(n))}function nO(n,e,t){for(const r of t)r instanceof AL?(n.Uo.addReference(r.key,e),KU(n,r)):r instanceof NL?(Ve("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||PL(n,r.key)):lt()}function KU(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Ve("SyncEngine","New document in limbo: "+t),n.Mo.add(r),rO(n))}function rO(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new it(gn.fromString(e)),r=n.jo.next();n.Bo.set(r,new UU(t)),n.Lo=n.Lo.insert(t,r),SD(n.remoteStore,new Vh(Wa(o0(t.path)),r,2,Jo.T))}}function rd(n,e,t){return iO.apply(this,arguments)}function iO(){return iO=(0,ve.Z)(function*(n,e,t){const r=He(n),o=[],c=[],h=[];var _;r.Oo.isEmpty()||(r.Oo.forEach((_,v)=>{h.push(r.Wo(v,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(v.targetId,D.fromCache?"not-current":"current"),o.push(D);const N=lR.kn(v.targetId,D);c.push(N)}}))}),yield Promise.all(h),r.$o.Rr(o),yield(_=(0,ve.Z)(function*(v,D){const N=He(v);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Oe.forEach(D,B=>Oe.forEach(B.Nn,H=>N.persistence.referenceDelegate.addReference(R,B.targetId,H)).next(()=>Oe.forEach(B.xn,H=>N.persistence.referenceDelegate.removeReference(R,B.targetId,H)))))}catch(R){if(!ug(R))throw R;Ve("LocalStore","Failed to update sequence numbers: "+R)}for(const R of D){const B=R.targetId;if(!R.fromCache){const H=N.Un.get(B),Ce=H.withLastLimboFreeSnapshotVersion(H.snapshotVersion);N.Un=N.Un.insert(B,Ce)}}}),function(v,D){return _.apply(this,arguments)})(r.localStore,c))}),iO.apply(this,arguments)}function YU(n,e){return sO.apply(this,arguments)}function sO(){return sO=(0,ve.Z)(function*(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){Ve("SyncEngine","User change. New user:",e.toKey());const r=yield cL(t.localStore,e);t.currentUser=e,(o=t).Ko.forEach(h=>{h.forEach(_=>{_.reject(new Fe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rd(t,r.Wn)}var o}),sO.apply(this,arguments)}function QU(n,e){const t=He(n),r=t.Bo.get(e);if(r&&r.ko)return Cn().add(r.key);{let o=Cn();const c=t.Fo.get(e);if(!c)return o;for(const h of c){const _=t.Oo.get(h);o=o.unionWith(_.view.Ro)}return o}}function JU(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,ve.Z)(function*(n,e){const t=He(n),r=yield ED(t.localStore,e.query,!0),o=e.view.No(r);return t.isPrimaryClient&&nO(t,e.targetId,o.Do),o}),oO.apply(this,arguments)}function XU(n){return aO.apply(this,arguments)}function aO(){return aO=(0,ve.Z)(function*(n){const e=He(n);return fL(e.localStore).then(t=>rd(e,t))}),aO.apply(this,arguments)}function e3(n,e,t,r){return lO.apply(this,arguments)}function lO(){return lO=(0,ve.Z)(function*(n,e,t,r){const o=He(n),c=yield function(h,_){const v=He(h),D=He(v.In);return v.persistence.runTransaction("Lookup mutation documents","readonly",N=>D.Xt(N,_).next(R=>R?v.Qn.Pn(N,R):Oe.resolve(null)))}(o.localStore,e);var _;null!==c?("pending"===t?yield E0(o.remoteStore):"acknowledged"===t||"rejected"===t?(tO(o,e,r||null),eO(o,e),_=e,He(He(o.localStore).In).te(_)):lt(),yield rd(o,c)):Ve("SyncEngine","Cannot apply mutation batch with id: "+e)}),lO.apply(this,arguments)}function cO(){return cO=(0,ve.Z)(function*(n,e){const t=He(n);if(fO(t),pO(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield xL(t,r.toArray());t.Qo=!0,yield kR(t.remoteStore,!0);for(const c of o)SD(t.remoteStore,c)}else if(!1===e&&!1!==t.Qo){const r=[];let o=Promise.resolve();t.Fo.forEach((c,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(A0(t,h),T0(t.localStore,h,!0))),y1(t.remoteStore,h)}),yield o,yield xL(t,r),function(c){const h=He(c);h.Bo.forEach((_,v)=>{y1(h.remoteStore,v)}),h.Uo.us(),h.Bo=new Map,h.Lo=new si(it.comparator)}(t),t.Qo=!1,yield kR(t.remoteStore,!1)}}),cO.apply(this,arguments)}function xL(n,e,t){return uO.apply(this,arguments)}function uO(){return uO=(0,ve.Z)(function*(n,e,t){const r=He(n),o=[],c=[];for(const h of e){let _;const v=r.Fo.get(h);if(v&&0!==v.length){_=yield v0(r.localStore,Wa(v[0]));for(const D of v){const N=r.Oo.get(D),R=yield JU(r,N);R.snapshot&&c.push(R.snapshot)}}else{const D=yield hL(r.localStore,h);_=yield v0(r.localStore,D),yield WR(r,kL(D),h,!1)}o.push(_)}return r.$o.Rr(c),o}),uO.apply(this,arguments)}function kL(n){return Xk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function n3(n){const e=He(n);return He(He(e.localStore).persistence).pn()}function r3(n,e,t,r){return dO.apply(this,arguments)}function dO(){return dO=(0,ve.Z)(function*(n,e,t,r){const o=He(n);if(o.Qo)Ve("SyncEngine","Ignoring unexpected query state notification.");else if(o.Fo.has(e))switch(t){case"current":case"not-current":{const c=yield fL(o.localStore),h=a1.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield rd(o,c,h);break}case"rejected":yield T0(o.localStore,e,!0),A0(o,e,r);break;default:lt()}}),dO.apply(this,arguments)}function s3(n,e,t){return hO.apply(this,arguments)}function hO(){return hO=(0,ve.Z)(function*(n,e,t){const r=fO(n);if(r.Qo){for(const o of e){if(r.Fo.has(o)){Ve("SyncEngine","Adding an already active target "+o);continue}const c=yield hL(r.localStore,o),h=yield v0(r.localStore,c);yield WR(r,kL(c),h.targetId,!1),SD(r.remoteStore,h)}for(const o of t)r.Fo.has(o)&&(yield T0(r.localStore,o,!1).then(()=>{y1(r.remoteStore,o),A0(r,o)}).catch(fg))}}),hO.apply(this,arguments)}function fO(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=RL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WU.bind(null,e),e.$o.Rr=kU.bind(null,e.eventManager),e.$o.Go=FU.bind(null,e.eventManager),e}function pO(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zU.bind(null,e),e}class FL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ve.Z)(function*(){t.N=m1(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return lL(this.persistence,new aL,e.initialUser,this.N)}Jo(e){return new fU(gR.Ns,this.N)}Ho(e){return new mL}terminate(){var e=this;return(0,ve.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class LL extends FL{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e),yield function(n){return dR.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield pO(r.Zo.syncEngine),yield E0(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return lL(this.persistence,new aL,e.initialUser,this.N)}Yo(e){return new qB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=aR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new oR(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,yL(),ID(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new mL}}class a3 extends LL{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,ve.Z)(function*(){yield t().call(r,e);const o=r.Zo.syncEngine;r.sharedClientState instanceof bR&&(r.sharedClientState.syncEngine={_i:e3.bind(null,o),mi:r3.bind(null,o),gi:s3.bind(null,o),pn:n3.bind(null,o),wi:XU.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var c=(0,ve.Z)(function*(h){yield function(n,e){return cO.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return c.apply(this,arguments)}}())})()}Ho(e){const t=yL();if(!bR.bt(t))throw new Fe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=aR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bR(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class gO{initialize(e,t){var r=this;return(0,ve.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>OL(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=YU.bind(null,r.syncEngine),yield kR(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new xU}createDatastore(e){const t=m1(e.databaseInfo.databaseId),r=new yU(e.databaseInfo);return new TU(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,c=_=>OL(this.syncEngine,_,0),h=_L.bt()?new _L:new gU,new EU(t,r,o,c,h);var t,r,o,c,h}createSyncEngine(e,t){return function(r,o,c,h,_,v,D){const N=new GU(r,o,c,h,_,v);return D&&(N.Qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ve.Z)(function*(t){const r=He(t);Ve("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield w0(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VL(n,e=10240){let t=0;return{read:()=>(0,ve.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,ve.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ND{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class l3{constructor(e,t){this.nc=e,this.N=t,this.metadata=new Di,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,ve.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,ve.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,ve.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),o=Number(r);isNaN(o)&&e.oc(`length string (${r}) is not valid number`);const c=yield e.cc(o);return new LU(JSON.parse(c),t.length+o)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,ve.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,ve.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,ve.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class c3{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ve.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,ve.Z)(function*(c,h){const _=He(c),v=d1(_.N)+"/documents",D={documents:h.map(H=>u1(_.N,H))},N=yield _.Ki("BatchGetDocuments",v,D),R=new Map;N.forEach(H=>{const ie=function(n,e){return"found"in e?function(t,r){Ct(!!r.found);const o=Pc(t,r.found.name),c=Ai(r.found.updateTime),h=new ss({mapValue:{fields:r.found.fields}});return sr.newFoundDocument(o,c,h)}(n,e):"missing"in e?function(t,r){Ct(!!r.missing),Ct(!!r.readTime);const o=Pc(t,r.missing),c=Ai(r.readTime);return sr.newNoDocument(o,c)}(n,e):lt()}(_.N,H);R.set(ie.key.toString(),ie)});const B=[];return h.forEach(H=>{const ie=R.get(H.toString());Ct(!!ie),B.push(ie)}),B}),function(c,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new o1(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ve.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const c=it.fromPath(o);e.mutations.push(new ZM(c,e.precondition(c)))}),yield(r=(0,ve.Z)(function*(o,c){const h=He(o),_=d1(h.N)+"/documents",v={writes:c.map(D=>_D(h.N,D))};yield h.Li("Commit",_,v)}),function(o,c){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw lt();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?$r.updateTime(t):$r.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Fe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return $r.updateTime(t)}return $r.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class u3{constructor(e,t,r,o){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=o,this.hc=5,this.ar=new vR(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,ve.Z)(function*(){const t=new c3(e.datastore),r=e.fc(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(c=>{e.dc(c)}))}).catch(o=>{e.dc(o)})}))}fc(e){try{const t=this.updateFunction(e);return!sg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!mF(t)}return!1}}class d3{constructor(e,t,r){var o=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Gi.UNAUTHENTICATED,this.clientId=Bk.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var c=(0,ve.Z)(function*(h){Ve("FirestoreClient","Received user=",h.uid),yield o.credentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,ve.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const o=D0(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function BL(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ve("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,ve.Z)(function*(c){r.isEqual(c)||(yield cL(e.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mO.apply(this,arguments)}function UL(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,ve.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield yO(n);Ve("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>{return(c=(0,ve.Z)(function*(h,_){const v=He(h);v.asyncQueue.verifyOperationInProgress(),Ve("RemoteStore","RemoteStore received new credentials");const D=Hh(v);v.Wr.add(3),yield w0(v),D&&v.Hr.set("Unknown"),yield v.remoteSyncer.handleCredentialChange(_),v.Wr.delete(3),yield _1(v)}),function(h,_){return c.apply(this,arguments)})(e.remoteStore,o);var c}),n.onlineComponents=e}),_O.apply(this,arguments)}function yO(n){return bO.apply(this,arguments)}function bO(){return bO=(0,ve.Z)(function*(n){return n.offlineComponents||(Ve("FirestoreClient","Using default OfflineComponentProvider"),yield BL(n,new FL)),n.offlineComponents}),bO.apply(this,arguments)}function MD(n){return vO.apply(this,arguments)}function vO(){return vO=(0,ve.Z)(function*(n){return n.onlineComponents||(Ve("FirestoreClient","Using default OnlineComponentProvider"),yield UL(n,new gO)),n.onlineComponents}),vO.apply(this,arguments)}function GL(n){return yO(n).then(e=>e.persistence)}function TO(n){return yO(n).then(e=>e.localStore)}function HL(n){return MD(n).then(e=>e.remoteStore)}function wO(n){return MD(n).then(e=>e.syncEngine)}function N0(n){return EO.apply(this,arguments)}function EO(){return EO=(0,ve.Z)(function*(n){const e=yield MD(n),t=e.eventManager;return t.onListen=HU.bind(null,e.syncEngine),t.onUnlisten=jU.bind(null,e.syncEngine),t}),EO.apply(this,arguments)}function jL(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,c,h,_,v){const D=new ND({next:R=>{c.enqueueAndForget(()=>UR(o,N));const B=R.docs.has(h);!B&&R.fromCache?v.reject(new Fe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):B&&R.fromCache&&_&&"server"===_.source?v.reject(new Fe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(R)},error:R=>v.reject(R)}),N=new jR(o0(h.path),D,{includeMetadataChanges:!0,fo:!0});return VR(o,N)}(yield N0(n),n.asyncQueue,e,t,r)})),r.promise}function $L(n,e,t={}){const r=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(o,c,h,_,v){const D=new ND({next:R=>{c.enqueueAndForget(()=>UR(o,N)),R.fromCache&&"server"===_.source?v.reject(new Fe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(R)},error:R=>v.reject(R)}),N=new jR(h,D,{includeMetadataChanges:!0,fo:!0});return VR(o,N)}(yield N0(n),n.asyncQueue,e,t,r)})),r.promise}class v3{constructor(e,t,r,o,c,h,_,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=_,this.useFetchStreams=v}}class M0{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof M0&&e.projectId===this.projectId&&e.database===this.database}}const WL=new Map;function CO(n,e,t){if(!t)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZL(n,e,t,r){if(!0===e&&!0===r)throw new Fe(me.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zL(n){if(!it.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function qL(n){if(it.isDocumentKey(n))throw new Fe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":lt()}function tn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=RD(n);throw new Fe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function KL(n,e){if(e<=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class YL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ZL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class b1{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YL({}),this._settingsFrozen=!1,e instanceof M0?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Fe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new M0(r.options.projectId)}(e))}get app(){if(!this._app)throw new Fe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YL(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new jV;switch(t.type){case"gapi":const r=t.client;return Ct(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new zV(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Fe(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WL.get(e);t&&(Ve("ComponentProvider","Removing Datastore"),WL.delete(e),t.terminate())}(this),Promise.resolve()}}class tr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class as{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new as(this.firestore,e,this._query)}}class kc extends as{constructor(e,t,r){super(e,t,o0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new it(e))}withConverter(e){return new kc(this.firestore,e,this._path)}}function QL(n,e,...t){if(n=(0,Tt.m9)(n),CO("collection","path",e),n instanceof b1){const r=gn.fromString(e,...t);return qL(r),new kc(n,null,r)}{if(!(n instanceof tr||n instanceof kc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return qL(r),new kc(n.firestore,null,r)}}function OD(n,e,...t){if(n=(0,Tt.m9)(n),1===arguments.length&&(e=Bk.I()),CO("doc","path",e),n instanceof b1){const r=gn.fromString(e,...t);return zL(r),new tr(n,null,new it(r))}{if(!(n instanceof tr||n instanceof kc))throw new Fe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(e,...t));return zL(r),new tr(n.firestore,n instanceof kc?n.converter:null,new it(r))}}function JL(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),(n instanceof tr||n instanceof kc)&&(e instanceof tr||e instanceof kc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XL(n,e){return n=(0,Tt.m9)(n),e=(0,Tt.m9)(e),n instanceof as&&e instanceof as&&n.firestore===e.firestore&&n1(n._query,e._query)&&n.converter===e.converter}class E3{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new vR(this,"async_queue_retry"),this.Rc=()=>{const t=ID();t&&Ve("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=ID();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=ID();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new Di;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,ve.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!ug(t))throw t;Ve("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,Hr("INTERNAL UNHANDLED ERROR: ",function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+"\n"+c.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const o=LR.createAndSchedule(this,e,t,r,c=>this.Vc(c));return this.yc.push(o),o}bc(){this.Tc&&lt()}verifyOperationInProgress(){}Sc(){var e=this;return(0,ve.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function DO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class C3{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class dr extends b1{constructor(e,t){super(e,t),this.type="firestore",this._queue=new E3,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||e2(this),this._firestoreClient.terminate()}}function oi(n){return n._firestoreClient||e2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function e2(n){var e;const t=n._freezeSettings(),r=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new v3(n._databaseId,c,n._persistenceKey,(_=t).host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_.useFetchStreams));var c,_;n._firestoreClient=new d3(n._credentials,n._queue,r)}function t2(n,e,t){const r=new Di;return n.asyncQueue.enqueue((0,ve.Z)(function*(){try{yield BL(n,t),yield UL(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(c=o).name?c.code===me.FAILED_PRECONDITION||c.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var c})).then(()=>r.promise)}function n2(n){if(n._initialized||n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class id{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Fc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fc(Si.fromBase64String(e))}catch(t){throw new Fe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fc(Si.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pg{constructor(e){this._methodName=e}}class PD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}}const x3=/^__.*__$/;class k3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Fh(e,this.data,this.fieldMask,t,this.fieldTransforms):new s1(e,this.data,t,this.fieldTransforms)}}class r2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Fh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function s2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class xD{constructor(e,t,r,o,c,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=o,void 0===c&&this.xc(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new xD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.Mc(e),o}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.$c({path:r,Fc:!1});return o.xc(),o}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return FD(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(s2(this.kc)&&x3.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class F3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||m1(e)}jc(e,t,r,o=!1){return new xD({kc:e,methodName:t,Kc:r,path:Hi.emptyPath(),Fc:!1,qc:o},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function gg(n){const e=n._freezeSettings(),t=m1(n._databaseId);return new F3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function kD(n,e,t,r,o,c={}){const h=n.jc(c.merge||c.mergeFields?2:0,e,t,o);NO("Data must be an object, but it was:",h,r);const _=l2(r,h);let v,D;if(c.merge)v=new t0(h.fieldMask),D=h.fieldTransforms;else if(c.mergeFields){const N=[];for(const R of c.mergeFields){const B=MO(e,R,t);if(!h.contains(B))throw new Fe(me.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);u2(N,B)||N.push(B)}v=new t0(N),D=h.fieldTransforms.filter(R=>v.covers(R.field))}else v=null,D=h.fieldTransforms;return new k3(new ss(_),v,D)}class v1 extends pg{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof v1}}function o2(n,e,t){return new xD({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class IO extends pg{_toFieldTransform(e){return new i1(e.path,new l0)}isEqual(e){return e instanceof IO}}class L3 extends pg{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=o2(this,e,!0),r=this.Qc.map(c=>mg(c,t)),o=new ag(r);return new i1(e.path,o)}isEqual(e){return this===e}}class V3 extends pg{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=o2(this,e,!0),r=this.Qc.map(c=>mg(c,t)),o=new lg(r);return new i1(e.path,o)}isEqual(e){return this===e}}class B3 extends pg{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new c0(e.N,sF(e.N,this.Wc));return new i1(e.path,t)}isEqual(e){return this===e}}function SO(n,e,t,r){const o=n.jc(1,e,t);NO("Data must be an object, but it was:",o,r);const c=[],h=ss.empty();ig(r,(v,D)=>{const N=RO(e,v,t);D=(0,Tt.m9)(D);const R=o.Lc(N);if(D instanceof v1)c.push(N);else{const B=mg(D,R);null!=B&&(c.push(N),h.set(N,B))}});const _=new t0(c);return new r2(h,_,o.fieldTransforms)}function AO(n,e,t,r,o,c){const h=n.jc(1,e,t),_=[MO(e,r,t)],v=[o];if(c.length%2!=0)throw new Fe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<c.length;B+=2)_.push(MO(e,c[B])),v.push(c[B+1]);const D=[],N=ss.empty();for(let B=_.length-1;B>=0;--B)if(!u2(D,_[B])){const H=_[B];let ie=v[B];ie=(0,Tt.m9)(ie);const Ce=h.Lc(H);if(ie instanceof v1)D.push(H);else{const Re=mg(ie,Ce);null!=Re&&(D.push(H),N.set(H,Re))}}const R=new t0(D);return new r2(N,R,h.fieldTransforms)}function a2(n,e,t,r=!1){return mg(t,n.jc(r?4:3,e))}function mg(n,e){if(c2(n=(0,Tt.m9)(n)))return NO("Unsupported field value:",e,n),l2(n,e);if(n instanceof pg)return function(t,r){if(!s2(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const o=[];let c=0;for(const h of t){let _=mg(h,r.Bc(c));null==_&&(_={nullValue:"NULL_VALUE"}),o.push(_),c++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return sF(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Ii.fromDate(t);return{timestampValue:c1(r.N,o)}}if(t instanceof Ii){const o=new Ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:c1(r.N,o)}}if(t instanceof PD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Fc)return{bytesValue:DF(r.N,t._byteString)};if(t instanceof tr){const o=r.databaseId,c=t.firestore._databaseId;if(!c.isEqual(o))throw r.Uc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:qM(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${RD(t)}`)}(n,e)}function l2(n,e){const t={};return Hk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ig(n,(r,o)=>{const c=mg(o,e.Oc(r));null!=c&&(t[r]=c)}),{mapValue:{fields:t}}}function c2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ii||n instanceof PD||n instanceof Fc||n instanceof tr||n instanceof pg)}function NO(n,e,t){if(!c2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=RD(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function MO(n,e,t){if((e=(0,Tt.m9)(e))instanceof id)return e._internalPath;if("string"==typeof e)return RO(n,e);throw FD("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const U3=new RegExp("[~\\*/\\[\\]]");function RO(n,e,t){if(e.search(U3)>=0)throw FD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new id(...e.split("."))._internalPath}catch(r){throw FD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function FD(n,e,t,r,o){const c=r&&!r.isEmpty(),h=void 0!==o;let _=`Function ${e}() called with invalid data`;t&&(_+=" (via `toFirestore()`)"),_+=". ";let v="";return(c||h)&&(v+=" (found",c&&(v+=` in field ${r}`),h&&(v+=` in document ${o}`),v+=")"),new Fe(me.INVALID_ARGUMENT,_+n+v)}function u2(n,e){return n.some(t=>t.isEqual(e))}class T1{constructor(e,t,r,o,c){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new G3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(LD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class G3 extends T1{data(){return super.data()}}function LD(n,e){return"string"==typeof e?RO(n,e):e instanceof id?e._internalPath:e._delegate._internalPath}class _g{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sd extends T1{constructor(e,t,r,o,c,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new w1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(LD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class w1 extends sd{data(e={}){return super.data(e)}}class $h{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new _g(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new w1(this._firestore,this._userDataWriter,r.key,r,new _g(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new w1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _g(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:c++}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const _=new w1(r._firestore,r._userDataWriter,h.doc.key,h.doc,new _g(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let v=-1,D=-1;return 0!==h.type&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),1!==h.type&&(c=c.add(h.doc),D=c.indexOf(h.doc.key)),{type:H3(h.type),doc:_,oldIndex:v,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function H3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function d2(n,e){return n instanceof sd&&e instanceof sd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof $h&&e instanceof $h&&n._firestore===e._firestore&&XL(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function h2(n){if(uD(n)&&0===n.explicitOrderBy.length)throw new Fe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E1{}function Wh(n,...e){for(const t of e)n=t._apply(n);return n}class j3 extends E1{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=gg(e.firestore),r=function(o,c,h,_,v,D,N){let R;if(v.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on FieldPath.documentId().`);if("in"===D||"not-in"===D){y2(N,D);const H=[];for(const ie of N)H.push(_2(_,o,ie));R={arrayValue:{values:H}}}else R=_2(_,o,N)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||y2(N,D),R=a2(h,"where",N,"in"===D||"not-in"===D);const B=Is.create(v,D,R);return function(H,ie){if(ie.v()){const Re=HM(H);if(null!==Re&&!Re.isEqual(ie.field))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${ie.field.toString()}'`);const et=GM(H);null!==et&&b2(0,ie.field,et)}const Ce=function(Re,et){for(const ht of Re.filters)if(et.indexOf(ht.op)>=0)return ht.op;return null}(H,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ie.op));if(null!==Ce)throw new Fe(me.INVALID_ARGUMENT,Ce===ie.op?`Invalid query. You cannot use more than one '${ie.op.toString()}' filter.`:`Invalid query. You cannot use '${ie.op.toString()}' filters with '${Ce.toString()}' filters.`)}(o,B),B}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new as(e.firestore,e.converter,function(o,c){const h=o.filters.concat([c]);return new ed(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class W3 extends E1{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,o,c){if(null!==r.startAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new s0(o,c);return function(_,v){if(null===GM(_)){const D=HM(_);null!==D&&b2(0,D,v.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new as(e.firestore,e.converter,function(r,o){const c=r.explicitOrderBy.concat([o]);return new ed(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class f2 extends E1{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new as(e.firestore,e.converter,eF(e._query,this.Yc,this.Xc))}}class p2 extends E1{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=m2(e,this.type,this.Zc,this.ta);return new as(e.firestore,e.converter,(o=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class g2 extends E1{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=m2(e,this.type,this.Zc,this.ta);return new as(e.firestore,e.converter,(o=t,new ed((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function m2(n,e,t,r){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof T1)return function(o,c,h,_,v){if(!_)throw new Fe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const D=[];for(const N of a0(o))if(N.field.isKeyField())D.push(iD(c,_.key));else{const R=_.data.field(N.field);if(FM(R))throw new Fe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const B=N.field.canonicalString();throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${B}' (used as the orderBy) does not exist.`)}D.push(R)}return new t1(D,v)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=gg(n.firestore);return function(c,h,_,v,D,N){const R=c.explicitOrderBy;if(D.length>R.length)throw new Fe(me.INVALID_ARGUMENT,`Too many arguments provided to ${v}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const B=[];for(let H=0;H<D.length;H++){const ie=D[H];if(R[H].field.isKeyField()){if("string"!=typeof ie)throw new Fe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${v}(), but got a ${typeof ie}`);if(!jM(c)&&-1!==ie.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${v}() must be a plain document ID, but '${ie}' contains a slash.`);const Ce=c.path.child(gn.fromString(ie));if(!it.isDocumentKey(Ce))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${v}() must result in a valid document path, but '${Ce}' is not because it contains an odd number of segments.`);const Re=new it(Ce);B.push(iD(h,Re))}else{const Ce=a2(_,v,ie);B.push(Ce)}}return new t1(B,N)}(n._query,n.firestore._databaseId,o,e,t,r)}}function _2(n,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new Fe(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!jM(e)&&-1!==t.indexOf("/"))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gn.fromString(t));if(!it.isDocumentKey(r))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iD(n,new it(r))}if(t instanceof tr)return iD(n,t._key);throw new Fe(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${RD(t)}.`)}function y2(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Fe(me.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function b2(n,e,t){if(!t.isEqual(e))throw new Fe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class OO{convertValue(e,t="none"){switch(og(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(n0(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw lt()}}convertObject(e,t){const r={};return ig(e.fields,(o,c)=>{r[o]=this.convertValue(c,t)}),r}convertGeoPoint(e){return new PD(jr(e.latitude),jr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=jk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Qv(e));default:return null}}convertTimestamp(e){const t=kh(e);return new Ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gn.fromString(e);Ct(VF(r));const o=new M0(r.get(1),r.get(3)),c=new it(r.popFirst(5));return o.isEqual(t)||Hr(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}function VD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class X3 extends OO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}class v2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=gg(e)}set(e,t,r){this._verifyNotCommitted();const o=Zh(e,this._firestore),c=VD(o.converter,t,r),h=kD(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,$r.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const c=Zh(e,this._firestore);let h;return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof id?AO(this._dataReader,"WriteBatch.update",c._key,t,r,o):SO(this._dataReader,"WriteBatch.update",c._key,t),this._mutations.push(h.toMutation(c._key,$r.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Zh(e,this._firestore);return this._mutations=this._mutations.concat(new o1(t._key,$r.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Zh(n,e){if((n=(0,Tt.m9)(n)).firestore!==e)throw new Fe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class yg extends OO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function T2(n,e,t){n=tn(n,tr);const r=tn(n.firestore,dr),o=VD(n.converter,e,t);return R0(r,[kD(gg(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,$r.none())])}function w2(n,e,t,...r){n=tn(n,tr);const o=tn(n.firestore,dr),c=gg(o);let h;return h="string"==typeof(e=(0,Tt.m9)(e))||e instanceof id?AO(c,"updateDoc",n._key,e,t,r):SO(c,"updateDoc",n._key,e),R0(o,[h.toMutation(n._key,$r.exists(!0))])}function E2(n,...e){var t,r,o;n=(0,Tt.m9)(n);let c={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||DO(e[h])||(c=e[h],h++);const _={includeMetadataChanges:c.includeMetadataChanges};if(DO(e[h])){const R=e[h];e[h]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[h+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[h+2]=null===(o=R.complete)||void 0===o?void 0:o.bind(R)}let v,D,N;if(n instanceof tr)D=tn(n.firestore,dr),N=o0(n._key.path),v={next:R=>{e[h]&&e[h](PO(D,n,R))},error:e[h+1],complete:e[h+2]};else{const R=tn(n,as);D=tn(R.firestore,dr),N=R._query;const B=new yg(D);v={next:H=>{e[h]&&e[h](new $h(D,B,R,H))},error:e[h+1],complete:e[h+2]},h2(n._query)}return function(R,B,H,ie){const Ce=new ND(ie),Re=new jR(B,Ce,H);return R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return VR(yield N0(R),Re)})),()=>{Ce.ec(),R.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return UR(yield N0(R),Re)}))}}(oi(D),N,_,v)}function R0(n,e){return function(t,r){const o=new Di;return t.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,e,t){return qR.apply(this,arguments)}(yield wO(t),r,o)})),o.promise}(oi(n),e)}function PO(n,e,t){const r=t.docs.get(e._key),o=new yg(n);return new sd(n,o,e._key,r,new _g(t.hasPendingWrites,t.fromCache),e.converter)}class cG extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=gg(e)}get(e){const t=Zh(e,this._firestore),r=new X3(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return lt();const c=o[0];if(c.isFoundDocument())return new T1(this._firestore,r,c.key,c,t.converter);if(c.isNoDocument())return new T1(this._firestore,r,t._key,null,t.converter);throw lt()})}set(e,t,r){const o=Zh(e,this._firestore),c=VD(o.converter,t,r),h=kD(this._dataReader,"Transaction.set",o._key,c,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const c=Zh(e,this._firestore);let h;return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof id?AO(this._dataReader,"Transaction.update",c._key,t,r,o):SO(this._dataReader,"Transaction.update",c._key,t),this._transaction.update(c._key,h),this}delete(e){const t=Zh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Zh(e,this._firestore),r=new yg(this._firestore);return super.get(e).then(o=>new sd(this._firestore,r,t._key,o._document,new _g(!1,!1),t.converter))}}function xO(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function C2(){if("undefined"==typeof Uint8Array)throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function D2(){if("undefined"==typeof atob)throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){X_=Wo.SDK_VERSION,(0,Wo._registerComponent)(new uh.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),c=new dr(o,new WV(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),c._setSettings(r),c},"PUBLIC")),(0,Wo.registerVersion)(Lk,"3.3.0",n),(0,Wo.registerVersion)(Lk,"3.3.0","esm2017")}();class C1{constructor(e){this._delegate=e}static fromBase64String(e){return D2(),new C1(Fc.fromBase64String(e))}static fromUint8Array(e){return C2(),new C1(Fc.fromUint8Array(e))}toBase64(){return D2(),this._delegate.toBase64()}toUint8Array(){return C2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function kO(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class bG{enableIndexedDbPersistence(e,t){return function(n,e){n2(n=tn(n,dr));const t=oi(n),r=n._freezeSettings(),o=new gO;return t2(t,o,new LL(o,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){n2(n=tn(n,dr));const e=oi(n),t=n._freezeSettings(),r=new gO;return t2(e,r,new a3(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Fe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ve.Z)(function*(){try{yield(t=(0,ve.Z)(function*(r){if(!Gl.bt())return Promise.resolve();const o=r+"main";yield Gl.delete(o)}),function(r){return t.apply(this,arguments)})(aR(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class I2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof M0||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Kv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var o;const c=(n=tn(n,b1))._getSettings();if("firestore.googleapis.com"!==c.host&&c.host!==e&&Kv("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},c),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,_;if("string"==typeof r.mockUserToken)h=r.mockUserToken,_=Gi.MOCK_USER;else{h=(0,Tt.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new Fe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Gi(v)}n._credentials=new $V(new Vk(h,_))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield GL(n),t=yield HL(n);return e.setNetworkEnabled(!0),function(r){const o=He(r);return o.Wr.delete(0),_1(o)}(t)}))}(oi(n=tn(n,dr)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,ve.Z)(function*(){const e=yield GL(n),t=yield HL(n);return e.setNetworkEnabled(!1),(r=(0,ve.Z)(function*(o){const c=He(o);c.Wr.add(0),yield w0(c),c.Hr.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(oi(n=tn(n,dr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ZL("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return function(n,e){return XR.apply(this,arguments)}(yield wO(e),t)})),t.promise}(oi(n=tn(n,dr)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new ND(e);return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield N0(n),o=t,He(r).so.add(o),void o.next();var r,o})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return r=yield N0(n),o=t,void He(r).so.delete(o);var r,o}))}}(oi(n=tn(n,dr)),DO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new O0(this,QL(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new za(this,OD(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new As(this,function(n,e){if(n=tn(n,b1),CO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new as(n,null,(t=e,new ed(gn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){const r=yield(o=n,MD(o).then(c=>c.datastore));var o;new u3(n.asyncQueue,r,e,t).run()})),t.promise}(oi(n=tn(n,dr)),t=>e(new cG(n,t)))}(this._delegate,t=>e(new S2(this,t)))}batch(){return oi(this._delegate),new A2(new v2(this._delegate,e=>R0(this._delegate,e)))}loadBundle(e){return function(n,e){const t=oi(n=tn(n,dr)),r=new C3;return function(n,e,t,r){const o=function(c,h){let _;return _="string"==typeof c?(new TextEncoder).encode(c):c,v=function(v,D){if(v instanceof Uint8Array)return VL(v,D);if(v instanceof ArrayBuffer)return VL(new Uint8Array(v),D);if(v instanceof ReadableStream)return v.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(_),new l3(v,h);var v}(t,m1(e));n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){!function(n,e,t){const r=He(n);var o;(o=(0,ve.Z)(function*(c,h,_){try{const v=yield h.getMetadata();if(yield function(B,H){const ie=He(B),Ce=Ai(H.createTime);return ie.persistence.runTransaction("hasNewerBundle","readonly",Re=>ie.Je.getBundleMetadata(Re,H.id)).then(Re=>!!Re&&Re.createTime.compareTo(Ce)>=0)}(c.localStore,v))return yield h.close(),void _._completeWith((B=v,{taskState:"Success",documentsLoaded:B.totalDocuments,bytesLoaded:B.totalBytes,totalDocuments:B.totalDocuments,totalBytes:B.totalBytes}));_._updateProgress(SL(v));const D=new VU(v,c.localStore,h.N);let N=yield h.zo();for(;N;){const B=yield D.mo(N);B&&_._updateProgress(B),N=yield h.zo()}const R=yield D.complete();yield rd(c,R.En,void 0),yield function(B,H){const ie=He(B);return ie.persistence.runTransaction("Save bundle","readwrite",Ce=>ie.Je.saveBundleMetadata(Ce,H))}(c.localStore,v),_._completeWith(R.progress)}catch(v){Kv("SyncEngine",`Loading bundle failed with ${v}`),_._failWith(v)}var B}),function(c,h,_){return o.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield wO(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,ve.Z)(function*(){return function(t,r){const o=He(t);return o.persistence.runTransaction("Get named query","readonly",c=>o.Je.getNamedQuery(c,r))}(yield TO(n),e)}))}(oi(n=tn(n,dr)),e).then(t=>t?new as(n,null,t.query):null)}(this._delegate,e).then(t=>t?new As(this,t):null)}}class BD extends OO{constructor(e){super(),this.firestore=e}convertBytes(e){return new C1(new Fc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return za.forKey(t,this.firestore,null)}}class S2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}get(e){const t=vg(e);return this._delegate.get(t).then(r=>new D1(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=vg(e);return r?(xO("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=vg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=vg(e);return this._delegate.delete(t),this}}class A2{constructor(e){this._delegate=e}set(e,t,r){const o=vg(e);return r?(xO("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const c=vg(e);return 2===arguments.length?this._delegate.update(c,t):this._delegate.update(c,t,r,...o),this}delete(e){const t=vg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new w1(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new I1(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=bg.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let c=o.get(t);return c||(c=new bg(e,new BD(e),t),o.set(t,c)),c}}bg.INSTANCES=new WeakMap;class za{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new za(t,new tr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new za(t,new tr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new O0(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new O0(this.firestore,QL(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Tt.m9)(e))instanceof tr&&JL(this._delegate,e)}set(e,t){t=xO("DocumentReference.set",t);try{return t?T2(this._delegate,e,t):T2(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?w2(this._delegate,e):w2(this._delegate,e,t,...r)}catch(o){throw Ss(o,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return R0(tn(n.firestore,dr),[new o1(n._key,$r.none())])}(this._delegate)}onSnapshot(...e){const t=N2(e),r=M2(e,o=>new D1(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return E2(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,tr);const e=tn(n.firestore,dr),t=oi(e),r=new yg(e);return function(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,c,h){try{const _=yield function(v,D){const N=He(v);return N.persistence.runTransaction("read document","readonly",R=>N.Qn.An(R,D))}(o,c);_.isFoundDocument()?h.resolve(_):_.isNoDocument()?h.resolve(null):h.reject(new Fe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(_){const v=D0(_,`Failed to get document '${c} from cache`);h.reject(v)}}),function(o,c,h){return r.apply(this,arguments)})(yield TO(n),e,t);var r})),t.promise}(t,n._key).then(o=>new sd(e,r,n._key,o,new _g(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,tr);const e=tn(n.firestore,dr);return jL(oi(e),n._key,{source:"server"}).then(t=>PO(e,n,t))}(this._delegate):function(n){n=tn(n,tr);const e=tn(n.firestore,dr);return jL(oi(e),n._key).then(t=>PO(e,n,t))}(this._delegate),t.then(r=>new D1(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new za(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function N2(n){for(const e of n)if("object"==typeof e&&!kO(e))return e;return{}}function M2(n,e){var t,r;let o;return o=kO(n[0])?n[0]:kO(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:c=>{o.next&&o.next(e(c))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class D1{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new za(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return d2(this._delegate,e._delegate)}}class I1 extends D1{data(e){const t=this._delegate.data(e);return function(n,e){n||lt()}(void 0!==t),t}}class As{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}where(e,t,r){try{return new As(this.firestore,Wh(this._delegate,function(n,e,t){const r=e,o=LD("where",n);return new j3(o,r,t)}(e,t,r)))}catch(o){throw Ss(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new As(this.firestore,Wh(this._delegate,function(n,e="asc"){const t=e,r=LD("orderBy",n);return new W3(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new As(this.firestore,Wh(this._delegate,function(n){return KL("limit",n),new f2("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new As(this.firestore,Wh(this._delegate,function(n){return KL("limitToLast",n),new f2("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new As(this.firestore,Wh(this._delegate,function(...n){return new p2("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new As(this.firestore,Wh(this._delegate,function(...n){return new p2("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new As(this.firestore,Wh(this._delegate,function(...n){return new g2("endBefore",n,!0)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new As(this.firestore,Wh(this._delegate,function(...n){return new g2("endAt",n,!1)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return XL(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=tn(n,as);const e=tn(n.firestore,dr),t=oi(e),r=new yg(e);return function(n,e){const t=new Di;return n.asyncQueue.enqueueAndForget((0,ve.Z)(function*(){return(r=(0,ve.Z)(function*(o,c,h){try{const _=yield ED(o,c,!0),v=new ML(c,_.Gn),D=v.bo(_.documents),N=v.applyChanges(D,!1);h.resolve(N.snapshot)}catch(_){const v=D0(_,`Failed to execute query '${c} against cache`);h.reject(v)}}),function(o,c,h){return r.apply(this,arguments)})(yield TO(n),e,t);var r})),t.promise}(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=tn(n,as);const e=tn(n.firestore,dr),t=oi(e),r=new yg(e);return $L(t,n._query,{source:"server"}).then(o=>new $h(e,r,n,o))}(this._delegate):function(n){n=tn(n,as);const e=tn(n.firestore,dr),t=oi(e),r=new yg(e);return h2(n._query),$L(t,n._query).then(o=>new $h(e,r,n,o))}(this._delegate),t.then(r=>new FO(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=N2(e),r=M2(e,o=>new FO(this.firestore,new $h(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return E2(this._delegate,t,r)}withConverter(e){return new As(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}class TG{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new I1(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class FO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new As(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new I1(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new TG(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new I1(this._firestore,r))})}isEqual(e){return d2(this._delegate,e._delegate)}}class O0 extends As{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new za(this.firestore,e):null}doc(e){try{return new za(this.firestore,void 0===e?OD(this._delegate):OD(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=tn(n.firestore,dr),r=OD(n),o=VD(n.converter,e);return R0(t,[kD(gg(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,$r.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new za(this.firestore,t))}isEqual(e){return JL(this._delegate,e._delegate)}withConverter(e){return new O0(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}function vg(n){return tn(n,tr)}class LO{constructor(...e){this._delegate=new id(...e)}static documentId(){return new LO(Hi.keyField().canonicalString())}isEqual(e){return(e=(0,Tt.m9)(e))instanceof id&&this._delegate._internalPath.isEqual(e._internalPath)}}class Tg{constructor(e){this._delegate=e}static serverTimestamp(){const e=new IO("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new Tg(e)}static delete(){const e=new v1("deleteField");return e._methodName="FieldValue.delete",new Tg(e)}static arrayUnion(...e){const t=function(...n){return new L3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Tg(t)}static arrayRemove(...e){const t=function(...n){return new V3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Tg(t)}static increment(e){const t=function(n){return new B3("increment",n)}(e);return t._methodName="FieldValue.increment",new Tg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const wG={Firestore:I2,GeoPoint:PD,Timestamp:Ii,Blob:C1,Transaction:S2,WriteBatch:A2,DocumentReference:za,DocumentSnapshot:D1,Query:As,QueryDocumentSnapshot:I1,QuerySnapshot:FO,CollectionReference:O0,FieldPath:LO,FieldValue:Tg,setLogLevel:function(n){!function(n){xh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new uh.wA("firestore-compat",t=>((e,t)=>new I2(e,t,new bG))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},wG)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.7")}(t_.Z);var VO=k(8526),S1=k(9748),DG=k(7575),IG=k(5973);class SG extends Kt.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new AG(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,c=r.length;let h;if(this.closed)throw new ll.N;if(this.isStopped||this.hasError?h=Oa.w.EMPTY:(this.observers.push(e),h=new IG.W(this,e)),o&&e.add(e=new S1.ht(e,o)),t)for(let _=0;_<c&&!e.closed;_++)e.next(r[_]);else for(let _=0;_<c&&!e.closed;_++)e.next(r[_].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||DG.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,o=this._events,c=o.length;let h=0;for(;h<c&&!(e-o[h].time<r);)h++;return c>t&&(h=Math.max(h,c-t)),h>0&&o.splice(0,h),o}}class AG{constructor(e,t){this.time=e,this.value=t}}function R2(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},o=>o.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let o,h,c=0,_=!1,v=!1;return function(N){let R;c++,!o||_?(_=!1,o=new SG(n,e,r),R=o.subscribe(this),h=N.subscribe({next(B){o.next(B)},error(B){_=!0,o.error(B)},complete(){v=!0,h=void 0,o.complete()}}),v&&(h=void 0)):R=o.subscribe(this),this.add(()=>{c--,R.unsubscribe(),R=void 0,h&&!v&&t&&0===c&&(h.unsubscribe(),h=void 0,o=void 0)})}}(r))}function O2(n,e){return e?on(()=>n,e):on(()=>n)}var BO=k(2635);const P2=new u.OlP("angularfire2.auth.use-emulator"),x2=new u.OlP("angularfire2.auth.settings"),k2=new u.OlP("angularfire2.auth.tenant-id"),F2=new u.OlP("angularfire2.auth.langugage-code"),L2=new u.OlP("angularfire2.auth.use-device-language"),V2=new u.OlP("angularfire.auth.persistence"),B2=(n,e,t,r,o,c,h,_)=>(0,Ti.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const v=e.runOutsideAngular(()=>n.auth());if(t&&v.useEmulator(...t),r&&(v.tenantId=r),v.languageCode=o,c&&v.useDeviceLanguage(),h)for(const[D,N]of Object.entries(h))v.settings[D]=N;return _&&v.setPersistence(_),v},[t,r,o,c,h,_]);let U2=(()=>{class n{constructor(t,r,o,c,h,_,v,D,N,R,B,H){const ie=new Kt.xQ,Ce=(0,Xe.of)(void 0).pipe((0,S1.QV)(h.outsideAngular),on(()=>c.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,4802)))),(0,ze.U)(()=>(0,Ti.on)(t,c,r)),(0,ze.U)(Re=>B2(Re,c,_,D,N,R,v,B)),R2({bufferSize:1,refCount:!1}));if(Qr(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Xe.of)(null);else{Ce.pipe(Ra()).subscribe();const et=Ce.pipe(on(st=>st.getRedirectResult().then(jt=>jt,()=>null)),Pn.iC,R2({bufferSize:1,refCount:!1})),ht=Ce.pipe(on(st=>new Bn.y(jt=>({unsubscribe:c.runOutsideAngular(()=>st.onAuthStateChanged(mr=>jt.next(mr),mr=>jt.error(mr),()=>jt.complete()))})))),St=Ce.pipe(on(st=>new Bn.y(jt=>({unsubscribe:c.runOutsideAngular(()=>st.onIdTokenChanged(mr=>jt.next(mr),mr=>jt.error(mr),()=>jt.complete()))}))));this.authState=et.pipe(O2(ht),(0,BO.R)(h.outsideAngular),(0,S1.QV)(h.insideAngular)),this.user=et.pipe(O2(St),(0,BO.R)(h.outsideAngular),(0,S1.QV)(h.insideAngular)),this.idToken=this.user.pipe(on(st=>st?(0,sn.D)(st.getIdToken()):(0,Xe.of)(null))),this.idTokenResult=this.user.pipe(on(st=>st?(0,sn.D)(st.getIdTokenResult()):(0,Xe.of)(null))),this.credential=(0,VO.T)(et,ie,this.authState.pipe(In(st=>!st))).pipe((0,ze.U)(st=>(null==st?void 0:st.user)?st:null),(0,BO.R)(h.outsideAngular),(0,S1.QV)(h.insideAngular))}return(0,Ti.pX)(this,Ce,c,{spy:{apply:(Re,et,ht)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&ht.then(St=>ie.next(St))}}})}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ti.Dh),u.LFG(Ti.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pn.HU),u.LFG(P2,8),u.LFG(x2,8),u.LFG(k2,8),u.LFG(F2,8),u.LFG(L2,8),u.LFG(V2,8),u.LFG(xp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function G2(n,e){return function(n,e=lm.z){return new Bn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function UO(n,e){return G2(n,e).pipe((0,ze.U)(t=>({payload:t,type:"query"})))}function UD(n,e){return UO(n,e).pipe(Yt(void 0),Tv(),(0,ze.U)(([t,r])=>{const o=r.payload.docChanges(),c=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,_)=>{const v=o.find(N=>N.doc.ref.isEqual(h.ref)),D=null==t?void 0:t.payload.docs.find(N=>N.ref.isEqual(h.ref));v&&JSON.stringify(v.doc.metadata)===JSON.stringify(h.metadata)||!v&&D&&JSON.stringify(D.metadata)===JSON.stringify(h.metadata)||c.push({type:"modified",payload:{oldIndex:_,newIndex:_,type:"modified",doc:h}})}),c}))}function H2(n,e,t){return UD(n,t).pipe(Na((r,o)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return GO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return GO(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(c=>c.payload),e),[]),Ld(),(0,ze.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function GO(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function j2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class $2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=UD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ze.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Yt(void 0),Tv(),In(([r,o])=>o.length>0||!r),(0,ze.U)(([r,o])=>o),Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Na((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=j2(e);return H2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return UO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pn.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Pn.iC)}add(e){return this.ref.add(e)}doc(e){return new W2(this.ref.doc(e),this.afs)}}class W2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:c}=q2(r,t);return new $2(o,c,this.afs)}snapshotChanges(){return function(n,e){return G2(n,e).pipe(Yt(void 0),Tv(),(0,ze.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ze.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(Pn.iC)}}class kG{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UD(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),In(t=>t.length>0),Pn.iC):UD(this.query,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(Na((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=j2(e);return H2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pn.iC)}valueChanges(e={}){return UO(this.query,this.afs.schedulers.outsideAngular).pipe((0,ze.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),Pn.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(Pn.iC)}}const Z2=new u.OlP("angularfire2.enableFirestorePersistence"),z2=new u.OlP("angularfire2.firestore.persistenceSettings"),FG=new u.OlP("angularfire2.firestore.settings"),LG=new u.OlP("angularfire2.firestore.use-emulator");function q2(n,e=(t=>t)){return{query:e(n),ref:n}}let K2=(()=>{class n{constructor(t,r,o,c,h,_,v,D,N,R,B,H,ie,Ce,Re,et,ht){this.schedulers=v;const St=(0,Ti.on)(t,_,r),st=N;R&&B2(St,_,B,ie,Ce,Re,H,et),[this.firestore,this.persistenceEnabled$]=(0,Ti.cc)(`${St.name}.firestore`,"AngularFirestore",St.name,()=>{const jt=_.runOutsideAngular(()=>St.firestore());if(c&&jt.settings(c),st&&jt.useEmulator(...st),o&&!Qr(h)){const mr=()=>{try{return(0,sn.D)(jt.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(zh){return"undefined"!=typeof console&&console.warn(zh),(0,Xe.of)(!1)}};return[jt,_.runOutsideAngular(mr)]}return[jt,(0,Xe.of)(!1)]},[c,st,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:c,query:h}=q2(o,r),_=this.schedulers.ngZone.run(()=>c);return new $2(_,h,this)}collectionGroup(t,r){const o=r||(h=>h),c=this.firestore.collectionGroup(t);return new kG(o(c),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new W2(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(Ti.Dh),u.LFG(Ti.xv,8),u.LFG(Z2,8),u.LFG(FG,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(Pn.HU),u.LFG(z2,8),u.LFG(LG,8),u.LFG(U2,8),u.LFG(P2,8),u.LFG(x2,8),u.LFG(k2,8),u.LFG(F2,8),u.LFG(L2,8),u.LFG(V2,8),u.LFG(xp,8))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VG=(()=>{class n{constructor(){yv.Z.registerVersion("angularfire",Pn.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Z2,useValue:!0},{provide:z2,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[K2]}),n})(),Y2=(()=>{class n{constructor(t){this.fireStore=t,this.pizzaStore=new Ut([]),this.pinsaStore=new Ut([]),this.recipeStore=new Ut([]),this.pinsaRecipe=this.pinsaStore.asObservable(),this.pizzaRecipe=this.pizzaStore.asObservable(),this.preparation=this.recipeStore.asObservable(),this.fireStore.collection("Recipes").valueChanges().subscribe(r=>{this.pizzaStore.next(r)}),this.fireStore.collection("Pinsas").valueChanges().subscribe(r=>{this.pinsaStore.next(r)})}loadRecipes(t){"PinsaRecipe"===t?this.fireStore.collection("PinsaRecipe").valueChanges().subscribe(r=>{this.recipeStore.next(r)}):"PizzaRecipe"===t?this.fireStore.collection("PizzaRecipe").valueChanges().subscribe(r=>{this.recipeStore.next(r)}):console.log("No Recipe Steps found!")}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(K2))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(){const c=u.CHM(t).$implicit;return u.oxw().changeRecipe(c.title)}),u._uU(1),u.qZA()}if(2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t.title,"")}}function UG(n,e){1&n&&(u.TgZ(0,"div"),u.TgZ(1,"h4"),u._uU(2,"Rezepte"),u.qZA(),u.TgZ(3,"p"),u._uU(4,"Bitte w\xe4hle ein Rezept!"),u.qZA(),u.qZA())}function GG(n,e){if(1&n&&(u.TgZ(0,"div",17),u._UZ(1,"img",18),u.qZA()),2&n){const t=u.oxw(2);u.xp6(1),u.Q6J("src",t.imgSrc,u.LSH)}}function HG(n,e){if(1&n&&(u.TgZ(0,"li",19),u._uU(1),u.qZA()),2&n){const t=e.$implicit;u.xp6(1),u.hij(" ",t," ")}}function jG(n,e){if(1&n&&(u.TgZ(0,"div",13),u.YNc(1,GG,2,1,"div",14),u.TgZ(2,"div"),u.TgZ(3,"h5"),u._uU(4,"Zutaten"),u.qZA(),u.TgZ(5,"ul",15),u.YNc(6,HG,2,1,"li",16),u.qZA(),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(1),u.Q6J("ngIf",""!==t.imgSrc),u.xp6(5),u.Q6J("ngForOf",t.selectedRecipe.ingredients)}}let Q2=(()=>{class n{constructor(t,r,o){this.fireStorage=t,this.fireBaseService=r,this.router=o,this.router.url.startsWith("/pizza")?this.fireBaseService.pizzaRecipe.subscribe(c=>{this.recipes=c,console.log(this.recipes),this.headerTitle="Pizza Rezepte"}):this.fireBaseService.pinsaRecipe.subscribe(c=>{this.recipes=c,console.log(this.recipes),this.headerTitle="Pinsa Rezepte"})}ngOnInit(){this.recipe="Rezept w\xe4hlen",console.log(this.recipes)}getPictureURL(t){return(0,Ib.mG)(this,void 0,void 0,function*(){try{const r=this.fireStorage.ref(t.picture);this.imgSrc=yield r.getDownloadURL().toPromise()}catch(r){this.imgSrc=""}})}changeRecipe(t){this.recipe=t;try{this.selectedRecipe=this.recipes[this.recipes.findIndex(r=>r.title===t)],console.log(this.selectedRecipe.picture),this.getPictureURL(this.selectedRecipe)}catch(r){console.log("This recipe is not available!")}}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(wt),u.Y36(Y2),u.Y36(bi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-recipes"]],decls:18,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","justify-content-center","mb-3"],["ngbDropdown","",1,"flex-fill"],["ngbDropdownToggle","","type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-dark","w-100"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-lg-right"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","px-3"],[4,"ngIf","ngIfElse"],["recipeBlock",""],[1,"dropdown-item",3,"click"],[1,"d-flex","flex-wrap"],["class","m-2",4,"ngIf"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"m-2"],["width","100%","height","100%",3,"src"],[1,"list-group-item"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._uU(3),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div",0),u.TgZ(6,"div",4),u.TgZ(7,"div",5),u.TgZ(8,"button",6),u._uU(9),u.qZA(),u.TgZ(10,"div",7),u.YNc(11,BG,2,1,"div",8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(12,"div",1),u.TgZ(13,"div",3),u.TgZ(14,"div",9),u.YNc(15,UG,5,0,"div",10),u.YNc(16,jG,7,2,"ng-template",null,11,u.W1O),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const o=u.MAs(17);u.xp6(3),u.hij(" ",r.headerTitle," "),u.xp6(6),u.hij(" ",r.recipe," "),u.xp6(2),u.Q6J("ngForOf",r.recipes),u.xp6(4),u.Q6J("ngIf","Rezept w\xe4hlen"===r.recipe)("ngIfElse",o)}},directives:[ih,Wm,Dn,Yr],styles:[""]}),n})();function $G(n,e){if(1&n&&(u.TgZ(0,"div",5),u.TgZ(1,"h4"),u._uU(2),u.qZA(),u._UZ(3,"hr",6),u.TgZ(4,"p"),u._uU(5),u.qZA(),u.qZA()),2&n){const t=e.$implicit;u.xp6(2),u.AsE("",t.number,". ",t.caption,""),u.xp6(3),u.Oqu(t.text)}}let J2=(()=>{class n{constructor(t,r){this.fireBaseService=t,this.router=r,this.router.url.startsWith("/pizza")?(this.fireBaseService.loadRecipes("PizzaRecipe"),this.headerTitle="Pizza Teig"):(this.fireBaseService.loadRecipes("PinsaRecipe"),this.headerTitle="Pinsa Teig")}ngOnInit(){this.fireBaseService.preparation.subscribe(t=>{this.steps=t})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(Y2),u.Y36(bi))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-teigling"]],decls:6,vars:2,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","jumbotron-fluid",4,"ngFor","ngForOf"],[1,"jumbotron-fluid"],[1,"my-2"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._uU(3),u.qZA(),u.TgZ(4,"div",3),u.YNc(5,$G,6,3,"div",4),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(3),u.hij(" ",r.headerTitle," "),u.xp6(2),u.Q6J("ngForOf",r.steps))},directives:[Dn],styles:[""]}),n})();function WG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(7).toggle("dough")}),u.TgZ(1,"h5",13),u._uU(2,"Pizzateig"),u.qZA(),u.qZA()}}function ZG(n,e){1&n&&u._uU(0," Pizzateig Explanation ")}function zG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(7).toggle("topping")}),u.TgZ(1,"h5",13),u._uU(2,"Belegen"),u.qZA(),u.qZA()}}function qG(n,e){1&n&&u._uU(0," Pizzateig Belag Erkl\xe4rung ")}function KG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(7).toggle("cheese")}),u.TgZ(1,"h5",13),u._uU(2,"K\xe4se"),u.qZA(),u.qZA()}}function YG(n,e){1&n&&u._uU(0," Verschiedene K\xe4sesorten ")}function QG(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u.NdJ("click",function(){return u.CHM(t),u.oxw(),u.MAs(7).toggle("tomato")}),u.TgZ(1,"h5",13),u._uU(2,"Tomaten"),u.qZA(),u.qZA()}}function JG(n,e){1&n&&u._uU(0," Tomatenarten ")}let XG=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-wiki"]],decls:20,vars:1,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"closeOthers"],["accordion",""],["id","dough"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","topping"],["id","cheese"],["id","tomato"],[1,"d-flex","align-items-center","justify-content-between",3,"click"],[1,"m-0"]],template:function(t,r){1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"div",2),u._uU(3," Pizza Wiki "),u.qZA(),u.TgZ(4,"div",3),u.TgZ(5,"div",0),u.TgZ(6,"ngb-accordion",4,5),u.TgZ(8,"ngb-panel",6),u.YNc(9,WG,3,0,"ng-template",7),u.YNc(10,ZG,1,0,"ng-template",8),u.qZA(),u.TgZ(11,"ngb-panel",9),u.YNc(12,zG,3,0,"ng-template",7),u.YNc(13,qG,1,0,"ng-template",8),u.qZA(),u.TgZ(14,"ngb-panel",10),u.YNc(15,KG,3,0,"ng-template",7),u.YNc(16,YG,1,0,"ng-template",8),u.qZA(),u.TgZ(17,"ngb-panel",11),u.YNc(18,QG,3,0,"ng-template",7),u.YNc(19,JG,1,0,"ng-template",8),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t&&(u.xp6(6),u.Q6J("closeOthers",!0))},directives:[km,xm,Om,Ou],styles:[""]}),n})(),X2=(()=>{class n{constructor(){this.dataSource=new Ut({}),this.currentDough=this.dataSource.asObservable()}updateDataSet(t){this.dataSource.next(t)}updateMeasures(t){let r;if(t.pizzaDough===Ua.e_standard){const o=t.pizzaSize*t.pizzaNumber;r={flour:Number((.45*o).toFixed(0)),rice_flour:Number((.09*o).toFixed(0)),peas_flour:Number((.045*o).toFixed(0)),water:Number((.38*o).toFixed(0)),yeast:Number((.0045*o).toFixed(1)),olive_oil:Number((.02*o).toFixed(1)),salt:Number((.01*o).toFixed(1))}}this.updateDataSet(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eH=["carousel"];function tH(n,e){1&n&&(u.TgZ(0,"div",9),u._uU(1," PinsaCalculator "),u.qZA())}function nH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",10),u.NdJ("click",function(){return u.CHM(t),u.oxw().goBack()}),u._UZ(1,"i",11),u.qZA()}}function rH(n,e){if(1&n){const t=u.EpF();u.TgZ(0,"div",12),u._uU(1," Die Basis f\xfcr eine Pinsa Romana bildet der Teig, der zu einem rustikalen Fladen gebacken wird. Geformt wird sie l\xe4nglich und schmal. Optisch und auch geschmacklich erinnert die Pinsa an ein Fladenbrot \u2013 au\xdfen knusprig und innen weich "),u._UZ(2,"hr"),u.TgZ(3,"form"),u.TgZ(4,"div",13),u.TgZ(5,"div",14),u.TgZ(6,"label",15),u._uU(7,"Anzahl der Pizzen:"),u.qZA(),u.TgZ(8,"input",16),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaNumber=o}),u.qZA(),u.qZA(),u.qZA(),u.TgZ(9,"div",13),u.TgZ(10,"div",14),u.TgZ(11,"label",17),u._uU(12,"Pinsateig Gewicht je Pinsa:"),u.qZA(),u.TgZ(13,"div",18),u.TgZ(14,"input",19),u.NdJ("ngModelChange",function(o){return u.CHM(t),u.oxw().pizzaInfo.pizzaSize=o}),u.qZA(),u.TgZ(15,"div",20),u.TgZ(16,"div",21),u._uU(17,"g"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(18,"div",22),u.TgZ(19,"small"),u._uU(20,"200g = kleine Pinsa, 250g = gro\xdfe Pinsa"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(21,"div",13),u.TgZ(22,"button",23),u.NdJ("click",function(){return u.CHM(t),u.oxw().updatePizzaInfos()}),u._uU(23,"Berechnen"),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&n){const t=u.oxw();u.xp6(8),u.Q6J("ngModel",t.pizzaInfo.pizzaNumber),u.xp6(6),u.Q6J("ngModel",t.pizzaInfo.pizzaSize)}}function iH(n,e){if(1&n&&(u.TgZ(0,"div",12),u.TgZ(1,"h2"),u._uU(2),u.qZA(),u._UZ(3,"hr"),u.TgZ(4,"div",24),u.TgZ(5,"div"),u._uU(6,"Anzahl der Pinsas:"),u.qZA(),u.TgZ(7,"div"),u._uU(8),u.qZA(),u.qZA(),u._UZ(9,"hr"),u.TgZ(10,"h3"),u._uU(11),u.TgZ(12,"small"),u._uU(13,"Type 00/405"),u.qZA(),u.qZA(),u.TgZ(14,"h3"),u._uU(15),u.qZA(),u.TgZ(16,"h3"),u._uU(17),u.qZA(),u.TgZ(18,"h3"),u._uU(19),u.qZA(),u.TgZ(20,"h3"),u._uU(21),u.qZA(),u.TgZ(22,"h3"),u._uU(23),u.qZA(),u.qZA()),2&n){const t=u.oxw();u.xp6(2),u.Oqu(t.pizzaInfo.pizzaDough),u.xp6(6),u.AsE("",t.pizzaInfo.pizzaNumber," x ",t.pizzaInfo.pizzaSize," g"),u.xp6(3),u.hij("",t.dough.flour," g Mehl "),u.xp6(4),u.hij("",t.dough.rice_flour," g Reismehl"),u.xp6(2),u.hij("",t.dough.peas_flour," g Kichererbsenmehl"),u.xp6(2),u.hij("",t.dough.water," ml Wasser"),u.xp6(2),u.hij("",t.dough.salt," g Salz"),u.xp6(2),u.hij("",t.dough.yeast," g Hefe")}}let eV=(()=>{class n{constructor(t){this.pinsaService=t,this.pinsaService.currentDough.subscribe(r=>this.dough=r),this.displayRecipe=!1}ngOnInit(){this.pizzaInfo={pizzaNumber:1,pizzaSize:223,pizzaWater:50,pizzaDough:Ua.e_standard}}updatePizzaInfos(){this.pinsaService.updateMeasures(this.pizzaInfo),this.carousel.select("recipe"),this.displayRecipe=!0}goBack(){this.carousel.select("calculator"),this.displayRecipe=!1}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(X2))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-pinsa"]],viewQuery:function(t,r){if(1&t&&u.Gf(eH,5),2&t){let o;u.iGM(o=u.CRH())&&(r.carousel=o.first)}},decls:10,vars:5,consts:[[1,"container","p-1"],[1,"card"],["class","card-header",4,"ngIf","ngIfElse"],["recipe",""],[1,"card-body"],[3,"interval","showNavigationArrows","showNavigationIndicators"],["carousel",""],["ngbSlide","","id","calculator"],["ngbSlide","","id","recipe"],[1,"card-header"],[1,"card-header",3,"click"],[1,"bi","bi-arrow-left"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mt-2"],[1,"w-100"],["for","pizzaNumber"],["name","pizzaNumber","type","number","inputmode","numeric","min","0",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaSize"],[1,"input-group","mb-2"],["name","pizzaSize","type","number","inputmode","numeric","min","200","max","300",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"align-self-end","ml-3"],["type","button",1,"btn","btn-dark","mb-3",3,"click"],[1,"d-flex","justify-content-between"]],template:function(t,r){if(1&t&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.YNc(2,tH,2,0,"div",2),u.YNc(3,nH,2,0,"ng-template",null,3,u.W1O),u.TgZ(5,"div",4),u.TgZ(6,"ngb-carousel",5,6),u.YNc(8,rH,24,2,"ng-template",7),u.YNc(9,iH,24,9,"ng-template",8),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&t){const o=u.MAs(4);u.xp6(2),u.Q6J("ngIf",!1===r.displayRecipe)("ngIfElse",o),u.xp6(4),u.Q6J("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1)}},directives:[Yr,ab,Bm,Cm,Zf,Au,Ml,Xf,Gd,jd,Yd,Sm],styles:[""]}),n})();const sH=[{path:"pizza",component:Cp,children:[{path:"calculator",component:qA},{path:"recipes",component:Q2},{path:"dough",component:J2},{path:"wiki",component:XG},{path:"**",component:qA}]},{path:"pinsa",component:Cp,children:[{path:"calculator",component:eV},{path:"recipes",component:Q2},{path:"dough",component:J2},{path:"**",component:eV}]},{path:"**",redirectTo:"pizza/calculator"}];let oH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[Bf.forRoot(sH,{useHash:!0})],Bf]}),n})();var aH=k(540),tV=k(6087);const A1="Service workers are disabled or not supported by this browser";class GD{constructor(e){if(this.serviceWorker=e,e){const r=vi(e,"controllerchange").pipe((0,ze.U)(()=>e.controller)),c=Do(Aa(()=>(0,Xe.of)(e.controller)),r);this.worker=c.pipe(In(N=>!!N)),this.registration=this.worker.pipe(on(()=>e.getRegistration()));const D=vi(e,"message").pipe((0,ze.U)(N=>N.data)).pipe(In(N=>N&&N.type)).pipe((0,tV.O)(new Kt.xQ));D.connect(),this.events=D}else this.worker=this.events=this.registration=Aa(()=>(0,aH._)(new Error("Service workers are disabled or not supported by this browser")))}postMessage(e,t){return this.worker.pipe(or(1),(0,Yn.b)(r=>{r.postMessage(ct({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),c=this.postMessage(e,t);return Promise.all([c,o]).then(([,h])=>h)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(In(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(or(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(In(t=>t.nonce===e),or(1),(0,ze.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let uH=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Kt.xQ,!t.isEnabled)return this.messages=yc,this.notificationClicks=yc,void(this.subscription=yc);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ze.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ze.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,ze.U)(o=>o.pushManager));const r=this.pushManager.pipe(on(o=>o.getSubscription()));this.subscription=(0,VO.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(A1));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(o.length));for(let h=0;h<o.length;h++)c[h]=o.charCodeAt(h);return r.applicationServerKey=c,this.pushManager.pipe(on(h=>h.subscribe(r)),or(1)).toPromise().then(h=>(this.subscriptionChanges.next(h),h))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(or(1),on(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(A1))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(GD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})(),nV=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=yc,this.available=yc,this.activated=yc,void(this.unrecoverable=yc);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(In(r=>"VERSION_READY"===r.type),(0,ze.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(A1));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(A1));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(u.LFG(GD))},n.\u0275prov=u.Yz7({token:n,factory:n.\u0275fac}),n})();class HO{}const rV=new u.OlP("NGSW_REGISTER_SCRIPT");function dH(n,e,t,r){return()=>{if(!Pi(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let c;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)c=t.registrationStrategy();else{const[_,...v]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(_){case"registerImmediately":c=(0,Xe.of)(null);break;case"registerWithDelay":c=iV(+v[0]||0);break;case"registerWhenStable":c=v[0]?(0,VO.T)(sV(n),iV(+v[0])):sV(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(u.R0b).runOutsideAngular(()=>c.pipe(or(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(_=>console.error("Service worker registration failed with:",_))))}}function iV(n){return(0,Xe.of)(null).pipe(tT(n))}function sV(n){return n.get(u.z2F).isStable.pipe(In(t=>t))}function hH(n,e){return new GD(Pi(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let fH=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:rV,useValue:t},{provide:HO,useValue:r},{provide:GD,useFactory:hH,deps:[HO,u.Lbi]},{provide:u.ip1,useFactory:dH,deps:[u.zs3,rV,HO,u.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({providers:[uH,nV]}),n})(),pH=(()=>{class n{constructor(t){this.swUpdate=t,this.title="pizza-app"}ngOnInit(){this.swUpdate.isEnabled&&this.swUpdate.available.subscribe(t=>{const o="version";window.confirm(`\n        Ein Update ist verf\xfcgbar (${t.current.appData[o]} => ${t.available.appData[o]}).\n        \xc4nderungen: ${t.current.appData.changelog}\n        Wollen Sie das Update jetzt installieren?\n      `)&&window.location.reload()})}}return n.\u0275fac=function(t){return new(t||n)(u.Y36(nV))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&u._UZ(0,"router-outlet")},directives:[rr],styles:[""]}),n})();const jO_firebase={apiKey:"AIzaSyDGkhaHBhZd2NBpQSx4TGu3bi-trO-8bGw",authDomain:"pizzaapp-f56f9.firebaseapp.com",databaseURL:"https://pizzaapp-f56f9.firebaseio.com",projectId:"pizzaapp-f56f9",storageBucket:"pizzaapp-f56f9.appspot.com",messagingSenderId:"460060452802",appId:"1:460060452802:web:2e8cb8163c5b574284d85b",measurementId:"G-F9QJEYKZX0"};let gH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=u.oAB({type:n,bootstrap:[pH]}),n.\u0275inj=u.cJS({providers:[HA,X2],imports:[[Xi,oH,fH.register("ngsw-worker.js",{enabled:true}),LA,Mu,Bf,Ti.hO.initializeApp(jO_firebase),VG.enablePersistence(),uk]]}),n})();(0,u.G48)(),eu().bootstrapModule(gH).catch(n=>console.error(n))},4762:(je,be,k)=>{"use strict";function le(te,ge){var Ee={};for(var Te in te)Object.prototype.hasOwnProperty.call(te,Te)&&ge.indexOf(Te)<0&&(Ee[Te]=te[Te]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(Te=Object.getOwnPropertySymbols(te);Pe<Te.length;Pe++)ge.indexOf(Te[Pe])<0&&Object.prototype.propertyIsEnumerable.call(te,Te[Pe])&&(Ee[Te[Pe]]=te[Te[Pe]])}return Ee}function se(te,ge,Ee,Te){return new(Ee||(Ee=Promise))(function(_e,mt){function $t(Qt){try{bt(Te.next(Qt))}catch(Hn){mt(Hn)}}function Gn(Qt){try{bt(Te.throw(Qt))}catch(Hn){mt(Hn)}}function bt(Qt){Qt.done?_e(Qt.value):function(_e){return _e instanceof Ee?_e:new Ee(function(mt){mt(_e)})}(Qt.value).then($t,Gn)}bt((Te=Te.apply(te,ge||[])).next())})}k.d(be,{_T:()=>le,mG:()=>se})},6079:(je,be,k)=>{"use strict";k.d(be,{deG:()=>Na,tb:()=>BE,AFp:()=>FE,ip1:()=>fh,CZH:()=>ph,hGG:()=>jN,z2F:()=>Sc,sBO:()=>Qx,Sil:()=>m_,_Vd:()=>oh,EJc:()=>xb,SBq:()=>$o,qLn:()=>El,vpe:()=>xl,tBr:()=>xa,XFs:()=>tt,OlP:()=>Yt,zs3:()=>Sn,ZZ4:()=>w_,aQg:()=>Mp,soG:()=>Sp,YKP:()=>EA,h0i:()=>ch,PXZ:()=>eC,R0b:()=>ws,FiY:()=>ka,Lbi:()=>VE,g9A:()=>LE,Qsj:()=>mA,FYo:()=>lh,JOm:()=>ys,Tiy:()=>qm,q3G:()=>On,tp0:()=>lr,Rgc:()=>Ep,dDg:()=>jb,q4F:()=>Km,GfV:()=>wb,s_b:()=>e_,ifc:()=>Mn,eFA:()=>zb,G48:()=>TN,Gpc:()=>ke,X6Q:()=>Wb,_c5:()=>av,VLi:()=>Gx,c2e:()=>UE,zSh:()=>Zd,wAp:()=>gt,vHH:()=>he,EiD:()=>Cf,mCW:()=>uc,qzn:()=>cc,JVY:()=>yf,pB0:()=>hu,eBb:()=>vf,L6k:()=>bf,LAX:()=>Oo,cg1:()=>lb,Tjo:()=>Ap,kL8:()=>jS,yhl:()=>_f,dqk:()=>j,sIi:()=>np,CqO:()=>dw,QGY:()=>Ky,F4k:()=>uw,RDi:()=>yo,AaK:()=>V,z3N:()=>ms,qOj:()=>Uy,TTD:()=>Fn,_Bn:()=>vb,xp6:()=>um,uIk:()=>Nm,Tol:()=>Tw,ekj:()=>Xy,Suo:()=>n_,Xpm:()=>$n,lG2:()=>jl,Yz7:()=>Tn,cJS:()=>li,oAB:()=>ia,Yjl:()=>Rs,Y36:()=>hp,_UZ:()=>ow,qZA:()=>qy,TgZ:()=>zy,EpF:()=>cw,n5z:()=>Do,Ikx:()=>Mw,SDv:()=>hA,QtT:()=>$m,pQV:()=>bb,LFG:()=>pn,$8M:()=>Aa,$Z:()=>sw,NdJ:()=>hw,CRH:()=>r_,oxw:()=>fS,ALo:()=>xA,lcZ:()=>kA,Hsn:()=>pw,F$t:()=>pS,Q6J:()=>Zy,s9C:()=>Yy,MGl:()=>Qy,VKq:()=>AA,WLB:()=>NA,kEZ:()=>oE,iGM:()=>gE,MAs:()=>qT,CHM:()=>zc,LSH:()=>Df,Udp:()=>vw,YNc:()=>zT,W1O:()=>bE,_uU:()=>nb,Oqu:()=>mp,hij:()=>Lm,AsE:()=>rb,Gf:()=>Xn});var u=k(3405),X=k(1346),F=k(5548),le=k(8526),K=k(6087),ne=k(5234);function re(){return new u.xQ}function $(i){for(let s in i)if(i[s]===$)return s;throw Error("Could not find renamed property on target object.")}function L(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function V(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(V).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function Y(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const fe=$({__forward_ref__:$});function ke(i){return i.__forward_ref__=ke,i.toString=function(){return V(this())},i}function ce(i){return Ae(i)?i():i}function Ae(i){return"function"==typeof i&&i.hasOwnProperty(fe)&&i.__forward_ref__===ke}class he extends Error{constructor(s,a){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,a)),this.code=s}}function oe(i){return"string"==typeof i?i:null==i?"":String(i)}function Ge(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():oe(i)}function Ie(i,s){const a=s?` in ${s}`:"";throw new he("201",`No provider for ${Ge(i)} found${a}`)}function At(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}function Tn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function li(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nn(i){return Ns(i,ci)||Ns(i,jn)}function Ns(i,s){return i.hasOwnProperty(s)?i[s]:null}function Ri(i){return i&&(i.hasOwnProperty(Zr)||i.hasOwnProperty(zr))?i[Zr]:null}const ci=$({\u0275prov:$}),Zr=$({\u0275inj:$}),jn=$({ngInjectableDef:$}),zr=$({ngInjectorDef:$});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let ot;function kt(i){const s=ot;return ot=i,s}function an(i,s,a){const l=Nn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&tt.Optional?null:void 0!==s?s:void Ie(V(i),"Injector")}function Mt(i){return{toString:i}.toString()}var Ue=(()=>((Ue=Ue||{})[Ue.OnPush=0]="OnPush",Ue[Ue.Default=1]="Default",Ue))(),Mn=(()=>{return(i=Mn||(Mn={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Mn;var i})();const ui="undefined"!=typeof globalThis&&globalThis,na="undefined"!=typeof window&&window,Ar="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=ui||"undefined"!=typeof global&&global||na||Ar,De={},Q=[],Ze=$({\u0275cmp:$}),pt=$({\u0275dir:$}),Zt=$({\u0275pipe:$}),yn=$({\u0275mod:$}),Vt=$({\u0275fac:$}),hr=$({__NG_ELEMENT_ID__:$});let Rt=0;function $n(i){return Mt(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Ue.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Q,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Mn.Emulated,id:"c",styles:i.styles||Q,_:null,setInput:null,schemas:i.schemas||null,tView:null},d=i.directives,f=i.features,m=i.pipes;return l.id+=Rt++,l.inputs=Ms(i.inputs,a),l.outputs=Ms(i.outputs),f&&f.forEach(y=>y(l)),l.directiveDefs=d?()=>("function"==typeof d?d():d).map(qa):null,l.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ka):null,l})}function qa(i){return dn(i)||function(i){return i[pt]||null}(i)}function Ka(i){return function(i){return i[Zt]||null}(i)}const Hl={};function ia(i){return Mt(()=>{const s={type:i.type,bootstrap:i.bootstrap||Q,declarations:i.declarations||Q,imports:i.imports||Q,exports:i.exports||Q,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Hl[i.id]=i.type),s})}function Ms(i,s){if(null==i)return De;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,s&&(s[d]=f)}return a}const jl=$n;function Rs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function dn(i){return i[Ze]||null}function qr(i,s){const a=i[yn]||null;if(!a&&!0===s)throw new Error(`Type ${V(i)} does not have '\u0275mod' property.`);return a}function Mr(i){return Array.isArray(i)&&"object"==typeof i[1]}function hi(i){return Array.isArray(i)&&!0===i[1]}function Uc(i){return 0!=(8&i.flags)}function zi(i){return 2==(2&i.flags)}function _o(i){return 1==(1&i.flags)}function qt(i){return null!==i.template}function Gc(i){return 0!=(512&i[2])}function Bs(i,s){return i.hasOwnProperty(Vt)?i[Vt]:null}class Yh{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fn(){return cd}function cd(i){return i.type.prototype.ngOnChanges&&(i.setInput=Yi),cs}function cs(){const i=Pi(this),s=null==i?void 0:i.current;if(s){const a=i.previous;if(a===De)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function Yi(i,s,a,l){const d=Pi(i)||function(i,s){return i[jc]=s}(i,{previous:De,current:null}),f=d.current||(d.current={}),m=d.previous,y=this.declaredInputs[a],w=m[y];f[y]=new Yh(w&&w.currentValue,s,m===De),i[l]=s}Fn.ngInherit=!0;const jc="__ngSimpleChanges__";function Pi(i){return i[jc]||null}let el;function yo(i){el=i}function ha(){return void 0!==el?el:"undefined"!=typeof document?document:void 0}function fn(i){return!!i.listen}const us={createRenderer:(i,s)=>ha()};function En(i){for(;Array.isArray(i);)i=i[0];return i}function hs(i,s){return En(s[i])}function Tr(i,s){return En(s[i.index])}function pa(i,s){return i.data[s]}function Qi(i,s){return i[s]}function Rr(i,s){const a=s[i];return Mr(a)?a:a[0]}function ga(i){return 4==(4&i[2])}function Zc(i){return 128==(128&i[2])}function Jr(i,s){return null==s?null:i[s]}function ma(i){i[18]=0}function Us(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const ft={lFrame:Yc(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nl(){return ft.bindingsEnabled}function Ne(){return ft.lFrame.lView}function It(){return ft.lFrame.tView}function zc(i){return ft.lFrame.contextLView=i,i[8]}function rn(){let i=qc();for(;null!==i&&64===i.type;)i=i.parent;return i}function qc(){return ft.lFrame.currentTNode}function Ji(){const i=ft.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}function fi(i,s){const a=ft.lFrame;a.currentTNode=i,a.isParent=s}function Yl(){return ft.lFrame.isParent}function _a(){ft.lFrame.isParent=!1}function ya(){return ft.isInCheckNoChangesMode}function ba(i){ft.isInCheckNoChangesMode=i}function Ln(){const i=ft.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function xi(){return ft.lFrame.bindingIndex}function Gs(){return ft.lFrame.bindingIndex++}function wr(i){const s=ft.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function bo(i){ft.lFrame.inI18n=i}function hd(i,s){const a=ft.lFrame;a.bindingIndex=a.bindingRootIndex=i,Kc(s)}function Kc(i){ft.lFrame.currentDirectiveIndex=i}function Ql(){return ft.lFrame.currentQueryIndex}function Jl(i){ft.lFrame.currentQueryIndex=i}function Xl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function sl(i,s,a){if(a&tt.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&tt.Host||(d=Xl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=ft.lFrame=va();return l.currentTNode=s,l.lView=i,!0}function ol(i){const s=va(),a=i[1];ft.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function va(){const i=ft.lFrame,s=null===i?null:i.child;return null===s?Yc(i):s}function Yc(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ef(){const i=ft.lFrame;return ft.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const ec=ef;function Ta(){const i=ef();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Or(){return ft.lFrame.selectedIndex}function wa(i){ft.lFrame.selectedIndex=i}function Vn(){const i=ft.lFrame;return pa(i.tView,i.selectedIndex)}function Ea(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:y,ngAfterViewInit:w,ngAfterViewChecked:C,ngOnDestroy:S}=f;m&&(i.contentHooks||(i.contentHooks=[])).push(-a,m),y&&((i.contentHooks||(i.contentHooks=[])).push(a,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,y)),w&&(i.viewHooks||(i.viewHooks=[])).push(-a,w),C&&((i.viewHooks||(i.viewHooks=[])).push(a,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,C)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Xc(i,s,a){eu(i,s,3,a)}function rc(i,s,a,l){(3&i[2])===a&&eu(i,s,a,l)}function Zn(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function eu(i,s,a,l){const f=null!=l?l:-1,m=s.length-1;let y=0;for(let w=void 0!==l?65535&i[18]:0;w<m;w++)if("number"==typeof s[w+1]){if(y=s[w],null!=l&&y>=l)break}else s[w]<0&&(i[18]+=65536),(y<f||-1==f)&&(tu(i,a,s,w),i[18]=(4294901760&i[18])+w+2),w++}function tu(i,s,a,l){const d=a[l]<0,f=a[l+1],y=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(y)}finally{}}}else try{f.call(y)}finally{}}class ic{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function pi(i,s,a){const l=fn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const m=a[d++],y=a[d++],w=a[d++];l?i.setAttribute(s,y,w,m):s.setAttributeNS(m,y,w)}else{const m=f,y=a[++d];fd(m)?l&&i.setProperty(s,m,y):l?i.setAttribute(s,m,y):s.setAttribute(m,y),d++}}return d}function sf(i){return 3===i||4===i||6===i}function fd(i){return 64===i.charCodeAt(0)}function js(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||pd(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function pd(i,s,a,l,d){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const y=i[f++];if("number"==typeof y){if(y===s){m=-1;break}if(y>s){m=f-1;break}}}for(;f<i.length;){const y=i[f];if("number"==typeof y)break;if(y===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function zn(i){return-1!==i}function $s(i){return 32767&i}function wo(i,s){let a=function(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let al=!0;function Ia(i){const s=al;return al=i,s}let Kt=0;function Ut(i,s){const a=Ws(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,ki(l.data,i),ki(s,null),ki(l.blueprint,null));const d=Jt(i,s),f=i.injectorIndex;if(zn(d)){const m=$s(d),y=wo(d,s),w=y[1].data;for(let C=0;C<8;C++)s[f+C]=y[m+C]|w[m+C]}return s[f+8]=d,f}function ki(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Ws(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Jt(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){const f=d[1],m=f.type;if(l=2===m?f.declTNode:1===m?d[6]:null,null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Zs(i,s,a){!function(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(hr)&&(l=a[hr]),null==l&&(l=a[hr]=Kt++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function cl(i,s,a){if(a&tt.Optional)return i;Ie(s,"NodeInjector")}function Bn(i,s,a,l){if(a&tt.Optional&&void 0===l&&(l=null),0==(a&(tt.Self|tt.Host))){const d=i[9],f=kt(void 0);try{return d?d.get(s,l,a&tt.Optional):an(s,l,a&tt.Optional)}finally{kt(f)}}return cl(l,s,a)}function Sa(i,s,a,l=tt.Default,d){if(null!==i){const f=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(hr)?i[hr]:void 0;return"number"==typeof s?s>=0?255&s:oc:s}(a);if("function"==typeof f){if(!sl(s,i,l))return l&tt.Host?cl(d,a,l):Bn(s,a,l,d);try{const m=f(l);if(null!=m||l&tt.Optional)return m;Ie(a)}finally{ec()}}else if("number"==typeof f){let m=null,y=Ws(i,s),w=-1,C=l&tt.Host?s[16][6]:null;for((-1===y||l&tt.SkipSelf)&&(w=-1===y?Jt(i,s):s[y+8],-1!==w&&Co(l,!1)?(m=s[1],y=$s(w),s=wo(w,s)):y=-1);-1!==y;){const S=s[1];if(Eo(f,y,S.data)){const O=af(y,s,a,m,l,C);if(O!==zs)return O}w=s[y+8],-1!==w&&Co(l,s[1].data[y+8]===C)&&Eo(f,y,s)?(m=S,y=$s(w),s=wo(w,s)):y=-1}}}return Bn(s,a,l,d)}const zs={};function oc(){return new Ks(rn(),Ne())}function af(i,s,a,l,d,f){const m=s[1],y=m.data[i+8],S=qs(y,m,a,null==l?zi(y)&&al:l!=m&&0!=(3&y.type),d&tt.Host&&f===y);return null!==S?ul(s,m,S,y):zs}function qs(i,s,a,l,d){const f=i.providerIndexes,m=s.data,y=1048575&f,w=i.directiveStart,S=f>>20,x=d?y+S:i.directiveEnd;for(let G=l?y:y+S;G<x;G++){const W=m[G];if(G<w&&a===W||G>=w&&W.type===a)return G}if(d){const G=m[w];if(G&&qt(G)&&G.type===a)return w}return null}function ul(i,s,a,l){let d=i[a];const f=s.data;if(function(i){return i instanceof ic}(d)){const m=d;m.resolving&&function(i,s){throw new he("200",`Circular dependency in DI detected for ${i}`)}(Ge(f[a]));const y=Ia(m.canSeeViewProviders);m.resolving=!0;const w=m.injectImpl?kt(m.injectImpl):null;sl(i,l,tt.Default);try{d=i[a]=m.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const m=cd(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,m),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,m)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==w&&kt(w),Ia(y),m.resolving=!1,ec()}}return d}function Eo(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function Co(i,s){return!(i&tt.Self||i&tt.Host&&s)}class Ks{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return Sa(this._tNode,this._lView,s,l,a)}}function Do(i){return Mt(()=>{const s=i.prototype.constructor,a=s[Vt]||Pr(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[Vt]||Pr(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Pr(i){return Ae(i)?()=>{const s=Pr(ce(i));return s&&s()}:Bs(i)}function Aa(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(sf(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(rn(),i)}const ze="__parameters__";function ps(i,s,a){return Mt(()=>{const l=function(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const m=new d(...f);return y.annotation=m,y;function y(w,C,S){const O=w.hasOwnProperty(ze)?w[ze]:Object.defineProperty(w,ze,{value:[]})[ze];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),w}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Yt{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Tn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Na=new Yt("AnalyzeForEntryComponents");function Kn(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Kn(l,s)):s!==i&&s.push(l)}return s}function nr(i,s){i.forEach(a=>Array.isArray(a)?nr(a,s):s(a))}function dl(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Ma(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Qs(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}function Qn(i,s,a){let l=mi(i,s);return l>=0?i[1|l]=a:(l=~l,function(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Oa(i,s){const a=mi(i,s);if(a>=0)return i[1|a]}function mi(i,s){return function(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),m=i[f<<a];if(s===m)return f<<a;m>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const de={},Me="__NG_DI_FLAG__",$e="ngTempTokenPath",Bt=/\n/gm,ar="__source",Er=$({provide:String,useValue:$});let Qe;function Fi(i){const s=Qe;return Qe=i,s}function Xs(i,s=tt.Default){if(void 0===Qe)throw new Error("inject() must be called from an injection context");return null===Qe?an(i,void 0,s):Qe.get(i,s&tt.Optional?null:void 0,s)}function pn(i,s=tt.Default){return(ot||Xs)(ce(i),s)}function gs(i){const s=[];for(let a=0;a<i.length;a++){const l=ce(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let d,f=tt.Default;for(let m=0;m<l.length;m++){const y=l[m],w=eo(y);"number"==typeof w?-1===w?d=y.token:f|=w:d=y}s.push(pn(d,f))}else s.push(pn(l))}return s}function fl(i,s){return i[Me]=s,i.prototype[Me]=s,i}function eo(i){return i[Me]}function vd(i,s,a,l){const d=i[$e];throw s[ar]&&d.unshift(s[ar]),i.message=function(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let d=V(s);if(Array.isArray(s))d=s.map(V).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let y=s[m];f.push(m+":"+("string"==typeof y?JSON.stringify(y):V(y)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Bt,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[$e]=null,i}const xa=fl(ps("Inject",i=>({token:i})),-1),ka=fl(ps("Optional"),8),lr=fl(ps("SkipSelf"),4);let _l;function Mo(i){var s;return(null==(s=function(){if(void 0===_l&&(_l=null,j.trustedTypes))try{_l=j.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return _l}())?void 0:s.createHTML(i))||i}class Ro{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class B0 extends Ro{getTypeName(){return"HTML"}}class mf extends Ro{getTypeName(){return"Style"}}class Cd extends Ro{getTypeName(){return"Script"}}class jg extends Ro{getTypeName(){return"URL"}}class U0 extends Ro{getTypeName(){return"ResourceURL"}}function ms(i){return i instanceof Ro?i.changingThisBreaksApplicationSecurity:i}function cc(i,s){const a=_f(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function _f(i){return i instanceof Ro&&i.getTypeName()||null}function yf(i){return new B0(i)}function bf(i){return new mf(i)}function vf(i){return new Cd(i)}function Oo(i){return new jg(i)}function hu(i){return new U0(i)}function Po(i){const s=new G0(i);return function(){try{return!!(new window.DOMParser).parseFromString(Mo(""),"text/html")}catch(i){return!1}}()?new $g(s):s}class $g{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Mo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch(a){return null}}}class G0{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Mo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Mo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const m=a.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Wg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Dd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function uc(i){return(i=String(i)).match(Wg)||i.match(Dd)?i:"unsafe:"+i}function dc(i){return(i=String(i)).split(",").map(s=>uc(s.trim())).join(", ")}function _s(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function yl(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const hc=_s("area,br,col,hr,img,wbr"),zg=_s("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fc=_s("rp,rt"),bl=yl(hc,yl(zg,_s("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),yl(fc,_s("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),yl(fc,zg)),xo=_s("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fu=_s("srcset"),Id=yl(xo,fu,_s("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),_s("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wf=_s("script,style,template");class j0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!bl.hasOwnProperty(a))return this.sanitizedSomething=!0,!wf.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),m=f.name,y=m.toLowerCase();if(!Id.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let w=f.value;xo[y]&&(w=uc(w)),fu[y]&&(w=dc(w)),this.buf.push(" ",m,'="',Ef(w),'"')}return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();bl.hasOwnProperty(a)&&!hc.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Ef(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const Sd=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$0=/([^\#-~ |!])/g;function Ef(i){return i.replace(/&/g,"&amp;").replace(Sd,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace($0,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let vl;function Cf(i,s){let a=null;try{vl=vl||Po(i);let l=s?String(s):"";a=vl.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=vl.getInertBodyElement(l)}while(l!==f);return Mo((new j0).sanitizeChildren(pu(a)||a))}finally{if(a){const l=pu(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function pu(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var On=(()=>((On=On||{})[On.NONE=0]="NONE",On[On.HTML=1]="HTML",On[On.STYLE=2]="STYLE",On[On.SCRIPT=3]="SCRIPT",On[On.URL=4]="URL",On[On.RESOURCE_URL=5]="RESOURCE_URL",On))();function Df(i){const s=function(){const i=Ne();return i&&i[12]}();return s?s.sanitize(On.URL,i)||"":cc(i,"URL")?ms(i):uc(oe(i))}const to="__ngContext__";function rr(i,s){i[to]=s}function gc(i){const s=function(i){return i[to]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Lo(i){return i.ngOriginalError}function mc(i,...s){i.error(...s)}class El{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=this._findContext(s),d=(i=s)&&i.ngErrorLogger||mc;var i;d(this._console,"ERROR",s),a&&d(this._console,"ORIGINAL ERROR",a),l&&d(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Lo(s)):null}_findOriginalError(s){let a=s&&Lo(s);for(;a&&Lo(a);)a=Lo(a);return a||null}}const Y0=/^>|^->|<!--|-->|--!>|<!-$/g,b=/(<|>)/;const ye=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function cn(i){return i instanceof Function?i():i}var ys=(()=>((ys=ys||{})[ys.Important=1]="Important",ys[ys.DashCase=2]="DashCase",ys))();let xd;function _u(i,s){return xd(i,s)}function Cl(i){const s=i[3];return hi(s)?s[3]:s}function yu(i){return P1(i[13])}function Ff(i){return P1(i[4])}function P1(i){for(;null!==i&&!hi(i);)i=i[4];return i}function bu(i,s,a,l,d){if(null!=l){let f,m=!1;hi(l)?f=l:Mr(l)&&(m=!0,l=l[0]);const y=En(l);0===i&&null!==a?null==d?G1(s,a,y):vu(s,a,y,d||null,!0):1===i&&null!==a?vu(s,a,y,d||null,!0):2===i?iy(s,y,m):3===i&&s.destroyNode(y),null!=f&&function(i,s,a,l,d){const f=a[7];f!==En(a)&&bu(s,i,l,f,d);for(let y=10;y<a.length;y++){const w=a[y];wu(w[1],w,i,s,l,f)}}(s,i,f,a,d)}}function x1(i,s){return fn(i)?i.createText(s):i.createTextNode(s)}function Q0(i,s,a){fn(i)?i.setValue(s,a):s.textContent=a}function k1(i,s){return i.createComment(function(i){return i.replace(Y0,s=>s.replace(b,"\u200b$1\u200b"))}(s))}function nm(i,s,a){return fn(i)?i.createElement(s,a):null===a?i.createElement(s):i.createElementNS(a,s)}function rm(i,s){const a=i[9],l=a.indexOf(s),d=s[3];1024&s[2]&&(s[2]&=-1025,Us(d,-1)),a.splice(l,1)}function J0(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&rm(d,l),s>0&&(i[a-1][4]=l[4]);const f=Ma(i,10+s);!function(i,s){wu(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const m=f[19];null!==m&&m.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function L1(i,s){if(!(256&s[2])){const a=s[11];fn(a)&&a.destroyNode&&wu(i,s,a,3,null,null),function(i){let s=i[13];if(!s)return X0(i[1],i);for(;s;){let a=null;if(Mr(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Mr(s)&&X0(s[1],s),s=s[3];null===s&&(s=i),Mr(s)&&X0(s[1],s),a=s&&s[4]}s=a}}(s)}}function X0(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof ic)){const f=a[l+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const y=d[f[m]],w=f[m+1];try{w.call(y)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+1],y="function"==typeof m?m(s):En(s[m]),w=l[d=a[f+2]],C=a[f+3];"boolean"==typeof C?y.removeEventListener(a[f],w,C):C>=0?l[d=C]():l[d=-C].unsubscribe(),f+=2}else{const m=l[d=a[f+1]];a[f].call(m)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&fn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&hi(s[3])){a!==s[3]&&rm(a,s);const l=s[19];null!==l&&l.detachView(i)}}}function B1(i,s,a){return U1(i,s.parent,a)}function U1(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Mn.None||d===Mn.Emulated)return null}return Tr(l,a)}function vu(i,s,a,l,d){fn(i)?i.insertBefore(s,a,l,d):s.insertBefore(a,l,d)}function G1(i,s,a){fn(i)?i.appendChild(s,a):s.appendChild(a)}function ty(i,s,a,l,d){null!==l?vu(i,s,a,l,d):G1(i,s,a)}function im(i,s){return fn(i)?i.parentNode(s):s.parentNode}function H1(i,s,a){return sm(i,s,a)}function Lf(i,s,a){return 40&i.type?Tr(i,a):null}let Fd,sm=Lf;function Tu(i,s){sm=i,Fd=s}function Vf(i,s,a,l){const d=B1(i,l,s),f=s[11],y=H1(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let w=0;w<a.length;w++)ty(f,d,a[w],y,!1);else ty(f,d,a,y,!1);void 0!==Fd&&Fd(f,l,s,a,d)}function om(i,s){if(null!==s){const a=s.type;if(3&a)return Tr(s,i);if(4&a)return ry(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return om(i,l);{const d=i[s.index];return hi(d)?ry(-1,d):En(d)}}if(32&a)return _u(s,i)()||En(i[s.index]);{const l=ny(i,s);return null!==l?Array.isArray(l)?l[0]:om(Cl(i[16]),l):om(i,s.next)}}return null}function ny(i,s){return null!==s?i[16][6].projection[s.projection]:null}function ry(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return om(l,d)}return s[7]}function iy(i,s,a){const l=im(i,s);l&&function(i,s,a,l){fn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}function am(i,s,a,l,d,f,m){for(;null!=a;){const y=l[a.index],w=a.type;if(m&&0===s&&(y&&rr(En(y),l),a.flags|=4),64!=(64&a.flags))if(8&w)am(i,s,a.child,l,d,f,!1),bu(s,i,d,y,f);else if(32&w){const C=_u(a,l);let S;for(;S=C();)bu(s,i,d,S,f);bu(s,i,d,y,f)}else 16&w?_c(i,s,l,a,d,f):bu(s,i,d,y,f);a=m?a.projectionNext:a.next}}function wu(i,s,a,l,d,f){am(a,l,i.firstChild,s,d,f,!1)}function _c(i,s,a,l,d,f){const m=a[16],w=m[6].projection[l.projection];if(Array.isArray(w))for(let C=0;C<w.length;C++)bu(s,i,d,w[C],f);else am(i,s,w,m[3],d,f,!0)}function $1(i,s,a){fn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function Bf(i,s,a){fn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function W1(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}const Z1="ng-template";function z1(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==W1(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function q1(i){return 4===i.type&&i.value!==Z1}function KD(i,s,a){return s===(4!==i.type||a?i.value:Z1)}function YD(i,s,a){let l=4;const d=i.attrs||[],f=function(i){for(let s=0;s<i.length;s++)if(sf(i[s]))return s;return i.length}(d);let m=!1;for(let y=0;y<s.length;y++){const w=s[y];if("number"!=typeof w){if(!m)if(4&l){if(l=2|1&l,""!==w&&!KD(i,w,a)||""===w&&1===s.length){if(bs(l))return!1;m=!0}}else{const C=8&l?w:s[++y];if(8&l&&null!==i.attrs){if(!z1(i.attrs,C,a)){if(bs(l))return!1;m=!0}continue}const O=QD(8&l?"class":w,d,q1(i),a);if(-1===O){if(bs(l))return!1;m=!0;continue}if(""!==C){let x;x=O>f?"":d[O+1].toLowerCase();const G=8&l?x:null;if(G&&-1!==W1(G,C,0)||2&l&&C!==x){if(bs(l))return!1;m=!0}}}}else{if(!m&&!bs(l)&&!bs(w))return!1;if(m&&bs(w))continue;m=!1,l=w|1&l}}return bs(l)||m}function bs(i){return 0==(1&i)}function QD(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const m=s[d];if(m===i)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let y=s[++d];for(;"string"==typeof y;)y=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function K1(i,s,a=!1){for(let l=0;l<s.length;l++)if(YD(i,s[l],a))return!0;return!1}function lm(i,s){e:for(let a=0;a<s.length;a++){const l=s[a];if(i.length===l.length){for(let d=0;d<i.length;d++)if(i[d]!==l[d])continue e;return!0}}return!1}function cm(i,s){return i?":not("+s.trim()+")":s}function XD(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&l){const y=i[++a];d+="["+m+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?d+="."+m:4&l&&(d+=" "+m);else""!==d&&!bs(m)&&(s+=cm(f,d),d=""),l=m,f=f||!bs(l);a++}return""!==d&&(s+=cm(f,d)),s}const _t={};function um(i){Uf(It(),Ne(),Or()+i,ya())}function Uf(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Xc(s,f,a)}else{const f=i.preOrderHooks;null!==f&&rc(s,f,0,a)}wa(a)}function Vo(i,s){return i<<17|s<<2}function no(i){return i>>17&32767}function dm(i){return 2|i}function Dl(i){return(131068&i)>>2}function sy(i,s){return-131069&i|s<<2}function Gf(i){return 1|i}function gy(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const m=i.data[f];Jl(d),m.contentQueries(2,s[f],f)}}}function Du(i,s,a,l,d,f,m,y,w,C){const S=s.blueprint.slice();return S[0]=d,S[2]=140|l,ma(S),S[3]=S[15]=i,S[8]=a,S[10]=m||i&&i[10],S[11]=y||i&&i[11],S[12]=w||i&&i[12]||null,S[9]=C||i&&i[9]||null,S[6]=f,S[16]=2==s.type?i[16]:S,S}function Vd(i,s,a,l,d){let f=i.data[s];if(null===f)f=my(i,s,a,l,d),ft.lFrame.inI18n&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const m=Ji();f.injectorIndex=null===m?-1:m.injectorIndex}return fi(f,!0),f}function my(i,s,a,l,d){const f=qc(),m=Yl(),w=i.data[s]=function(i,s,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=w),null!==f&&(m?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w)),w}function Bd(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function jf(i,s,a){ol(s);try{const l=i.viewQuery;null!==l&&pT(1,l,a);const d=i.template;null!==d&&$f(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&gy(i,s),i.staticViewQueries&&pT(2,i.viewQuery,a);const f=i.components;null!==f&&function(i,s){for(let a=0;a<s.length;a++)sP(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ta()}}function Ud(i,s,a,l){const d=s[2];if(256==(256&d))return;ol(s);const f=ya();try{ma(s),function(i){ft.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&$f(i,s,a,2,l);const m=3==(3&d);if(!f)if(m){const C=i.preOrderCheckHooks;null!==C&&Xc(s,C,null)}else{const C=i.preOrderHooks;null!==C&&rc(s,C,0,null),Zn(s,0)}if(function(i){for(let s=yu(i);null!==s;s=Ff(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(1024&d[2])&&Us(f,1),d[2]|=1024}}}(s),function(i){for(let s=yu(i);null!==s;s=Ff(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];Zc(l)&&Ud(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&gy(i,s),!f)if(m){const C=i.contentCheckHooks;null!==C&&Xc(s,C)}else{const C=i.contentHooks;null!==C&&rc(s,C,1),Zn(s,1)}!function(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)wa(~d);else{const f=d,m=a[++l],y=a[++l];hd(m,f),y(2,s[f])}}}finally{wa(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let a=0;a<s.length;a++)wc(i,s[a])}(s,y);const w=i.viewQuery;if(null!==w&&pT(2,w,l),!f)if(m){const C=i.viewCheckHooks;null!==C&&Xc(s,C)}else{const C=i.viewHooks;null!==C&&rc(s,C,2),Zn(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),f||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Us(s[3],-1))}finally{Ta()}}function pI(i,s,a,l){const d=s[10],f=!ya(),m=ga(s);try{f&&!m&&d.begin&&d.begin(),m&&jf(i,s,l),Ud(i,s,a,l)}finally{f&&!m&&d.end&&d.end()}}function $f(i,s,a,l,d){const f=Or(),m=2&l;try{wa(-1),m&&s.length>20&&Uf(i,s,20,ya()),a(l,d)}finally{wa(f)}}function Sl(i,s,a){!nl()||(function(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ut(a,s),rr(l,s);const m=a.initialInputs;for(let y=d;y<f;y++){const w=i.data[y],C=qt(w);C&&hT(s,a,w);const S=ul(s,i,y,a);rr(S,s),null!==m&&Ey(0,y-d,S,w,0,m),C&&(Rr(a.index,s)[8]=S)}}(i,s,a,Tr(a,s)),128==(128&a.flags)&&function(i,s,a){const l=a.directiveStart,d=a.directiveEnd,m=a.index,y=ft.lFrame.currentDirectiveIndex;try{wa(m);for(let w=l;w<d;w++){const C=i.data[w],S=s[w];Kc(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&by(C,S)}}finally{wa(-1),Kc(y)}}(i,s,a))}function ns(i,s,a=Tr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const m=l[f+1],y=-1===m?a(s,i):i[m];i[d++]=y}}}function nT(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Wf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Wf(i,s,a,l,d,f,m,y,w,C){const S=20+l,O=S+d,x=function(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:_t);return a}(S,O),G="function"==typeof C?C():C;return x[1]={type:i,blueprint:x,template:a,queries:null,viewQuery:y,declTNode:s,data:x.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:w,consts:G,incompleteFirstPass:!1}}function Al(i,s,a,l){const d=EI(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&CI(i).push(l,d.length-1))}function ni(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function ro(i,s,a,l,d,f,m,y){const w=Tr(s,a);let S,C=s.inputs;!y&&null!=C&&(S=C[l])?(Wd(i,a,S,l,d),zi(s)&&function(i,s){const a=Rr(s,i);16&a[2]||(a[2]|=64)}(a,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=m?m(d,s.value||"",l):d,fn(f)?f.setProperty(w,l,d):fd(l)||(w.setProperty?w.setProperty(l,d):w[l]=d))}function gm(i,s,a,l){let d=!1;if(nl()){const f=function(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const m=l[f];K1(a,m.selectors,!1)&&(d||(d=[]),Zs(Ut(a,s),i,m.type),qt(m)?(vy(i,a),d.unshift(m)):d.push(m))}return d}(i,s,a),m=null===l?null:{"":-1};if(null!==f){d=!0,wy(a,i.data.length,f.length);for(let S=0;S<f.length;S++){const O=f[S];O.providersResolver&&O.providersResolver(O)}let y=!1,w=!1,C=Bd(i,s,f.length,null);for(let S=0;S<f.length;S++){const O=f[S];a.mergedAttrs=js(a.mergedAttrs,O.hostAttrs),mm(i,a,s,C,O),Ty(C,O,m),null!==O.contentQueries&&(a.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=128);const x=O.type.prototype;!y&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(x.ngOnChanges||x.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),C++}!function(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,m=[];let y=null,w=null;for(let C=s.directiveStart;C<l;C++){const S=d[C],O=S.inputs,x=null===f||q1(s)?null:ym(O,f);m.push(x),y=ni(O,C,y),w=ni(S.outputs,C,w)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=y,s.outputs=w}(i,a)}m&&function(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new he("301",`Export of name '${s[d+1]}' not found!`);l.push(s[d],f)}}}(a,l,m)}return a.mergedAttrs=js(a.mergedAttrs,a.attrs),d}function Hd(i,s,a,l,d,f){const m=f.hostBindings;if(m){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~s.index;(function(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(l,d,m)}}function by(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function vy(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function Ty(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;qt(s)&&(a[""]=i)}}function wy(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function mm(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=Bs(d.type)),m=new ic(f,qt(d),null);i.blueprint[l]=m,a[l]=m,Hd(i,s,0,l,Bd(i,a,d.hostVars,_t),d)}function hT(i,s,a){const l=Tr(s,i),d=nT(a),f=i[10],m=jd(i,Du(i,d,null,a.onPush?64:16,l,s,f,f.createRenderer(l,a),null,null));i[s.index]=m}function _m(i,s,a,l,d,f,m){if(null==f)fn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const y=null==m?oe(f):m(f,l||"",d);fn(i)?i.setAttribute(s,d,y,a):a?s.setAttributeNS(a,d,y):s.setAttribute(d,y)}}function Ey(i,s,a,l,d,f){const m=f[s];if(null!==m){const y=l.setInput;for(let w=0;w<m.length;){const C=m[w++],S=m[w++],O=m[w++];null!==y?l.setInput(a,O,C,S):a[S]=O}}}function ym(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function Cy(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function wc(i,s){const a=Rr(s,i);if(Zc(a)){const l=a[1];80&a[2]?Ud(l,a,l.template,a[8]):a[5]>0&&bm(a)}}function bm(i){for(let l=yu(i);null!==l;l=Ff(l))for(let d=10;d<l.length;d++){const f=l[d];if(1024&f[2]){const m=f[1];Ud(m,f,m.template,f[8])}else f[5]>0&&bm(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Rr(a[l],i);Zc(d)&&d[5]>0&&bm(d)}}function sP(i,s){const a=Rr(s,i),l=a[1];(function(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),jf(l,a,a[8])}function jd(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Zf(i){for(;i;){i[2]|=64;const s=Cl(i);if(Gc(i)&&!s)return i;i=s}return null}function Iy(i,s,a){const l=s[10];l.begin&&l.begin();try{Ud(i,s,i.template,a)}catch(d){throw zf(s,d),d}finally{l.end&&l.end()}}function vm(i){!function(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=gc(a),d=l[1];pI(d,l,d.template,a)}}(i[8])}function pT(i,s,a){Jl(0),s(i,a)}const lP=(()=>Promise.resolve(null))();function EI(i){return i[7]||(i[7]=[])}function CI(i){return i.cleanup||(i.cleanup=[])}function zf(i,s){const a=i[9],l=a?a.get(El,null):null;l&&l.handleError(s)}function Wd(i,s,a,l,d){for(let f=0;f<a.length;){const m=a[f++],y=a[f++],w=s[m],C=i.data[m];null!==C.setInput?C.setInput(w,d,l,y):w[y]=d}}function io(i,s,a){const l=hs(s,i);Q0(i[11],l,a)}function Iu(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const y=s[m];"number"==typeof y?f=y:1==f?d=Y(d,y):2==f&&(l=Y(l,y+": "+s[++m]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}const qf=new Yt("INJECTOR",-1);class mT{get(s,a=de){if(a===de){const l=new Error(`NullInjectorError: No provider for ${V(s)}!`);throw l.name="NullInjectorError",l}return a}}const Zd=new Yt("Set Injector scope."),Kf={},_T={};let Ny;function II(){return void 0===Ny&&(Ny=new mT),Ny}function Tm(i,s=null,a=null,l){return new AI(i,a,s||II(),l)}class AI{constructor(s,a,l,d=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];a&&nr(a,y=>this.processProvider(y,s,a)),nr([s],y=>this.processInjectorType(y,[],f)),this.records.set(qf,Va(void 0,this));const m=this.records.get(Zd);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof s?null:V(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,a=de,l=tt.Default){this.assertNotDestroyed();const d=Fi(this),f=kt(void 0);try{if(!(l&tt.SkipSelf)){let y=this.records.get(s);if(void 0===y){const w=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Yt)&&Nn(s);y=w&&this.injectableDefInScope(w)?Va(wm(s),Kf):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&tt.Self?II():this.parent).get(s,a=l&tt.Optional&&a===de?null:a)}catch(m){if("NullInjectorError"===m.name){if((m[$e]=m[$e]||[]).unshift(V(s)),d)throw m;return vd(m,s,"R3InjectorError",this.source)}throw m}finally{kt(f),Fi(d)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,d)=>s.push(V(d))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,a,l){if(!(s=ce(s)))return!1;let d=Ri(s);const f=null==d&&s.ngModule||void 0,m=void 0===f?s:f,y=-1!==l.indexOf(m);if(void 0!==f&&(d=Ri(f)),null==d)return!1;if(null!=d.imports&&!y){let S;l.push(m);try{nr(d.imports,O=>{this.processInjectorType(O,a,l)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:x,providers:G}=S[O];nr(G,W=>this.processProvider(W,x,G||Q))}}this.injectorDefTypes.add(m);const w=Bs(m)||(()=>new m);this.records.set(m,Va(w,Kf));const C=d.providers;if(null!=C&&!y){const S=s;nr(C,O=>this.processProvider(O,S,C))}return void 0!==f&&void 0!==s.providers}processProvider(s,a,l){let d=qd(s=ce(s))?s:ce(s&&s.provide);const f=(i=s,Yf(i)?Va(void 0,i.useValue):Va(NI(i),Kf));var i;if(qd(s)||!0!==s.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=Va(void 0,Kf,!0),m.factory=()=>gs(m.multi),this.records.set(d,m)),d=s,m.multi.push(s)}this.records.set(d,f)}hydrate(s,a){return a.value===Kf&&(a.value=_T,a.value=a.factory()),"object"==typeof a.value&&a.value&&null!==(i=a.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(a.value),a.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const a=ce(s.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function wm(i){const s=Nn(i),a=null!==s?s.factory:Bs(i);if(null!==a)return a;if(i instanceof Yt)throw new Error(`Token ${V(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=Qs(s,"?");throw new Error(`Can't resolve all parameters for ${V(i)}: (${l.join(", ")}).`)}const a=function(i){const s=i&&(i[ci]||i[jn]);if(s){const a=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Error("unreachable")}function NI(i,s,a){let l;if(qd(i)){const d=ce(i);return Bs(d)||wm(d)}if(Yf(i))l=()=>ce(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...gs(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>pn(ce(i.useExisting));else{const d=ce(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Bs(d)||wm(d);l=()=>new d(...gs(i.deps))}return l}function Va(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function Yf(i){return null!==i&&"object"==typeof i&&Er in i}function qd(i){return"function"==typeof i}const Jf=function(i,s,a){return function(i,s=null,a=null,l){const d=Tm(i,s,a,l);return d._resolveInjectorDefTypes(),d}({name:a},s,i,a)};let Sn=(()=>{class i{static create(a,l){return Array.isArray(a)?Jf(a,l,""):Jf(a.providers,a.parent,a.name||"")}}return i.THROW_IF_NOT_FOUND=de,i.NULL=new mT,i.\u0275prov=Tn({token:i,providedIn:"any",factory:()=>pn(qf)}),i.__NG_ELEMENT_ID__=-1,i})();function PT(i,s){Ea(gc(i)[1],rn())}function Uy(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(qt(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");d=s.\u0275dir}if(d){if(a){l.push(d);const m=i;m.inputs=tp(i.inputs),m.declaredInputs=tp(i.declaredInputs),m.outputs=tp(i.outputs);const y=d.hostBindings;y&&FT(i,y);const w=d.viewQuery,C=d.contentQueries;if(w&&xT(i,w),C&&kT(i,C),L(i.inputs,d.inputs),L(i.declaredInputs,d.declaredInputs),L(i.outputs,d.outputs),qt(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const y=f[m];y&&y.ngInherit&&y(i),y===Uy&&(a=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=js(d.hostAttrs,a=js(a,d.hostAttrs))}}(l)}function tp(i){return i===De?{}:i===Q?[]:i}function xT(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function kT(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function FT(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let Am=null;function Ml(){if(!Am){const i=j.Symbol;if(i&&i.iterator)Am=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Am=l)}}}return Am}function np(i){return!!Hy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Ml()in i)}function Hy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Go(i,s,a){return i[s]=a}function ri(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Nu(i,s,a,l){const d=ri(i,s,a);return ri(i,s+1,l)||d}function Nm(i,s,a,l){const d=Ne();return ri(d,Gs(),s)&&(It(),function(i,s,a,l,d,f){const m=Tr(i,s);_m(s[11],m,f,i.value,a,l,d)}(Vn(),d,i,s,a,l)),Nm}function op(i,s,a,l){return ri(i,Gs(),a)?s+oe(a)+l:_t}function zT(i,s,a,l,d,f,m,y){const w=Ne(),C=It(),S=i+20,O=C.firstCreatePass?function(i,s,a,l,d,f,m,y,w){const C=s.consts,S=Vd(s,i,4,m||null,Jr(C,y));gm(s,a,S,Jr(C,w)),Ea(s,S);const O=S.tViews=Wf(2,S,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,C);return null!==s.queries&&(s.queries.template(s,S),O.queries=s.queries.embeddedTView(S)),S}(S,C,w,s,a,l,d,f,m):C.data[S];fi(O,!1);const x=w[11].createComment("");Vf(C,w,x,O),rr(x,w),jd(w,w[S]=Cy(x,w,x,O)),_o(O)&&Sl(C,w,O),null!=m&&ns(w,O,y)}function qT(i){return Qi(ft.lFrame.contextLView,20+i)}function hp(i,s=tt.Default){const a=Ne();return null===a?pn(i,s):Sa(rn(),a,ce(i),s)}function sw(){throw new Error("invalid")}function Zy(i,s,a){const l=Ne();return ri(l,Gs(),s)&&ro(It(),Vn(),l,i,s,l[11],a,!1),Zy}function fp(i,s,a,l,d){const m=d?"class":"style";Wd(i,a,s.inputs[m],m,l)}function zy(i,s,a,l){const d=Ne(),f=It(),m=20+i,y=d[11],w=d[m]=nm(y,s,ft.lFrame.currentNamespace),C=f.firstCreatePass?function(i,s,a,l,d,f,m){const y=s.consts,C=Vd(s,i,2,d,Jr(y,f));return gm(s,a,C,Jr(y,m)),null!==C.attrs&&Iu(C,C.attrs,!1),null!==C.mergedAttrs&&Iu(C,C.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,C),C}(m,f,d,0,s,a,l):f.data[m];fi(C,!0);const S=C.mergedAttrs;null!==S&&pi(y,w,S);const O=C.classes;null!==O&&Bf(y,w,O);const x=C.styles;null!==x&&$1(y,w,x),64!=(64&C.flags)&&Vf(f,d,w,C),0===ft.lFrame.elementDepthCount&&rr(w,d),ft.lFrame.elementDepthCount++,_o(C)&&(Sl(f,d,C),function(i,s,a){if(Uc(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const m=i.data[f];m.contentQueries&&m.contentQueries(1,a[f],f)}}}(f,C,d)),null!==l&&ns(d,C)}function qy(){let i=rn();Yl()?_a():(i=i.parent,fi(i,!1));const s=i;ft.lFrame.elementDepthCount--;const a=It();a.firstCreatePass&&(Ea(a,i),Uc(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&fp(a,s,Ne(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&fp(a,s,Ne(),s.stylesWithoutHost,!1)}function ow(i,s,a,l){zy(i,s,a,l),qy()}function cw(){return Ne()}function Ky(i){return!!i&&"function"==typeof i.then}function uw(i){return!!i&&"function"==typeof i.subscribe}const dw=uw;function hw(i,s,a,l){const d=Ne(),f=It(),m=rn();return function(i,s,a,l,d,f,m,y){const w=_o(l),S=i.firstCreatePass&&CI(i),O=s[8],x=EI(s);let G=!0;if(3&l.type||y){const ee=Tr(l,s),xe=y?y(ee):ee,we=x.length,nt=y?qe=>y(En(qe[l.index])):l.index;if(fn(a)){let qe=null;if(!y&&w&&(qe=function(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===a&&d[f+1]===l){const y=s[7],w=d[f+2];return y.length>w?y[w]:null}"string"==typeof m&&(f+=2)}return null}(i,s,d,l.index)),null!==qe)(qe.__ngLastListenerFn__||qe).__ngNextListenerFn__=f,qe.__ngLastListenerFn__=f,G=!1;else{f=fw(l,s,O,f,!1);const Ft=a.listen(xe,d,f);x.push(f,Ft),S&&S.push(d,nt,we,we+1)}}else f=fw(l,s,O,f,!0),xe.addEventListener(d,f,m),x.push(f),S&&S.push(d,nt,we,m)}else f=fw(l,s,O,f,!1);const W=l.outputs;let ue;if(G&&null!==W&&(ue=W[d])){const ee=ue.length;if(ee)for(let xe=0;xe<ee;xe+=2){const Sr=s[ue[xe]][ue[xe+1]].subscribe(f),co=x.length;x.push(f,Sr),S&&S.push(d,l.index,co,-(co+1))}}}(f,d,d[11],m,i,s,!!a,l),hw}function hS(i,s,a,l){try{return!1!==a(l)}catch(d){return zf(i,d),!1}}function fw(i,s,a,l,d){return function f(m){if(m===Function)return l;const y=2&i.flags?Rr(i.index,s):s;0==(32&s[2])&&Zf(y);let w=hS(s,0,l,m),C=f.__ngNextListenerFn__;for(;C;)w=hS(s,0,C,m)&&w,C=C.__ngNextListenerFn__;return d&&!1===w&&(m.preventDefault(),m.returnValue=!1),w}}function fS(i=1){return function(i){return(ft.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,ft.lFrame.contextLView))[8]}(i)}function AP(i,s){let a=null;const l=function(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(0==(1&a))return s[a+1]}return null}(i);for(let d=0;d<s.length;d++){const f=s[d];if("*"!==f){if(null===l?K1(i,f,!0):lm(l,f))return d}else a=d}return a}function pS(i){const s=Ne()[16][6];if(!s.projection){const l=s.projection=Qs(i?i.length:1,null),d=l.slice();let f=s.child;for(;null!==f;){const m=i?AP(f,i):0;null!==m&&(d[m]?d[m].projectionNext=f:l[m]=f,d[m]=f),f=f.next}}}function pw(i,s=0,a){const l=Ne(),d=It(),f=Vd(d,20+i,16,null,a||null);null===f.projection&&(f.projection=s),_a(),64!=(64&f.flags)&&function(i,s,a){_c(s[11],0,s,a,B1(i,a,s),H1(a.parent||s[6],a,s))}(d,l,f)}function Yy(i,s,a){return Qy(i,"",s,"",a),Yy}function Qy(i,s,a,l,d){const f=Ne(),m=op(f,s,a,l);return m!==_t&&ro(It(),Vn(),f,i,m,f[11],d,!1),Qy}function bw(i,s,a,l,d){const f=i[a+1],m=null===s;let y=l?no(f):Dl(f),w=!1;for(;0!==y&&(!1===w||m);){const S=i[y+1];bS(i[y],s)&&(w=!0,i[y+1]=l?Gf(S):dm(S)),y=l?no(S):Dl(S)}w&&(i[a+1]=l?dm(f):Gf(f))}function bS(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&mi(i,s)>=0}const xr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function pp(i){return i.substring(xr.key,xr.keyEnd)}function Jy(i,s){const a=xr.textEnd;return a===s?-1:(s=xr.keyEnd=function(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,xr.key=s,a),Xd(i,s,a))}function Xd(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function vw(i,s,a){return An(i,s,a,!1),vw}function Xy(i,s){return An(i,s,null,!0),Xy}function Tw(i){!function(i,s,a,l){const d=It(),f=wr(2);d.firstUpdatePass&&eb(d,null,f,l);const m=Ne();if(a!==_t&&ri(m,f,a)){const y=d.data[Or()];if(Cw(y,l)&&!ww(d,f)){let w=l?y.classesWithoutHost:y.stylesWithoutHost;null!==w&&(a=Y(w,a||"")),fp(d,y,m,a,l)}else!function(i,s,a,l,d,f,m,y){d===_t&&(d=Q);let w=0,C=0,S=0<d.length?d[0]:null,O=0<f.length?f[0]:null;for(;null!==S||null!==O;){const x=w<d.length?d[w+1]:void 0,G=C<f.length?f[C+1]:void 0;let ue,W=null;S===O?(w+=2,C+=2,x!==G&&(W=O,ue=G)):null===O||null!==S&&S<O?(w+=2,W=S):(C+=2,W=O,ue=G),null!==W&&IS(i,s,a,l,W,ue,m,y),S=w<d.length?d[w]:null,O=C<f.length?f[C]:null}}(d,y,m,m[11],m[f+1],m[f+1]=function(i,s,a){if(null==a||""===a)return Q;const l=[],d=ms(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,f)}}(Qn,rs,i,!0)}function rs(i,s){for(let a=function(i){return function(i){xr.key=0,xr.keyEnd=0,xr.value=0,xr.valueEnd=0,xr.textEnd=i.length}(i),Jy(i,Xd(i,0,xr.textEnd))}(s);a>=0;a=Jy(s,a))Qn(i,pp(s),!0)}function An(i,s,a,l){const d=Ne(),f=It(),m=wr(2);f.firstUpdatePass&&eb(f,i,m,l),s!==_t&&ri(d,m,s)&&IS(f,f.data[Or()],d,d[11],i,d[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=V(ms(i)))),i}(s,a),l,m)}function ww(i,s){return s>=i.expandoStartIndex}function eb(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[Or()],m=ww(i,a);Cw(f,l)&&null===s&&!m&&(s=!1),s=function(i,s,a,l){const d=function(i){const s=ft.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Ou(a=Pm(null,i,s,a,l),s.attrs,l),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==d)if(a=Pm(d,i,s,a,l),null===f){let w=function(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==Dl(l))return i[no(l)]}(i,s,l);void 0!==w&&Array.isArray(w)&&(w=Pm(null,i,s,w[1],l),w=Ou(w,s.attrs,l),function(i,s,a,l){i[no(a?s.classBindings:s.styleBindings)]=l}(i,s,l,w))}else f=function(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=Ou(l,i[f].hostAttrs,a);return Ou(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function(i,s,a,l,d,f){let m=f?s.classBindings:s.styleBindings,y=no(m),w=Dl(m);i[l]=a;let S,C=!1;if(Array.isArray(a)){const O=a;S=O[1],(null===S||mi(O,S)>0)&&(C=!0)}else S=a;if(d)if(0!==w){const x=no(i[y+1]);i[l+1]=Vo(x,y),0!==x&&(i[x+1]=sy(i[x+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=Vo(y,0),0!==y&&(i[y+1]=sy(i[y+1],l)),y=l;else i[l+1]=Vo(w,0),0===y?y=l:i[w+1]=sy(i[w+1],l),w=l;C&&(i[l+1]=dm(i[l+1])),bw(i,S,l,!0),bw(i,S,l,!1),function(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&mi(f,s)>=0&&(a[l+1]=Gf(a[l+1]))}(s,S,i,l,f),m=Vo(y,w),f?s.classBindings=m:s.styleBindings=m}(d,f,s,a,m,l)}}function Pm(i,s,a,l,d){let f=null;const m=a.directiveEnd;let y=a.directiveStylingLast;for(-1===y?y=a.directiveStart:y++;y<m&&(f=s[y],l=Ou(l,f.hostAttrs,d),f!==i);)y++;return null!==i&&(a.directiveStylingLast=y),l}function Ou(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Qn(i,m,!!a||s[++f]))}return void 0===i?null:i}function IS(i,s,a,l,d,f,m,y){if(!(3&s.type))return;const w=i.data,C=w[y+1];Fm(function(i){return 1==(1&i)}(C)?tb(w,s,a,d,Dl(C),m):void 0)||(Fm(f)||function(i){return 2==(2&i)}(C)&&(f=tb(w,null,a,d,y,m)),function(i,s,a,l,d){const f=fn(i);if(s)d?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let m=-1===l.indexOf("-")?void 0:ys.DashCase;if(null==d)f?i.removeStyle(a,l,m):a.style.removeProperty(l);else{const y="string"==typeof d&&d.endsWith("!important");y&&(d=d.slice(0,-10),m|=ys.Important),f?i.setStyle(a,l,d,m):a.style.setProperty(l,d,y?"important":"")}}}(l,m,hs(Or(),a),d,f))}function tb(i,s,a,l,d,f){const m=null===s;let y;for(;d>0;){const w=i[d],C=Array.isArray(w),S=C?w[1]:w,O=null===S;let x=a[d+1];x===_t&&(x=O?Q:void 0);let G=O?Oa(x,l):S===l?x:void 0;if(C&&!Fm(G)&&(G=Oa(w,l)),Fm(G)&&(y=G,m))return y;const W=i[d+1];d=m?no(W):Dl(W)}if(null!==s){let w=f?s.residualClasses:s.residualStyles;null!=w&&(y=Oa(w,l))}return y}function Fm(i){return void 0!==i}function Cw(i,s){return 0!=(i.flags&(s?16:32))}function nb(i,s=""){const a=Ne(),l=It(),d=i+20,f=l.firstCreatePass?Vd(l,d,1,s,null):l.data[d],m=a[d]=x1(a[11],s);Vf(l,a,m,f),fi(f,!1)}function mp(i){return Lm("",i,""),mp}function Lm(i,s,a){const l=Ne(),d=op(l,i,s,a);return d!==_t&&io(l,Or(),d),Lm}function rb(i,s,a,l,d){const f=Ne(),m=function(i,s,a,l,d,f){const y=Nu(i,xi(),a,d);return wr(2),y?s+oe(a)+l+oe(d)+f:_t}(f,i,s,a,l,d);return m!==_t&&io(f,Or(),m),rb}function Mw(i,s,a){const l=Ne();return ri(l,Gs(),s)&&ro(It(),Vn(),l,i,s,l[11],a,!0),Mw}const th=void 0;var HS=["en",[["a","p"],["AM","PM"],th],[["AM","PM"],th,th],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],th,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],th,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",th,"{1} 'at' {0}",th],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let _p={};function lb(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=$S(s);if(a)return a;const l=s.split("-")[0];if(a=$S(l),a)return a;if("en"===l)return HS;throw new Error(`Missing locale data for the locale "${i}".`)}function jS(i){return lb(i)[gt.PluralCase]}function $S(i){return i in _p||(_p[i]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[i]),_p[i]}var gt=(()=>((gt=gt||{})[gt.LocaleId=0]="LocaleId",gt[gt.DayPeriodsFormat=1]="DayPeriodsFormat",gt[gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",gt[gt.DaysFormat=3]="DaysFormat",gt[gt.DaysStandalone=4]="DaysStandalone",gt[gt.MonthsFormat=5]="MonthsFormat",gt[gt.MonthsStandalone=6]="MonthsStandalone",gt[gt.Eras=7]="Eras",gt[gt.FirstDayOfWeek=8]="FirstDayOfWeek",gt[gt.WeekendRange=9]="WeekendRange",gt[gt.DateFormat=10]="DateFormat",gt[gt.TimeFormat=11]="TimeFormat",gt[gt.DateTimeFormat=12]="DateTimeFormat",gt[gt.NumberSymbols=13]="NumberSymbols",gt[gt.NumberFormats=14]="NumberFormats",gt[gt.CurrencyCode=15]="CurrencyCode",gt[gt.CurrencySymbol=16]="CurrencySymbol",gt[gt.CurrencyName=17]="CurrencyName",gt[gt.Currencies=18]="Currencies",gt[gt.Directionality=19]="Directionality",gt[gt.PluralCase=20]="PluralCase",gt[gt.ExtraData=21]="ExtraData",gt))();const jP=["zero","one","two","few","many"],cb="en-US",ub={marker:"element"},db={marker:"ICU"};var ur=(()=>((ur=ur||{})[ur.SHIFT=2]="SHIFT",ur[ur.APPEND_EAGERLY=1]="APPEND_EAGERLY",ur[ur.COMMENT=2]="COMMENT",ur))();let yp=cb;function Ow(i,s,a){const l=s.insertBeforeIndex,d=Array.isArray(l)?l[0]:l;return null===d?Lf(i,0,a):En(a[d])}function Pw(i,s,a,l,d){const f=s.insertBeforeIndex;if(Array.isArray(f)){let m=l,y=null;if(3&s.type||(y=m,m=d),null!==m&&0==(2&s.flags))for(let w=1;w<f.length;w++)vu(i,m,a[f[w]],y,!1)}}function hb(i,s){if(i.push(s),i.length>1)for(let a=i.length-2;a>=0;a--){const l=i[a];fb(l)||zS(l,s)&&null===qS(l)&&KS(l,s.index)}}function fb(i){return!(64&i.type)}function zS(i,s){return fb(s)||i.index>s.index}function qS(i){const s=i.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function KS(i,s){const a=i.insertBeforeIndex;Array.isArray(a)?a[0]=s:(Tu(Ow,Pw),i.insertBeforeIndex=s)}function nh(i,s){const a=i.data[s];return null===a||"string"==typeof a?null:a.hasOwnProperty("currentCaseLViewIndex")?a:a.value}function ZP(i,s,a){const l=my(i,a,64,null,null);return hb(s,l),l}function pb(i,s){const a=s[i.currentCaseLViewIndex];return null===a?a:a<0?~a:a}function xw(i){return i>>>17}function QS(i){return(131070&i)>>>1}let Um=0,Gm=0;function XS(i,s,a,l){const d=a[11];let m,f=null;for(let y=0;y<s.length;y++){const w=s[y];if("string"==typeof w){const C=s[++y];null===a[C]&&(a[C]=x1(d,w))}else if("number"==typeof w)switch(1&w){case 0:const C=xw(w);let S,O;if(null===f&&(f=C,m=im(d,l)),C===f?(S=l,O=m):(S=null,O=En(a[C])),null!==O){const ue=QS(w);vu(d,O,a[ue],S,!1);const xe=nh(i,ue);if(null!==xe&&"object"==typeof xe){const we=pb(xe,a);null!==we&&XS(i,xe.create[we],a,a[xe.anchorIdx])}}break;case 1:const G=s[++y],W=s[++y];_m(d,hs(w>>>1,a),null,null,G,W,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${w}"`)}else switch(w){case db:const C=s[++y],S=s[++y];null===a[S]&&rr(a[S]=k1(d,C),a);break;case ub:const O=s[++y],x=s[++y];null===a[x]&&rr(a[x]=nm(d,O,null),a)}}}function eA(i,s,a,l,d){for(let f=0;f<a.length;f++){const m=a[f],y=a[++f];if(m&d){let w="";for(let C=f+1;C<=f+y;C++){const S=a[C];if("string"==typeof S)w+=S;else if("number"==typeof S)if(S<0)w+=oe(s[l-S]);else{const O=S>>>2;switch(3&S){case 1:const x=a[++C],G=a[++C],W=i.data[O];"string"==typeof W?_m(s[11],s[O],null,W,x,w,G):ro(i,W,s,x,w,s[11],G,!1);break;case 0:const ue=s[O];null!==ue&&Q0(s[11],ue,w);break;case 2:QP(i,nh(i,O),s,w);break;case 3:tA(i,nh(i,O),l,s)}}}}else{const w=a[f+1];if(w>0&&3==(3&w)){const S=nh(i,w>>>2);s[S.currentCaseLViewIndex]<0&&tA(i,S,l,s)}}f+=y}}function tA(i,s,a,l){let d=l[s.currentCaseLViewIndex];if(null!==d){let f=Um;d<0&&(d=l[s.currentCaseLViewIndex]=~d,f=-1),eA(i,l,s.update[d],a,f)}}function QP(i,s,a,l){const d=function(i,s){let a=i.cases.indexOf(s);if(-1===a)switch(i.type){case 1:{const l=function(i,s){const a=jS(s)(parseInt(i,10)),l=jP[a];return void 0!==l?l:"other"}(s,yp);a=i.cases.indexOf(l),-1===a&&"other"!==l&&(a=i.cases.indexOf("other"));break}case 0:a=i.cases.indexOf("other")}return-1===a?null:a}(s,l);if(pb(s,a)!==d&&(nA(i,s,a),a[s.currentCaseLViewIndex]=null===d?null:~d,null!==d)){const m=a[s.anchorIdx];m&&XS(i,s.create[d],a,m)}}function nA(i,s,a){let l=pb(s,a);if(null!==l){const d=s.remove[l];for(let f=0;f<d.length;f++){const m=d[f];if(m>0){const y=hs(m,a);null!==y&&iy(a[11],y)}else nA(i,nh(i,~m),a)}}}function rA(){const i=[];let a,l,s=-1;function f(y,w){s=0;const C=pb(y,w);l=null!==C?y.remove[C]:Q}function m(){if(s<l.length){const y=l[s++];return y>0?a[y]:(i.push(s,l),f(a[1].data[~y],a),m())}return 0===i.length?null:(l=i.pop(),s=i.pop(),m())}return function(y,w){for(a=w;i.length;)i.pop();return f(y.value,w),m}}const gb=/\ufffd(\d+):?\d*\ufffd/gi,XP=/\ufffd(\d+)\ufffd/,oo=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,mb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Fw=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,_b=/\uE500/g;function Hm(i,s,a,l,d,f,m){const y=Bd(i,l,1,null);let w=y<<ur.SHIFT,C=Ji();s===C&&(C=null),null===C&&(w|=ur.APPEND_EAGERLY),m&&(w|=ur.COMMENT,function(i){void 0===xd&&(xd=i())}(rA)),d.push(w,null===f?"":f);const S=my(i,y,m?32:1,null===f?"":f,null);hb(a,S);const O=S.index;return fi(S,!1),null!==C&&s!==C&&function(i,s){let a=i.insertBeforeIndex;null===a?(Tu(Ow,Pw),a=i.insertBeforeIndex=[null,s]):(function(i,s,a){i!=s&&At(a,i,s,"==")}(Array.isArray(a),!0,"Expecting array here"),a.push(s))}(C,O),S}function ex(i,s,a,l,d,f,m){const y=m.match(gb),w=Hm(i,s,a,f,l,y?null:m,!1);y&&Pl(d,m,w.index,null,0,null)}function Pl(i,s,a,l,d,f){const m=i.length,y=m+1;i.push(null,null);const w=m+2,C=s.split(gb);let S=0;for(let O=0;O<C.length;O++){const x=C[O];if(1&O){const G=d+parseInt(x,10);i.push(-1-G),S|=Vw(G)}else""!==x&&i.push(x)}return i.push(a<<2|(l?1:0)),l&&i.push(l,f),i[m]=S,i[y]=i.length-w,S}function Vw(i){return 1<<Math.min(i,31)}function Bw(i){let s,f,a="",l=0,d=!1;for(;null!==(s=mb.exec(i));)d?s[0]===`\ufffd/*${f}\ufffd`&&(l=s.index,d=!1):(a+=i.substring(l,s.index+s[0].length),f=s[1],d=!0);return a+=i.substr(l),a}function xu(i,s,a,l,d,f){let m=0;const y={type:d.type,currentCaseLViewIndex:Bd(i,s,1,null),anchorIdx:f,cases:[],create:[],remove:[],update:[]};(function(i,s,a){i.push(Vw(s.mainBinding),2,-1-s.mainBinding,a<<2|2)})(a,d,f),function(i,s,a){const l=i.data[s];null===l?i.data[s]=a:l.value=a}(i,f,y);const w=d.values;for(let C=0;C<w.length;C++){const S=w[C],O=[];for(let x=0;x<S.length;x++){const G=S[x];if("string"!=typeof G){const W=O.push(G)-1;S[x]=`\x3c!--\ufffd${W}\ufffd--\x3e`}}m=jm(i,y,s,a,l,d.cases[C],S.join(""),O)|m}m&&function(i,s,a){i.push(s,1,a<<2|3)}(a,m,f)}function ku(i){const s=[],a=[];let l=1,d=0;const f=Fu(i=i.replace(oo,function(m,y,w){return l="select"===w?0:1,d=parseInt(y.substr(1),10),""}));for(let m=0;m<f.length;){let y=f[m++].trim();1===l&&(y=y.replace(/\s*(?:=)?(\w+)\s*/,"$1")),y.length&&s.push(y);const w=Fu(f[m++]);s.length>a.length&&a.push(w)}return{type:l,mainBinding:d,cases:s,values:a}}function Fu(i){if(!i)return[];let s=0;const a=[],l=[],d=/[{}]/g;let f;for(d.lastIndex=0;f=d.exec(i);){const y=f.index;if("}"==f[0]){if(a.pop(),0==a.length){const w=i.substring(s,y);oo.test(w)?l.push(ku(w)):l.push(w),s=y+1}}else{if(0==a.length){const w=i.substring(s,y);l.push(w),s=y+1}a.push("{")}}const m=i.substring(s);return l.push(m),l}function jm(i,s,a,l,d,f,m,y){const w=[],C=[],S=[];s.cases.push(f),s.create.push(w),s.remove.push(C),s.update.push(S);const x=Po(ha()).getInertBodyElement(m),G=pu(x)||x;return G?yb(i,s,a,l,w,C,S,G,d,y,0):0}function yb(i,s,a,l,d,f,m,y,w,C,S){let O=0,x=y.firstChild;for(;x;){const G=Bd(i,a,1,null);switch(x.nodeType){case Node.ELEMENT_NODE:const W=x,ue=W.tagName.toLowerCase();if(bl.hasOwnProperty(ue)){Gw(d,ub,ue,w,G),i.data[G]=ue;const nt=W.attributes;for(let qe=0;qe<nt.length;qe++){const Ft=nt.item(qe),Sr=Ft.name.toLowerCase();Ft.value.match(gb)?Id.hasOwnProperty(Sr)&&Pl(m,Ft.value,G,Ft.name,0,xo[Sr]?uc:fu[Sr]?dc:null):nx(d,G,Ft)}O=yb(i,s,a,l,d,f,m,x,G,C,S+1)|O,vp(f,G,S)}break;case Node.TEXT_NODE:const ee=x.textContent||"",xe=ee.match(gb);Gw(d,null,xe?"":ee,w,G),vp(f,G,S),xe&&(O=Pl(m,ee,G,null,0,null)|O);break;case Node.COMMENT_NODE:const we=XP.exec(x.textContent||"");if(we){const qe=C[parseInt(we[1],10)];Gw(d,db,"",w,G),xu(i,a,l,w,qe,G),Lu(f,G,S)}}x=x.nextSibling}return O}function vp(i,s,a){0===a&&i.push(s)}function Lu(i,s,a){0===a&&(i.push(~s),i.push(s))}function Gw(i,s,a,l,d){null!==s&&i.push(s),i.push(a,d,function(i,s,a){return 0|s<<17|a<<1}(0,l,d))}function nx(i,s,a){i.push(s<<1|1,a.name,a.value)}function uA(i,s,a=-1){const l=It(),d=Ne(),f=20+i,m=Jr(l.consts,s),y=Ji();l.firstCreatePass&&function(i,s,a,l,d,f){const m=Ji(),y=[],w=[],C=[[]];d=function(i,s){if(function(i){return-1===i}(s))return Bw(i);{const a=i.indexOf(`:${s}\ufffd`)+2+s.toString().length,l=i.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Bw(i.substring(a,l))}}(d,f);const S=function(i){return i.replace(_b," ")}(d).split(Fw);for(let O=0;O<S.length;O++){let x=S[O];if(0==(1&O)){const G=Fu(x);for(let W=0;W<G.length;W++){let ue=G[W];if(0==(1&W)){const ee=ue;""!==ee&&ex(i,m,C[0],y,w,a,ee)}else{const ee=ue;if("object"!=typeof ee)throw new Error(`Unable to parse ICU expression in "${d}" message.`);xu(i,a,w,s,ee,Hm(i,m,C[0],a,y,"",!0).index)}}}else{const G=47===x.charCodeAt(0),ue=(x.charCodeAt(G?1:0),20+Number.parseInt(x.substring(G?2:1)));if(G)C.shift(),fi(Ji(),!1);else{const ee=ZP(i,C[0],ue);C.unshift([]),fi(ee,!0)}}}i.data[l]={create:y,update:w}}(l,null===y?0:y.index,d,f,m,a);const w=l.data[f],S=U1(l,y===d[6]?null:y,d);(function(i,s,a,l){const d=i[11];for(let f=0;f<s.length;f++){const m=s[f++],y=s[f],w=(m&ur.COMMENT)===ur.COMMENT,C=(m&ur.APPEND_EAGERLY)===ur.APPEND_EAGERLY,S=m>>>ur.SHIFT;let O=i[S];null===O&&(O=i[S]=w?d.createComment(y):x1(d,y)),C&&null!==a&&vu(d,a,O,l,!1)}})(d,w.create,S,y&&8&y.type?d[y.index]:null),bo(!0)}function hA(i,s,a){uA(i,s,a),bo(!1)}function bb(i){return function(i){i&&(Um|=1<<Math.min(Gm,31)),Gm++}(ri(Ne(),Gs(),i)),bb}function $m(i){!function(i,s,a){if(Gm>0){const l=i.data[a];eA(i,s,Array.isArray(l)?l:l.update,xi()-Gm-1,Um)}Um=0,Gm=0}(It(),Ne(),i+20)}function rh(i,s,a,l,d){if(i=ce(i),Array.isArray(i))for(let f=0;f<i.length;f++)rh(i[f],s,a,l,d);else{const f=It(),m=Ne();let y=qd(i)?i:ce(i.provide),w=NI(i);const C=rn(),S=1048575&C.providerIndexes,O=C.directiveStart,x=C.providerIndexes>>20;if(qd(i)||!i.multi){const G=new ic(w,d,hp),W=Ww(y,s,d?S:S+x,O);-1===W?(Zs(Ut(C,m),f,y),Wm(f,i,s.length),s.push(y),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(G),m.push(G)):(a[W]=G,m[W]=G)}else{const G=Ww(y,s,S+x,O),W=Ww(y,s,S,S+x),ue=G>=0&&a[G],ee=W>=0&&a[W];if(d&&!ee||!d&&!ue){Zs(Ut(C,m),f,y);const xe=function(i,s,a,l,d){const f=new ic(i,a,hp);return f.multi=[],f.index=s,f.componentProviders=0,ih(f,d,l&&!a),f}(d?Vu:Zw,a.length,d,l,w);!d&&ee&&(a[W].providerFactory=xe),Wm(f,i,s.length,0),s.push(y),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(xe),m.push(xe)}else Wm(f,i,G>-1?G:W,ih(a[d?W:G],w,!d&&l));!d&&l&&ee&&a[W].componentProviders++}}}function Wm(i,s,a,l){const d=qd(s);if(d||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const y=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const w=y.indexOf(a);-1===w?y.push(a,[l,m]):y[w+1].push(l,m)}else y.push(a,m)}}}function ih(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function Ww(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function Zw(i,s,a,l){return zw(this.multi,[])}function Vu(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,y=ul(a,a[1],this.providerFactory.index,l);f=y.slice(0,m),zw(d,f);for(let w=m;w<y.length;w++)f.push(y[w])}else f=[],zw(d,f);return f}function zw(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function vb(i,s=[]){return a=>{a.providersResolver=(l,d)=>function(i,s,a){const l=It();if(l.firstCreatePass){const d=qt(i);rh(a,l.data,l.blueprint,d,!0),rh(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class sh{}const Kw="ngComponent";class gA{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${V(i)}. Did you add it to @NgModule.entryComponents?`);return s[Kw]=i,s}(s)}}let oh=(()=>{class i{}return i.NULL=new gA,i})();function zm(...i){}function ah(i,s){return new $o(Tr(i,s))}const Tb=function(){return ah(rn(),Ne())};let $o=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Tb,i})();function Xw(i){return i instanceof $o?i.nativeElement:i}class lh{}let mA=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>yA(),i})();const yA=function(){const i=Ne(),a=Rr(rn().index,i);return function(i){return i[11]}(Mr(a)?a:i)};let qm=(()=>{class i{}return i.\u0275prov=Tn({token:i,providedIn:"root",factory:()=>null}),i})();class wb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Km=new wb("13.0.2"),Bu={};function Tp(i,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(En(f)),hi(f))for(let y=10;y<f.length;y++){const w=f[y],C=w[1].firstChild;null!==C&&Tp(w[1],w,C,l)}const m=a.type;if(8&m)Tp(i,s,a.child,l);else if(32&m){const y=_u(a,s);let w;for(;w=y();)l.push(w)}else if(16&m){const y=ny(s,a);if(Array.isArray(y))l.push(...y);else{const w=Cl(s[16]);Tp(w[1],w,y,l,!0)}}a=d?a.projectionNext:a.next}return l}class wp{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Tp(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(hi(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(J0(s,l),Ma(a,l))}this._attachedToViewContainer=!1}L1(this._lView[1],this._lView)}onDestroy(s){Al(this._lView[1],this._lView,null,s)}markForCheck(){Zf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Iy(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,a){ba(!0);try{Iy(i,s,a)}finally{ba(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,wu(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class gx extends wp{constructor(s){super(s),this._view=s}detectChanges(){vm(this._view)}checkNoChanges(){!function(i){ba(!0);try{vm(i)}finally{ba(!1)}}(this._view)}get context(){return null}}class Eb extends oh{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=dn(s);return new Ym(a,this.ngModule)}}function nE(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}const vA=new Yt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ye});class Ym extends sh{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=s.selectors.map(XD).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return nE(this.componentDef.inputs)}get outputs(){return nE(this.componentDef.outputs)}create(s,a,l,d){const f=(d=d||this.ngModule)?function(i,s){return{get:(a,l,d)=>{const f=i.get(a,Bu,d);return f!==Bu||l===Bu?f:s.get(a,l,d)}}}(s,d.injector):s,m=f.get(lh,us),y=f.get(qm,null),w=m.createRenderer(null,this.componentDef),C=this.componentDef.selectors[0][0]||"div",S=l?function(i,s,a){if(fn(i))return i.selectRootElement(s,a===Mn.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(w,l,this.componentDef.encapsulation):nm(m.createRenderer(null,this.componentDef),C,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(C)),O=this.componentDef.onPush?576:528,x=function(i,s){return{components:[],scheduler:i||ye,clean:lP,playerHandler:s||null,flags:0}}(),G=Wf(0,null,null,1,0,null,null,null,null,null),W=Du(null,G,x,O,null,null,m,w,y,f);let ue,ee;ol(W);try{const xe=function(i,s,a,l,d,f){const m=a[1];a[20]=i;const w=Vd(m,20,2,"#host",null),C=w.mergedAttrs=s.hostAttrs;null!==C&&(Iu(w,C,!0),null!==i&&(pi(d,i,C),null!==w.classes&&Bf(d,i,w.classes),null!==w.styles&&$1(d,i,w.styles)));const S=l.createRenderer(i,s),O=Du(a,nT(s),null,s.onPush?64:16,a[20],w,l,S,f||null,null);return m.firstCreatePass&&(Zs(Ut(w,a),m,s.type),vy(m,w),wy(w,a.length,1)),jd(a,O),a[20]=O}(S,this.componentDef,W,m,w);if(S)if(l)pi(w,S,["ng-version",Km.full]);else{const{attrs:we,classes:nt}=function(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!bs(d))break;d=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);we&&pi(w,S,we),nt&&nt.length>0&&Bf(w,S,nt.join(" "))}if(ee=pa(G,20),void 0!==a){const we=ee.projection=[];for(let nt=0;nt<this.ngContentSelectors.length;nt++){const qe=a[nt];we.push(null!=qe?Array.from(qe):null)}}ue=function(i,s,a,l,d){const f=a[1],m=function(i,s,a){const l=rn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),mm(i,l,s,Bd(i,s,1,null),a));const d=ul(s,i,l.directiveStart,l);rr(d,s);const f=Tr(l,s);return f&&rr(f,s),d}(f,a,s);if(l.components.push(m),i[8]=m,d&&d.forEach(w=>w(m,s)),s.contentQueries){const w=rn();s.contentQueries(1,m,w.directiveStart)}const y=rn();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(wa(y.index),Hd(a[1],y,0,y.directiveStart,y.directiveEnd,s),by(s,m)),m}(xe,this.componentDef,W,x,[PT]),jf(G,W,null)}finally{Ta()}return new mx(this.componentType,ue,ah(ee,W),W,ee)}}class mx extends class{}{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new gx(d),this.componentType=s}get injector(){return new Ks(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class ch{}class EA{}const Uu=new Map;class IA extends ch{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Eb(this);const l=qr(s);this._bootstrapComponents=cn(l.bootstrap),this._r3Injector=Tm(s,a,[{provide:ch,useValue:this},{provide:oh,useValue:this.componentFactoryResolver}],V(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,a=Sn.THROW_IF_NOT_FOUND,l=tt.Default){return s===Sn||s===ch||s===qf?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class sE extends EA{constructor(s){super(),this.moduleType=s,null!==qr(s)&&function(i){const s=new Set;!function a(l){const d=qr(l,!0),f=d.id;null!==f&&(function(i,s,a){if(s&&s!==a)throw new Error(`Duplicate module registered for ${i} - ${V(s)} vs ${V(s.name)}`)}(f,Uu.get(f),l),Uu.set(f,l));const m=cn(d.imports);for(const y of m)s.has(y)||(s.add(y),a(y))}(i)}(s)}create(s){return new IA(this.moduleType,s)}}function AA(i,s,a,l){return MA(Ne(),Ln(),i,s,a,l)}function NA(i,s,a,l,d){return function(i,s,a,l,d,f,m){const y=s+a;return Nu(i,y,d,f)?Go(i,y+2,m?l.call(m,d,f):l(d,f)):Qm(i,y+2)}(Ne(),Ln(),i,s,a,l,d)}function oE(i,s,a,l,d,f){return function(i,s,a,l,d,f,m,y){const w=s+a;return function(i,s,a,l,d){const f=Nu(i,s,a,l);return ri(i,s+2,d)||f}(i,w,d,f,m)?Go(i,w+3,y?l.call(y,d,f,m):l(d,f,m)):Qm(i,w+3)}(Ne(),Ln(),i,s,a,l,d,f)}function Qm(i,s){const a=i[s];return a===_t?void 0:a}function MA(i,s,a,l,d,f){const m=s+a;return ri(i,m,d)?Go(i,m+1,f?l.call(f,d):l(d)):Qm(i,m+1)}function xA(i,s){const a=It();let l;const d=i+20;a.firstCreatePass?(l=function(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}throw new he("302",`The pipe '${i}' could not be found!`)}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=Bs(l.type)),m=kt(hp);try{const y=Ia(!1),w=f();return Ia(y),function(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,Ne(),d,w),w}finally{kt(m)}}function kA(i,s,a){const l=i+20,d=Ne(),f=Qi(d,l);return function(i,s){return i[1].data[s].pure}(d,l)?MA(d,Ln(),s,f.transform,a,f):f.transform(a)}function cE(i){return s=>{setTimeout(i,void 0,s)}}const xl=class extends u.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){var w,C,S;let d=s,f=a||(()=>null),m=l;if(s&&"object"==typeof s){const O=s;d=null==(w=O.next)?void 0:w.bind(O),f=null==(C=O.error)?void 0:C.bind(O),m=null==(S=O.complete)?void 0:S.bind(O)}this.__isAsync&&(f=cE(f),d&&(d=cE(d)),m&&(m=cE(m)));const y=super.subscribe({next:d,error:f,complete:m});return s instanceof X.w&&s.add(y),y}};function uE(){return this._results[Ml()]()}class Xm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Ml(),l=Xm.prototype;l[a]||(l[a]=uE)}get changes(){return this._changes||(this._changes=new xl)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Kn(s);(this._changesDetected=!function(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;const VA=function(){return Cp(rn(),Ne())};let Ep=(()=>{class i{}return i.__NG_ELEMENT_ID__=VA,i})();const BA=Ep,UA=class extends BA{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s){const a=this._declarationTContainer.tViews,l=Du(this._declarationLView,a,s,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(a)),jf(a,l,s),new wp(l)}};function Cp(i,s){return 4&i.type?new UA(s,i,ah(i,s)):null}const jA=function(){return fE(rn(),Ne())};let e_=(()=>{class i{}return i.__NG_ELEMENT_ID__=jA,i})();const WA=e_,dE=class extends WA{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new Ks(this._hostTNode,this._hostLView)}get parentInjector(){const s=Jt(this._hostTNode,this._hostLView);if(zn(s)){const a=wo(s,this._hostLView),l=$s(s);return new Ks(a[1].data[l+8],a)}return new Ks(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=hE(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){const d=s.createEmbeddedView(a||{});return this.insert(d,l),d}createComponent(s,a,l,d,f){const m=s&&!("function"==typeof s);let y;if(m)y=a;else{const O=a||{};y=O.index,l=O.injector,d=O.projectableNodes,f=O.ngModuleRef}const w=m?s:new Ym(dn(s)),C=l||this.parentInjector;if(!f&&null==w.ngModule&&C){const O=C.get(ch,null);O&&(f=O)}const S=w.create(C,d,void 0,f);return this.insert(S.hostView,y),S}insert(s,a){const l=s._lView,d=l[1];if(hi(l[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const O=l[3],x=new dE(O,O[6],O[3]);x.detach(x.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;!function(i,s,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=s),l<f-10?(s[4]=a[d],dl(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const m=s[17];null!==m&&a!==m&&function(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(m,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(d,l,m,f);const y=ry(f,m),w=l[11],C=im(w,m[7]);return null!==C&&function(i,s,a,l,d,f){l[0]=d,l[6]=s,wu(i,l,a,1,d,f)}(d,m[6],w,l,C,y),s.attachToViewContainerRef(),dl(Db(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=hE(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=J0(this._lContainer,a);l&&(Ma(Db(this._lContainer),a),L1(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=J0(this._lContainer,a);return l&&null!=Ma(Db(this._lContainer),a)?new wp(l):null}_adjustIndex(s,a=0){return null==s?this.length+a:s}};function hE(i){return i[8]}function Db(i){return i[8]||(i[8]=[])}function fE(i,s){let a;const l=s[i.index];if(hi(l))a=l;else{let d;if(8&i.type)d=En(l);else{const f=s[11];d=f.createComment("");const m=Tr(i,s);vu(f,im(f,m),d,function(i,s){return fn(i)?i.nextSibling(s):s.nextSibling}(f,m),!1)}s[i.index]=a=Cy(l,s,d,i),jd(s,a)}return new dE(a,i,s)}class Ib{constructor(s){this.queryList=s,this.matches=null}clone(){return new Ib(this.queryList)}setDirty(){this.queryList.setDirty()}}class Pn{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const m=a.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new Pn(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==yE(s,a).matches&&this.queries[a].setDirty()}}class Ti{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class t_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new t_(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ve{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new ve(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,Wo(a,f)),this.matchTNodeWithReadOption(s,a,qs(a,s,f,!1,!1))}else l===Ep?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,qs(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===$o||d===e_||d===Ep&&4&a.type)this.addMatch(a.index,-2);else{const f=qs(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Wo(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function uh(i,s,a,l){return-1===a?function(i,s){return 11&i.type?ah(i,s):4&i.type?Cp(i,s):null}(s,i):-2===a?function(i,s,a){return a===$o?ah(s,i):a===Ep?Cp(s,i):a===e_?fE(s,i):void 0}(i,s,l):ul(i,i[1],a,s)}function Sb(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,m=a.matches,y=[];for(let w=0;w<m.length;w+=2){const C=m[w];y.push(C<0?null:uh(s,f[C],m[w+1],a.metadata.read))}d.matches=y}return d.matches}function Ab(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const m=Sb(i,s,d,a);for(let y=0;y<f.length;y+=2){const w=f[y];if(w>0)l.push(m[y/2]);else{const C=f[y+1],S=s[-w];for(let O=10;O<S.length;O++){const x=S[O];x[17]===x[3]&&Ab(x[1],x,C,l)}if(null!==S[9]){const O=S[9];for(let x=0;x<O.length;x++){const G=O[x];Ab(G[1],G,C,l)}}}}}return l}function gE(i){const s=Ne(),a=It(),l=Ql();Jl(l+1);const d=yE(a,l);if(i.dirty&&ga(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?Ab(a,s,l,[]):Sb(a,s,d,l);i.reset(f,Xw),i.notifyOnChanges()}return!0}return!1}function Xn(i,s,a){const l=It();l.firstCreatePass&&(_E(l,new Ti(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),mE(l,Ne(),s)}function n_(i,s,a,l){const d=It();if(d.firstCreatePass){const f=rn();_E(d,new Ti(s,a,l),f.index),function(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}mE(d,Ne(),a)}function r_(){return i=Ne(),s=Ql(),i[19].queries[s].queryList;var i,s}function mE(i,s,a){const l=new Xm(4==(4&a));Al(i,s,l,l.destroy),null===s[19]&&(s[19]=new Pn),s[19].queries.push(new Ib(l))}function _E(i,s,a){null===i.queries&&(i.queries=new t_),i.queries.track(new ve(s,a))}function yE(i,s){return i.queries.getByIndex(s)}function bE(i,s){return Cp(i,s)}const fh=new Yt("Application Initializer");let ph=(()=>{class i{constructor(a){this.appInits=a,this.resolve=zm,this.reject=zm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Ky(f))a.push(f);else if(dw(f)){const m=new Promise((y,w)=>{f.subscribe({complete:y,error:w})});a.push(m)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(pn(fh,8))},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();const FE=new Yt("AppId"),p_={provide:FE,useFactory:function(){return`${g_()}${g_()}${g_()}`},deps:[]};function g_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LE=new Yt("Platform Initializer"),VE=new Yt("Platform ID"),BE=new Yt("appBootstrapListener");let UE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();const Sp=new Yt("LocaleId"),xb=new Yt("DefaultCurrencyCode");class pN{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}const Fb=function(i){return new sE(i)},mh=Fb,Zo=function(i){return Promise.resolve(Fb(i))},Ic=function(i){const s=Fb(i),l=cn(qr(i).declarations).reduce((d,f)=>{const m=dn(f);return m&&d.push(new Ym(m)),d},[]);return new pN(s,l)},$E=Ic,_N=function(i){return Promise.resolve(Ic(i))};let m_=(()=>{class i{constructor(){this.compileModuleSync=mh,this.compileModuleAsync=Zo,this.compileModuleAndAllComponentsSync=$E,this.compileModuleAndAllComponentsAsync=_N}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();const yN=(()=>Promise.resolve(0))();function Vb(i){"undefined"==typeof Zone?yN.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ws{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xl(!1),this.onMicrotaskEmpty=new xl(!1),this.onStable=new xl(!1),this.onError=new xl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let i=j.requestAnimationFrame,s=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(j,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ub(i),i.isCheckStableRunning=!0,Bb(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ub(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,m,y)=>{try{return Gb(i),a.invokeTask(d,f,m,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),qE(i)}},onInvoke:(a,l,d,f,m,y,w)=>{try{return Gb(i),a.invoke(d,f,m,y,w)}finally{i.shouldCoalesceRunChangeDetection&&s(),qE(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,Ub(i),Bb(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,ZE,zm,zm);try{return f.runTask(m,a,l)}finally{f.cancelTask(m)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const ZE={};function Bb(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ub(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Gb(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function qE(i){i._nesting--,Bb(i)}class Hb{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xl,this.onMicrotaskEmpty=new xl,this.onStable=new xl,this.onError=new xl}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}let jb=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),Vb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Vb(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(pn(ws))},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})(),$b=(()=>{class i{constructor(){this._applications=new Map,YE.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return YE.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();class KE{addToWindow(s){}findTestabilityInTree(s,a,l){return null}}function Gx(i){YE=i}let YE=new KE,QE=!0,JE=!1;function Wb(){return JE=!0,QE}function TN(){if(JE)throw new Error("Cannot enable prod mode after platform setup.");QE=!1}let zo;const Zb=new Yt("AllowMultipleToken");class eC{constructor(s,a){this.name=s,this.token=a}}function zb(i,s,a=[]){const l=`Platform: ${s}`,d=new Yt(l);return(f=[])=>{let m=nC();if(!m||m.injector.get(Zb,!1))if(i)i(a.concat(f).concat({provide:d,useValue:!0}));else{const y=a.concat(f).concat({provide:d,useValue:!0},{provide:Zd,useValue:"platform"});!function(i){if(zo&&!zo.destroyed&&!zo.injector.get(Zb,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zo=i.get(rC);const s=i.get(LE,null);s&&s.forEach(a=>a())}(Sn.create({providers:y,name:l}))}return function(i){const s=nC();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(d)}}function nC(){return zo&&!zo.destroyed?zo:null}let rC=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const y=function(i,s){let a;return a="noop"===i?new Hb:("zone.js"===i?void 0:i)||new ws({enableLongStackTrace:Wb(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),w=[{provide:ws,useValue:y}];return y.run(()=>{const C=Sn.create({providers:w,parent:this.injector,name:a.moduleType.name}),S=a.create(C),O=S.injector.get(El,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const x=y.onError.subscribe({next:G=>{O.handleError(G)}});S.onDestroy(()=>{Kb(this._modules,S),x.unsubscribe()})}),function(i,s,a){try{const l=a();return Ky(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(O,y,()=>{const x=S.injector.get(ph);return x.runInitializers(),x.donePromise.then(()=>(function(i){(function(i,s){null==i&&At(s,i,null,"!=")})(i,"Expected localeId to be defined"),"string"==typeof i&&(yp=i.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Sp,cb)||cb),this._moduleDoBootstrap(S),S))})})}bootstrapModule(a,l=[]){const d=qb({},l);return function(i,s,a){const l=new sE(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(Sc);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Error(`The module ${V(a.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(pn(Sn))},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();function qb(i,s){return Array.isArray(s)?s.reduce(qb,i):ct(ct({},i),s)}let Sc=(()=>{class i{constructor(a,l,d,f,m){this._zone=a,this._injector=l,this._exceptionHandler=d,this._componentFactoryResolver=f,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new F.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),w=new F.y(C=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),Vb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,le.T)(y,w.pipe(i=>(0,ne.x)()((0,K.O)(re)(i))))}bootstrap(a,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=a instanceof sh?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(d.componentType);const f=function(i){return i.isBoundToModule}(d)?void 0:this._injector.get(ch),y=d.create(Sn.NULL,[],l||d.selector,f),w=y.location.nativeElement,C=y.injector.get(jb,null),S=C&&y.injector.get($b);return C&&S&&S.registerApplication(w,C),y.onDestroy(()=>{this.detachView(y.hostView),Kb(this.components,y),S&&S.unregisterApplication(w)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Kb(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(BE,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(pn(ws),pn(Sn),pn(El),pn(oh),pn(ph))},i.\u0275prov=Tn({token:i,factory:i.\u0275fac}),i})();function Kb(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}const Yx=function(i){return function(i,s,a){if(zi(i)&&!a){const l=Rr(i.index,s);return new wp(l,l)}return 47&i.type?new wp(s[16],s):null}(rn(),Ne(),16==(16&i))};let Qx=(()=>{class i{}return i.__NG_ELEMENT_ID__=Yx,i})();const Ap=function(i){return null};class dC{constructor(){}supports(s){return np(s)}create(s){return new hC(s)}}const FN=(i,s)=>s;class hC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||FN}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const m=!l||a&&a.currentIndex<ev(l,d,f)?a:l,y=ev(m,d,f),w=m.currentIndex;if(m===l)d--,l=l._nextRemoved;else if(a=a._next,null==m.previousIndex)d++;else{f||(f=[]);const C=y-d,S=w-d;if(C!=S){for(let x=0;x<C;x++){const G=x<f.length?f[x]:f[x]=0,W=G+x;S<=W&&W<C&&(f[x]=G+1)}f[m.previousIndex]=S-C}}y!==w&&s(m,y,w)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!np(s))throw new Error(`Error trying to diff '${V(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)f=s[y],m=this._trackByFn(y,f),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,f,m,y)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,y),l=!0),a=a._next}else d=0,function(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Ml()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,y=>{m=this._trackByFn(d,y),null!==a&&Object.is(a.trackById,m)?(l&&(a=this._verifyReinsertion(a,y,m,d)),Object.is(a.item,y)||this._addIdentityChange(a,y)):(a=this._mismatch(a,y,m,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new Xb(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new T_),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new T_),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Xb{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class T_{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new fC,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ev(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class Np{constructor(){}supports(s){return s instanceof Map||Hy(s)}create(){return new LN}}class LN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Hy(s)))throw new Error(`Error trying to diff '${V(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const l=new tv(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class tv{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function nv(){return new w_([new dC])}let w_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||nv()),deps:[[i,new lr,new ka]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${a}' of type '${function(i){return i.name||typeof i}(a)}'`)}}return i.\u0275prov=Tn({token:i,providedIn:"root",factory:nv}),i})();function iv(){return new Mp([new Np])}let Mp=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||iv()),deps:[[i,new lr,new ka]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Error(`Cannot find a differ supporting object '${a}'`)}}return i.\u0275prov=Tn({token:i,providedIn:"root",factory:iv}),i})();const sv=[new Np],BN=new w_([new dC]),UN=new Mp(sv),av=zb(null,"core",[{provide:VE,useValue:"unknown"},{provide:rC,deps:[Sn]},{provide:$b,deps:[]},{provide:UE,deps:[]}]),Rp=[{provide:Sc,useClass:Sc,deps:[ws,Sn,El,oh,ph]},{provide:vA,deps:[ws],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(a){s.push(a)}}},{provide:ph,useClass:ph,deps:[[new ka,fh]]},{provide:m_,useClass:m_,deps:[]},p_,{provide:w_,useFactory:function(){return BN},deps:[]},{provide:Mp,useFactory:function(){return UN},deps:[]},{provide:Sp,useFactory:function(i){return i||"undefined"!=typeof $localize&&$localize.locale||cb},deps:[[new xa(Sp),new ka,new lr]]},{provide:xb,useValue:"USD"}];let jN=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(pn(Sc))},i.\u0275mod=ia({type:i}),i.\u0275inj=li({providers:Rp}),i})()},6293:(je,be,k)=>{"use strict";k.d(be,{Z:()=>ce});var u=k(4213),X=k(1177),F=k(1572),le=k(3855);class K{constructor(pe,he){this._delegate=pe,this.firebase=he,(0,F._addComponent)(pe,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=pe.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pe){this._delegate.automaticDataCollectionEnabled=pe}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pe=>{this._delegate.checkDestroyed(),pe()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(pe,he=F._DEFAULT_ENTRY_NAME){var ae;this._delegate.checkDestroyed();const Se=this._delegate.container.getProvider(pe);return!Se.isInitialized()&&"EXPLICIT"===(null===(ae=Se.getComponent())||void 0===ae?void 0:ae.instantiationMode)&&Se.initialize(),Se.getImmediate({identifier:he})}_removeServiceInstance(pe,he=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pe).clearInstance(he)}_addComponent(pe){(0,F._addComponent)(this._delegate,pe)}_addOrOverwriteComponent(pe){(0,F._addOrOverwriteComponent)(this._delegate,pe)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const re=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function $(){const Ae=function(Ae){const pe={},he={__esModule:!0,initializeApp:function(yt,Ie={}){const te=F.initializeApp(yt,Ie);if((0,u.r3)(pe,te.name))return pe[te.name];const ge=new Ae(te,he);return pe[te.name]=ge,ge},app:Se,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function(yt){const Ie=yt.name,te=Ie.replace("-compat","");if(F._registerComponent(yt)&&"PUBLIC"===yt.type){const ge=(Ee=Se())=>{if("function"!=typeof Ee[te])throw re.create("invalid-app-argument",{appName:Ie});return Ee[te]()};void 0!==yt.serviceProps&&(0,u.ZB)(ge,yt.serviceProps),he[te]=ge,Ae.prototype[te]=function(...Ee){return this._getService.bind(this,Ie).apply(this,yt.multipleInstances?Ee:[])}}return"PUBLIC"===yt.type?he[te]:null},removeApp:function(yt){delete pe[yt]},useAsService:function(yt,Ie){return"serverAuth"===Ie?null:Ie},modularAPIs:F}};function Se(yt){if(!(0,u.r3)(pe,yt=yt||F._DEFAULT_ENTRY_NAME))throw re.create("no-app",{appName:yt});return pe[yt]}return he.default=he,Object.defineProperty(he,"apps",{get:function(){return Object.keys(pe).map(yt=>pe[yt])}}),Se.App=Ae,he}(K);return Ae.INTERNAL=Object.assign(Object.assign({},Ae.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(he){(0,u.ZB)(Ae,he)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Ae}(),V=new le.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ae=self.firebase.SDK_VERSION;Ae&&Ae.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ce=L;(0,F.registerVersion)("@firebase/app-compat","0.1.9",undefined)},1572:(je,be,k)=>{"use strict";k.r(be),k.d(be,{FirebaseError:()=>le.ZR,SDK_VERSION:()=>Nn,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>nn,_addOrOverwriteComponent:()=>Wt,_apps:()=>Qt,_clearComponents:()=>Lt,_components:()=>Hn,_getProvider:()=>Wi,_registerComponent:()=>At,_removeServiceInstance:()=>_n,deleteApp:()=>Ri,getApp:()=>ta,getApps:()=>Mi,initializeApp:()=>Ns,onLog:()=>jn,registerVersion:()=>Zr,setLogLevel:()=>zr});var u=k(8239),X=k(1177),F=k(3855),le=k(4213);class K{constructor(rt){this.container=rt}getPlatformInfoString(){return this.container.getProviders().map(kt=>{if(function(ot){const rt=ot.getComponent();return"VERSION"===(null==rt?void 0:rt.type)}(kt)){const an=kt.getImmediate();return`${an.library}/${an.version}`}return null}).filter(kt=>kt).join(" ")}}const re="@firebase/app",$=new F.Yd("@firebase/app"),Gn="[DEFAULT]",bt={[re]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qt=new Map,Hn=new Map;function nn(ot,rt){try{ot.container.addComponent(rt)}catch(kt){$.debug(`Component ${rt.name} failed to register with FirebaseApp ${ot.name}`,kt)}}function Wt(ot,rt){ot.container.addOrOverwriteComponent(rt)}function At(ot){const rt=ot.name;if(Hn.has(rt))return $.debug(`There were multiple attempts to register component ${rt}.`),!1;Hn.set(rt,ot);for(const kt of Qt.values())nn(kt,ot);return!0}function Wi(ot,rt){return ot.container.getProvider(rt)}function _n(ot,rt,kt=Gn){Wi(ot,rt).clearInstance(kt)}function Lt(){Hn.clear()}const _r=new le.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class li{constructor(rt,kt,an){this._isDeleted=!1,this._options=Object.assign({},rt),this._config=Object.assign({},kt),this._name=kt.name,this._automaticDataCollectionEnabled=kt.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(rt){this.checkDestroyed(),this._automaticDataCollectionEnabled=rt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(rt){this._isDeleted=rt}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Nn="9.4.1";function Ns(ot,rt={}){"object"!=typeof rt&&(rt={name:rt});const kt=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},rt),an=kt.name;if("string"!=typeof an||!an)throw _r.create("bad-app-name",{appName:String(an)});const yr=Qt.get(an);if(yr){if((0,le.vZ)(ot,yr.options)&&(0,le.vZ)(kt,yr.config))return yr;throw _r.create("duplicate-app",{appName:an})}const Mt=new X.H0(an);for(const at of Hn.values())Mt.addComponent(at);const Ue=new li(ot,kt,Mt);return Qt.set(an,Ue),Ue}function ta(ot=Gn){const rt=Qt.get(ot);if(!rt)throw _r.create("no-app",{appName:ot});return rt}function Mi(){return Array.from(Qt.values())}function Ri(ot){return ci.apply(this,arguments)}function ci(){return(ci=(0,u.Z)(function*(ot){const rt=ot.name;Qt.has(rt)&&(Qt.delete(rt),yield Promise.all(ot.container.getProviders().map(kt=>kt.delete())),ot.isDeleted=!0)})).apply(this,arguments)}function Zr(ot,rt,kt){var an;let yr=null!==(an=bt[ot])&&void 0!==an?an:ot;kt&&(yr+=`-${kt}`);const Mt=yr.match(/\s|\//),Ue=rt.match(/\s|\//);if(Mt||Ue){const at=[`Unable to register library "${yr}" with version "${rt}":`];return Mt&&at.push(`library name "${yr}" contains illegal characters (whitespace or "/")`),Mt&&Ue&&at.push("and"),Ue&&at.push(`version name "${rt}" contains illegal characters (whitespace or "/")`),void $.warn(at.join(" "))}At(new X.wA(`${yr}-version`,()=>({library:yr,version:rt}),"VERSION"))}function jn(ot,rt){if(null!==ot&&"function"!=typeof ot)throw _r.create("invalid-log-argument");(0,F.Am)(ot,rt)}function zr(ot){(0,F.Ub)(ot)}At(new X.wA("platform-logger",rt=>new K(rt),"PRIVATE")),Zr(re,"0.7.8",""),Zr(re,"0.7.8","esm2017"),Zr("fire-js","")},1177:(je,be,k)=>{"use strict";k.d(be,{wA:()=>F,H0:()=>se});var u=k(8239),X=k(4213);class F{constructor(L,V,Y){this.name=L,this.instanceFactory=V,this.type=Y,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const le="[DEFAULT]";class K{constructor(L,V){this.name=L,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const V=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(V)){const Y=new X.BH;if(this.instancesDeferred.set(V,Y),this.isInitialized(V)||this.shouldAutoInitialize())try{const fe=this.getOrInitializeService({instanceIdentifier:V});fe&&Y.resolve(fe)}catch(fe){}}return this.instancesDeferred.get(V).promise}getImmediate(L){var V;const Y=this.normalizeInstanceIdentifier(null==L?void 0:L.identifier),fe=null!==(V=null==L?void 0:L.optional)&&void 0!==V&&V;if(!this.isInitialized(Y)&&!this.shouldAutoInitialize()){if(fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Y})}catch(ke){if(fe)return null;throw ke}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if("EAGER"===L.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:le})}catch(V){}for(const[V,Y]of this.instancesDeferred.entries()){const fe=this.normalizeInstanceIdentifier(V);try{const ke=this.getOrInitializeService({instanceIdentifier:fe});Y.resolve(ke)}catch(ke){}}}}clearInstance(L=le){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,u.Z)(function*(){const V=Array.from(L.instances.values());yield Promise.all([...V.filter(Y=>"INTERNAL"in Y).map(Y=>Y.INTERNAL.delete()),...V.filter(Y=>"_delete"in Y).map(Y=>Y._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=le){return this.instances.has(L)}getOptions(L=le){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:V={}}=L,Y=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(Y))throw Error(`${this.name}(${Y}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const fe=this.getOrInitializeService({instanceIdentifier:Y,options:V});for(const[ke,ce]of this.instancesDeferred.entries())Y===this.normalizeInstanceIdentifier(ke)&&ce.resolve(fe);return fe}onInit(L,V){var Y;const fe=this.normalizeInstanceIdentifier(V),ke=null!==(Y=this.onInitCallbacks.get(fe))&&void 0!==Y?Y:new Set;ke.add(L),this.onInitCallbacks.set(fe,ke);const ce=this.instances.get(fe);return ce&&L(ce,fe),()=>{ke.delete(L)}}invokeOnInitCallbacks(L,V){const Y=this.onInitCallbacks.get(V);if(Y)for(const fe of Y)try{fe(L,V)}catch(ke){}}getOrInitializeService({instanceIdentifier:L,options:V={}}){let Y=this.instances.get(L);if(!Y&&this.component&&(Y=this.component.instanceFactory(this.container,{instanceIdentifier:($=L,$===le?void 0:$),options:V}),this.instances.set(L,Y),this.instancesOptions.set(L,V),this.invokeOnInitCallbacks(Y,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,Y)}catch(fe){}var $;return Y||null}normalizeInstanceIdentifier(L=le){return this.component?this.component.multipleInstances?L:le:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const V=this.getProvider(L.name);if(V.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);V.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const V=new K(L,this);return this.providers.set(L,V),V}getProviders(){return Array.from(this.providers.values())}}},3855:(je,be,k)=>{"use strict";k.d(be,{in:()=>X,Yd:()=>re,Ub:()=>se,Am:()=>$});const u=[];var X=(()=>{return(L=X||(X={}))[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",X;var L})();const F={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},le=X.INFO,K={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ne=(L,V,...Y)=>{if(V<L.logLevel)return;const fe=(new Date).toISOString(),ke=K[V];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ke](`[${fe}]  ${L.name}:`,...Y)};class re{constructor(V){this.name=V,this._logLevel=le,this._logHandler=ne,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in X))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?F[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...V),this._logHandler(this,X.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...V),this._logHandler(this,X.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,X.INFO,...V),this._logHandler(this,X.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,X.WARN,...V),this._logHandler(this,X.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...V),this._logHandler(this,X.ERROR,...V)}}function se(L){u.forEach(V=>{V.setLogLevel(L)})}function $(L,V){for(const Y of u){let fe=null;V&&V.level&&(fe=F[V.level]),Y.userLogHandler=null===L?null:(ke,ce,...Ae)=>{const pe=Ae.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(ae){return null}}).filter(he=>he).join(" ");ce>=(null!=fe?fe:ke.logLevel)&&L({level:X[ce].toLowerCase(),message:pe,args:Ae,type:ke.name})}}}},8239:(je,be,k)=>{"use strict";function u(F,le,K,ne,re,se,$){try{var L=F[se]($),V=L.value}catch(Y){return void K(Y)}L.done?le(V):Promise.resolve(V).then(ne,re)}function X(F){return function(){var le=this,K=arguments;return new Promise(function(ne,re){var se=F.apply(le,K);function $(V){u(se,ne,re,$,L,"next",V)}function L(V){u(se,ne,re,$,L,"throw",V)}$(void 0)})}}k.d(be,{Z:()=>X})}},je=>{je(je.s=7471)}]);