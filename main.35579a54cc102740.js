"use strict";(self.webpackChunkpizza_app=self.webpackChunkpizza_app||[]).push([[179],{2011:(yt,be,k)=>{k.d(be,{Dh:()=>ce,GT:()=>ee,cc:()=>De,hO:()=>je,on:()=>H,pX:()=>ie,xv:()=>ue});var a=k(4650),Y=k(9260),x=k(2122);yt=k.hmd(yt);const ne=["ngOnDestroy"],ie=(Ee,Se,Le,we={})=>new Proxy(Ee,{get:(ve,Ie)=>Le.runOutsideAngular(()=>{var Ve;if(Ee[Ie])return!(null===(Ve=we?.spy)||void 0===Ve)&&Ve.get&&we.spy.get(Ie,Ee[Ie]),Ee[Ie];if(ne.indexOf(Ie)>-1)return()=>{};const Re=Se.toPromise().then(V=>{const _e=V&&V[Ie];return"function"==typeof _e?_e.bind(V):_e&&_e.then?_e.then(ke=>Le.run(()=>ke)):Le.run(()=>_e)});return new Proxy(()=>{},{get:(V,_e)=>Re[_e],apply:(V,_e,ke)=>Re.then(Ze=>{var vt;const ot=Ze&&Ze(...ke);return!(null===(vt=we?.spy)||void 0===vt)&&vt.apply&&we.spy.apply(Ie,ke,ot),ot})})})}),ee=(Ee,Se)=>{Se.forEach(Le=>{Object.getOwnPropertyNames(Le.prototype||Le).forEach(we=>{Object.defineProperty(Ee.prototype,we,Object.getOwnPropertyDescriptor(Le.prototype||Le,we))})})};class fe{constructor(Se){return Se}}const ce=new a.OlP("angularfire2.app.options"),ue=new a.OlP("angularfire2.app.name");function H(Ee,Se,Le){const ve="object"==typeof Le&&Le||{};ve.name=ve.name||"string"==typeof Le&&Le||"[DEFAULT]";const Ve=Y.Z.apps.filter(Re=>Re&&Re.name===ve.name)[0]||Se.runOutsideAngular(()=>Y.Z.initializeApp(Ee,ve));try{JSON.stringify(Ee)!==JSON.stringify(Ve.options)&&j("error",`${Ve.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new fe(Ve)}const j=(Ee,...Se)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ee](...Se)},q={provide:fe,useFactory:H,deps:[ce,a.R0b,[new a.FiY,ue]]};let je=(()=>{class Ee{constructor(Le){Y.Z.registerVersion("angularfire",x.q4.full,"core"),Y.Z.registerVersion("angularfire",x.q4.full,"app-compat"),Y.Z.registerVersion("angular",a.q4F.full,Le.toString())}static initializeApp(Le,we){return{ngModule:Ee,providers:[{provide:ce,useValue:Le},{provide:ue,useValue:we}]}}}return Ee.\u0275fac=function(Le){return new(Le||Ee)(a.LFG(a.Lbi))},Ee.\u0275mod=a.oAB({type:Ee}),Ee.\u0275inj=a.cJS({providers:[q]}),Ee})();function De(Ee,Se,Le,we,ve){const[,Ie,Ve]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===Ee)||[];if(Ie)return function qe(Ee,Se){try{return Ee.toString()===Se.toString()}catch{return Ee===Se}}(ve,Ve)||(he("error",`${Se} was already initialized on the ${Le} Firebase App with different settings.${pt?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:ve,was:Ve})),Ie;{const Re=we();return globalThis.\u0275AngularfireInstanceCache.push([Ee,Re,ve]),Re}}const pt=!!yt.hot,he=(Ee,...Se)=>{(0,a.X6Q)()&&typeof console<"u"&&console[Ee](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2122:(yt,be,k)=>{k.d(be,{q4:()=>da,iC:()=>ha,fc:()=>pc,HU:()=>Xs,vb:()=>it,JM:()=>Ai});var a=k(4650),Y=k(259),x=k(5861),ne=k(9681),ie=k(2090),ee=k(4859),fe=k(1877),ce=k(8766);const ue="@firebase/installations",H="0.6.4",j=1e4,q=`w:${H}`,je="FIS_v2",De="https://firebaseinstallations.googleapis.com/v1",qe=36e5,Se=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Le(S){return S instanceof ie.ZR&&S.code.includes("request-failed")}function we({projectId:S}){return`${De}/projects/${S}/installations`}function ve(S){return{token:S.token,requestStatus:2,expiresIn:Ze(S.expiresIn),creationTime:Date.now()}}function Ie(S,C){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,x.Z)(function*(S,C){const B=(yield C.json()).error;return Se.create("request-failed",{requestName:S,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Re({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function _e(S){return ke.apply(this,arguments)}function ke(){return(ke=(0,x.Z)(function*(S){const C=yield S();return C.status>=500&&C.status<600?S():C})).apply(this,arguments)}function Ze(S){return Number(S.replace("s","000"))}function se(){return(se=(0,x.Z)(function*({appConfig:S,heartbeatServiceProvider:C},{fid:N}){const B=we(S),$=Re(S),te=C.getImmediate({optional:!0});if(te){const _t=yield te.getHeartbeatsHeader();_t&&$.append("x-firebase-client",_t)}const dt={method:"POST",headers:$,body:JSON.stringify({fid:N,authVersion:je,appId:S.appId,sdkVersion:q})},ht=yield _e(()=>fetch(B,dt));if(ht.ok){const _t=yield ht.json();return{fid:_t.fid||N,registrationStatus:2,refreshToken:_t.refreshToken,authToken:ve(_t.authToken)}}throw yield Ie("Create Installation",ht)})).apply(this,arguments)}function de(S){return new Promise(C=>{setTimeout(C,S)})}const Ae=/^[cdef][\w-]{21}$/,xe="";function $e(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const N=function et(S){return function ye(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Ae.test(N)?N:xe}catch{return xe}}function Je(S){return`${S.appName}!${S.appId}`}const ln=new Map;function St(S,C){const N=Je(S);Mt(N,C),function qn(S,C){const N=function Sn(){return!_n&&"BroadcastChannel"in self&&(_n=new BroadcastChannel("[Firebase] FID Change"),_n.onmessage=S=>{Mt(S.data.key,S.data.fid)}),_n}();N&&N.postMessage({key:S,fid:C}),function Pn(){0===ln.size&&_n&&(_n.close(),_n=null)}()}(N,C)}function Mt(S,C){const N=ln.get(S);if(N)for(const B of N)B(C)}let _n=null;const vi="firebase-installations-database",fo=1,bi="firebase-installations-store";let ri=null;function Ls(){return ri||(ri=(0,ce.X3)(vi,fo,{upgrade:(S,C)=>{0===C&&S.createObjectStore(bi)}})),ri}function Cn(S,C){return ii.apply(this,arguments)}function ii(){return(ii=(0,x.Z)(function*(S,C){const N=Je(S),$=(yield Ls()).transaction(bi,"readwrite"),te=$.objectStore(bi),Me=yield te.get(N);return yield te.put(C,N),yield $.done,(!Me||Me.fid!==C.fid)&&St(S,C.fid),C})).apply(this,arguments)}function Tt(S){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,x.Z)(function*(S){const C=Je(S),B=(yield Ls()).transaction(bi,"readwrite");yield B.objectStore(bi).delete(C),yield B.done})).apply(this,arguments)}function Bi(S,C){return xn.apply(this,arguments)}function xn(){return(xn=(0,x.Z)(function*(S,C){const N=Je(S),$=(yield Ls()).transaction(bi,"readwrite"),te=$.objectStore(bi),Me=yield te.get(N),dt=C(Me);return void 0===dt?yield te.delete(N):yield te.put(dt,N),yield $.done,dt&&(!Me||Me.fid!==dt.fid)&&St(S,dt.fid),dt})).apply(this,arguments)}function Rr(S){return po.apply(this,arguments)}function po(){return po=(0,x.Z)(function*(S){let C;const N=yield Bi(S.appConfig,B=>{const $=function kt(S){return Pr(S||{fid:$e(),registrationStatus:0})}(B),te=function wt(S,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(Se.create("app-offline"))};const N={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},B=function Nt(S,C){return Us.apply(this,arguments)}(S,N);return{installationEntry:N,registrationPromise:B}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:Tn(S)}:{installationEntry:C}}(S,$);return C=te.registrationPromise,te.installationEntry});return N.fid===xe?{installationEntry:yield C}:{installationEntry:N,registrationPromise:C}}),po.apply(this,arguments)}function Us(){return Us=(0,x.Z)(function*(S,C){try{const N=yield function ot(S,C){return se.apply(this,arguments)}(S,C);return Cn(S.appConfig,N)}catch(N){throw Le(N)&&409===N.customData.serverCode?yield Tt(S.appConfig):yield Cn(S.appConfig,{fid:C.fid,registrationStatus:0}),N}}),Us.apply(this,arguments)}function Tn(S){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,x.Z)(function*(S){let C=yield Zr(S.appConfig);for(;1===C.registrationStatus;)yield de(100),C=yield Zr(S.appConfig);if(0===C.registrationStatus){const{installationEntry:N,registrationPromise:B}=yield Rr(S);return B||N}return C})).apply(this,arguments)}function Zr(S){return Bi(S,C=>{if(!C)throw Se.create("installation-not-found");return Pr(C)})}function Pr(S){return function Ra(S){return 1===S.registrationStatus&&S.registrationTime+j<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function fs(){return(fs=(0,x.Z)(function*({appConfig:S,heartbeatServiceProvider:C},N){const B=function tn(S,{fid:C}){return`${we(S)}/${C}/authTokens:generate`}(S,N),$=function V(S,{refreshToken:C}){const N=Re(S);return N.append("Authorization",function vt(S){return`${je} ${S}`}(C)),N}(S,N),te=C.getImmediate({optional:!0});if(te){const _t=yield te.getHeartbeatsHeader();_t&&$.append("x-firebase-client",_t)}const dt={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:q,appId:S.appId}})},ht=yield _e(()=>fetch(B,dt));if(ht.ok)return ve(yield ht.json());throw yield Ie("Generate Auth Token",ht)})).apply(this,arguments)}function qr(S){return Qi.apply(this,arguments)}function Qi(){return Qi=(0,x.Z)(function*(S,C=!1){let N;const B=yield Bi(S.appConfig,te=>{if(!Vt(te))throw Se.create("not-registered");const Me=te.authToken;if(!C&&function xr(S){return 2===S.requestStatus&&!function G(S){const C=Date.now();return C<S.creationTime||S.creationTime+S.expiresIn<C+qe}(S)}(Me))return te;if(1===Me.requestStatus)return N=function We(S,C){return Te.apply(this,arguments)}(S,C),te;{if(!navigator.onLine)throw Se.create("app-offline");const dt=function U(S){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:C})}(te);return N=function At(S,C){return xt.apply(this,arguments)}(S,dt),dt}});return N?yield N:B.authToken}),Qi.apply(this,arguments)}function Te(){return(Te=(0,x.Z)(function*(S,C){let N=yield ut(S.appConfig);for(;1===N.authToken.requestStatus;)yield de(100),N=yield ut(S.appConfig);const B=N.authToken;return 0===B.requestStatus?qr(S,C):B})).apply(this,arguments)}function ut(S){return Bi(S,C=>{if(!Vt(C))throw Se.create("not-registered");return function W(S){return 1===S.requestStatus&&S.requestTime+j<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function xt(){return xt=(0,x.Z)(function*(S,C){try{const N=yield function dn(S,C){return fs.apply(this,arguments)}(S,C),B=Object.assign(Object.assign({},C),{authToken:N});return yield Cn(S.appConfig,B),N}catch(N){if(!Le(N)||401!==N.customData.serverCode&&404!==N.customData.serverCode){const B=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield Cn(S.appConfig,B)}else yield Tt(S.appConfig);throw N}}),xt.apply(this,arguments)}function Vt(S){return void 0!==S&&2===S.registrationStatus}function X(){return(X=(0,x.Z)(function*(S){const C=S,{installationEntry:N,registrationPromise:B}=yield Rr(C);return B?B.catch(console.error):qr(C).catch(console.error),N.fid})).apply(this,arguments)}function Ye(){return Ye=(0,x.Z)(function*(S,C=!1){const N=S;return yield function gn(S){return kn.apply(this,arguments)}(N),(yield qr(N,C)).token}),Ye.apply(this,arguments)}function kn(){return(kn=(0,x.Z)(function*(S){const{registrationPromise:C}=yield Rr(S);C&&(yield C)})).apply(this,arguments)}function Rl(S){return Se.create("missing-app-config-values",{valueName:S})}const Pl="installations",Vn=S=>{const C=S.getProvider("app").getImmediate(),N=function Vu(S){if(!S||!S.options)throw Rl("App Configuration");if(!S.name)throw Rl("App Name");const C=["projectId","apiKey","appId"];for(const N of C)if(!S.options[N])throw Rl(N);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(C);return{app:C,appConfig:N,heartbeatServiceProvider:(0,ne._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},Gu=S=>{const C=S.getProvider("app").getImmediate(),N=(0,ne._getProvider)(C,Pl).getImmediate();return{getId:()=>function ge(S){return X.apply(this,arguments)}(N),getToken:$=>function rt(S){return Ye.apply(this,arguments)}(N,$)}};(function Hu(){(0,ne._registerComponent)(new ee.wA(Pl,Vn,"PUBLIC")),(0,ne._registerComponent)(new ee.wA("installations-internal",Gu,"PRIVATE"))})(),(0,ne.registerVersion)(ue,H),(0,ne.registerVersion)(ue,H,"esm2017");const nn="@firebase/remote-config",kr=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class jo{constructor(C,N,B,$){this.client=C,this.storage=N,this.storageCache=B,this.logger=$}isCachedDataFresh(C,N){if(!N)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-N,$=B<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${$}.`),$}fetch(C){var N=this;return(0,x.Z)(function*(){const[B,$]=yield Promise.all([N.storage.getLastSuccessfulFetchTimestampMillis(),N.storage.getLastSuccessfulFetchResponse()]);if($&&N.isCachedDataFresh(C.cacheMaxAgeMillis,B))return $;C.eTag=$&&$.eTag;const te=yield N.client.fetch(C),Me=[N.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&Me.push(N.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(Me),te})()}}function Gs(S=navigator){return S.languages&&S.languages[0]||S.language}class Yr{constructor(C,N,B,$,te,Me){this.firebaseInstallations=C,this.sdkVersion=N,this.namespace=B,this.projectId=$,this.apiKey=te,this.appId=Me}fetch(C){var N=this;return(0,x.Z)(function*(){const[B,$]=yield Promise.all([N.firebaseInstallations.getId(),N.firebaseInstallations.getToken()]),Me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${N.projectId}/namespaces/${N.namespace}:fetch?key=${N.apiKey}`,dt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},ht={sdk_version:N.sdkVersion,app_instance_id:B,app_instance_id_token:$,app_id:N.appId,language_code:Gs()},_t={method:"POST",headers:dt,body:JSON.stringify(ht)},qt=fetch(Me,_t),Ct=new Promise(($n,hi)=>{C.signal.addEventListener(()=>{const Ln=new Error("The operation was aborted.");Ln.name="AbortError",hi(Ln)})});let yn;try{yield Promise.race([qt,Ct]),yn=yield qt}catch($n){let hi="fetch-client-network";throw"AbortError"===$n?.name&&(hi="fetch-timeout"),kr.create(hi,{originalErrorMessage:$n?.message})}let jn=yn.status;const Xa=yn.headers.get("ETag")||void 0;let Jr,Gi;if(200===yn.status){let $n;try{$n=yield yn.json()}catch(hi){throw kr.create("fetch-client-parse",{originalErrorMessage:hi?.message})}Jr=$n.entries,Gi=$n.state}if("INSTANCE_STATE_UNSPECIFIED"===Gi?jn=500:"NO_CHANGE"===Gi?jn=304:("NO_TEMPLATE"===Gi||"EMPTY_CONFIG"===Gi)&&(Jr={}),304!==jn&&200!==jn)throw kr.create("fetch-status",{httpStatus:jn});return{status:jn,eTag:Xa,config:Jr}})()}}class en{constructor(C,N){this.client=C,this.storage=N}fetch(C){var N=this;return(0,x.Z)(function*(){const B=(yield N.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return N.attemptFetch(C,B)})()}attemptFetch(C,{throttleEndTimeMillis:N,backoffCount:B}){var $=this;return(0,x.Z)(function*(){yield function Gn(S,C){return new Promise((N,B)=>{const $=Math.max(C-Date.now(),0),te=setTimeout(N,$);S.addEventListener(()=>{clearTimeout(te),B(kr.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,N);try{const te=yield $.client.fetch(C);return yield $.storage.deleteThrottleMetadata(),te}catch(te){if(!function ju(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const C=Number(S.customData.httpStatus);return 429===C||500===C||503===C||504===C}(te))throw te;const Me={throttleEndTimeMillis:Date.now()+(0,ie.$s)(B),backoffCount:B+1};return yield $.storage.setThrottleMetadata(Me),$.attemptFetch(C,Me)}})()}}class kl{constructor(C,N,B,$,te){this.app=C,this._client=N,this._storageCache=B,this._storage=$,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yo(S,C){const N=S.target.error||void 0;return kr.create(C,{originalErrorMessage:N&&N?.message})}const wi="app_namespace_store";class oi{constructor(C,N,B,$=function yg(){return new Promise((S,C)=>{try{const N=indexedDB.open("firebase_remote_config",1);N.onerror=B=>{C(yo(B,"storage-open"))},N.onsuccess=B=>{S(B.target.result)},N.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(wi,{keyPath:"compositeKey"})}}catch(N){C(kr.create("storage-open",{originalErrorMessage:N?.message}))}})}()){this.appId=C,this.appName=N,this.namespace=B,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var N=this;return(0,x.Z)(function*(){const B=yield N.openDbPromise;return new Promise(($,te)=>{const dt=B.transaction([wi],"readonly").objectStore(wi),ht=N.createCompositeKey(C);try{const _t=dt.get(ht);_t.onerror=qt=>{te(yo(qt,"storage-get"))},_t.onsuccess=qt=>{const Ct=qt.target.result;$(Ct?Ct.value:void 0)}}catch(_t){te(kr.create("storage-get",{originalErrorMessage:_t?.message}))}})})()}set(C,N){var B=this;return(0,x.Z)(function*(){const $=yield B.openDbPromise;return new Promise((te,Me)=>{const ht=$.transaction([wi],"readwrite").objectStore(wi),_t=B.createCompositeKey(C);try{const qt=ht.put({compositeKey:_t,value:N});qt.onerror=Ct=>{Me(yo(Ct,"storage-set"))},qt.onsuccess=()=>{te()}}catch(qt){Me(kr.create("storage-set",{originalErrorMessage:qt?.message}))}})})()}delete(C){var N=this;return(0,x.Z)(function*(){const B=yield N.openDbPromise;return new Promise(($,te)=>{const dt=B.transaction([wi],"readwrite").objectStore(wi),ht=N.createCompositeKey(C);try{const _t=dt.delete(ht);_t.onerror=qt=>{te(yo(qt,"storage-delete"))},_t.onsuccess=()=>{$()}}catch(_t){te(kr.create("storage-delete",{originalErrorMessage:_t?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class ai{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,x.Z)(function*(){const N=C.storage.getLastFetchStatus(),B=C.storage.getLastSuccessfulFetchTimestampMillis(),$=C.storage.getActiveConfig(),te=yield N;te&&(C.lastFetchStatus=te);const Me=yield B;Me&&(C.lastSuccessfulFetchTimestampMillis=Me);const dt=yield $;dt&&(C.activeConfig=dt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function Fr(){return ud.apply(this,arguments)}function ud(){return(ud=(0,x.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function gs(){(0,ne._registerComponent)(new ee.wA("remote-config",function S(C,{instanceIdentifier:N}){const B=C.getProvider("app").getImmediate(),$=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kr.create("registration-window");if(!(0,ie.hl)())throw kr.create("indexed-db-unavailable");const{projectId:te,apiKey:Me,appId:dt}=B.options;if(!te)throw kr.create("registration-project-id");if(!Me)throw kr.create("registration-api-key");if(!dt)throw kr.create("registration-app-id");const ht=new oi(dt,B.name,N=N||"firebase"),_t=new ai(ht),qt=new fe.Yd(nn);qt.logLevel=fe.in.ERROR;const Ct=new Yr($,ne.SDK_VERSION,N,te,Me,dt),yn=new en(Ct,ht),jn=new jo(yn,ht,_t,qt),Xa=new kl(B,jn,_t,ht,qt);return function mo(S){const C=(0,ie.m9)(S);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(Xa),Xa},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(nn,"0.4.4"),(0,ne.registerVersion)(nn,"0.4.4","esm2017")}();const cd="/firebase-messaging-sw.js",ms="/firebase-cloud-messaging-push-scope",vo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Wo="https://fcmregistrations.googleapis.com/v1",zu="google.c.a.c_id",qh="google.c.a.c_l",dd="google.c.a.ts",vg="google.c.a.e";var bo=(()=>{return(S=bo||(bo={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",bo;var S})();function es(S){const C=new Uint8Array(S);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bg(S){const N=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(N),$=new Uint8Array(B.length);for(let te=0;te<B.length;++te)$[te]=B.charCodeAt(te);return $}const Wu="fcm_token_details_db",Zu=5,Di="fcm_token_object_Store";function Ll(){return Ll=(0,x.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(Wu))return null;let C=null;return(yield(0,ce.X3)(Wu,Zu,{upgrade:(B=(0,x.Z)(function*($,te,Me,dt){var ht;if(te<2||!$.objectStoreNames.contains(Di))return;const _t=dt.objectStore(Di),qt=yield _t.index("fcmSenderId").get(S);if(yield _t.clear(),qt)if(2===te){const Ct=qt;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;C={token:Ct.fcmToken,createTime:null!==(ht=Ct.createTime)&&void 0!==ht?ht:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:es(Ct.vapidKey)}}}else if(3===te){const Ct=qt;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:es(Ct.auth),p256dh:es(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:es(Ct.vapidKey)}}}else if(4===te){const Ct=qt;C={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:es(Ct.auth),p256dh:es(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:es(Ct.vapidKey)}}}}),function(te,Me,dt,ht){return B.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Wu),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),function To(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:C}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var B}),Ll.apply(this,arguments)}const Bl="firebase-messaging-database",Tg=1,li="firebase-messaging-store";let hd=null;function wo(){return hd||(hd=(0,ce.X3)(Bl,Tg,{upgrade:(S,C)=>{0===C&&S.createObjectStore(li)}})),hd}function ka(S){return qo.apply(this,arguments)}function qo(){return qo=(0,x.Z)(function*(S){const C=Hs(S),B=yield(yield wo()).transaction(li).objectStore(li).get(C);if(B)return B;{const $=yield function qu(S){return Ll.apply(this,arguments)}(S.appConfig.senderId);if($)return yield Ko(S,$),$}}),qo.apply(this,arguments)}function Ko(S,C){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,x.Z)(function*(S,C){const N=Hs(S),$=(yield wo()).transaction(li,"readwrite");return yield $.objectStore(li).put(C,N),yield $.done,C})).apply(this,arguments)}function Ul(){return(Ul=(0,x.Z)(function*(S){const C=Hs(S),B=(yield wo()).transaction(li,"readwrite");yield B.objectStore(li).delete(C),yield B.done})).apply(this,arguments)}function Hs({appConfig:S}){return S.appId}const an=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Vl(S,C){return La.apply(this,arguments)}function La(){return(La=(0,x.Z)(function*(S,C){const N=yield Yu(S),B=or(C),$={method:"POST",headers:N,body:JSON.stringify(B)};let te;try{te=yield(yield fetch(Ba(S.appConfig),$)).json()}catch(Me){throw an.create("token-subscribe-failed",{errorInfo:Me?.toString()})}if(te.error)throw an.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Gl(){return(Gl=(0,x.Z)(function*(S,C){const N=yield Yu(S),B=or(C.subscriptionOptions),$={method:"PATCH",headers:N,body:JSON.stringify(B)};let te;try{te=yield(yield fetch(`${Ba(S.appConfig)}/${C.token}`,$)).json()}catch(Me){throw an.create("token-update-failed",{errorInfo:Me?.toString()})}if(te.error)throw an.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw an.create("token-update-no-token");return te.token})).apply(this,arguments)}function ts(S,C){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,x.Z)(function*(S,C){const B={method:"DELETE",headers:yield Yu(S)};try{const te=yield(yield fetch(`${Ba(S.appConfig)}/${C}`,B)).json();if(te.error)throw an.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch($){throw an.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function Ba({projectId:S}){return`${Wo}/projects/${S}/registrations`}function Yu(S){return ns.apply(this,arguments)}function ns(){return(ns=(0,x.Z)(function*({appConfig:S,installations:C}){const N=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${N}`})})).apply(this,arguments)}function or({p256dh:S,auth:C,endpoint:N,vapidKey:B}){const $={web:{endpoint:N,auth:C,p256dh:S}};return B!==vo&&($.web.applicationPubKey=B),$}const Qu=6048e5;function Ua(){return Ua=(0,x.Z)(function*(S){const C=yield function gd(S,C){return Va.apply(this,arguments)}(S.swRegistration,S.vapidKey),N={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:C.endpoint,auth:es(C.getKey("auth")),p256dh:es(C.getKey("p256dh"))},B=yield ka(S.firebaseDependencies);if(B){if(function Kh(S,C){return C.vapidKey===S.vapidKey&&C.endpoint===S.endpoint&&C.auth===S.auth&&C.p256dh===S.p256dh}(B.subscriptionOptions,N))return Date.now()>=B.createTime+Qu?function Ju(S,C){return Ot.apply(this,arguments)}(S,{token:B.token,createTime:Date.now(),subscriptionOptions:N}):B.token;try{yield ts(S.firebaseDependencies,B.token)}catch($){console.warn($)}return pd(S.firebaseDependencies,N)}return pd(S.firebaseDependencies,N)}),Ua.apply(this,arguments)}function Qo(){return Qo=(0,x.Z)(function*(S){const C=yield ka(S.firebaseDependencies);C&&(yield ts(S.firebaseDependencies,C.token),yield function Ku(S){return Ul.apply(this,arguments)}(S.firebaseDependencies));const N=yield S.swRegistration.pushManager.getSubscription();return!N||N.unsubscribe()}),Qo.apply(this,arguments)}function Ot(){return Ot=(0,x.Z)(function*(S,C){try{const N=yield function Fn(S,C){return Gl.apply(this,arguments)}(S.firebaseDependencies,C),B=Object.assign(Object.assign({},C),{token:N,createTime:Date.now()});return yield Ko(S.firebaseDependencies,B),N}catch(N){throw yield function _s(S){return Qo.apply(this,arguments)}(S),N}}),Ot.apply(this,arguments)}function pd(S,C){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,x.Z)(function*(S,C){const B={token:yield Vl(S,C),createTime:Date.now(),subscriptionOptions:C};return yield Ko(S,B),B.token})).apply(this,arguments)}function Va(){return(Va=(0,x.Z)(function*(S,C){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bg(C)})})).apply(this,arguments)}function jl(S){const C={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function Yh(S,C){if(!C.notification)return;S.notification={};const N=C.notification.title;N&&(S.notification.title=N);const B=C.notification.body;B&&(S.notification.body=B);const $=C.notification.image;$&&(S.notification.image=$);const te=C.notification.icon;te&&(S.notification.icon=te)}(C,S),function Mn(S,C){C.data&&(S.data=C.data)}(C,S),function Ce(S,C){var N,B,$,te,Me;if(!(C.fcmOptions||null!==(N=C.notification)&&void 0!==N&&N.click_action))return;S.fcmOptions={};const dt=null!==($=null===(B=C.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==$?$:null===(te=C.notification)||void 0===te?void 0:te.click_action;dt&&(S.fcmOptions.link=dt);const ht=null===(Me=C.fcmOptions)||void 0===Me?void 0:Me.analytics_label;ht&&(S.fcmOptions.analyticsLabel=ht)}(C,S),C}function $l(S,C){const N=[];for(let B=0;B<S.length;B++)N.push(S.charAt(B)),B<C.length&&N.push(C.charAt(B));return N.join("")}function ar(S){return an.create("missing-app-config-values",{valueName:S})}$l("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),$l("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xu{constructor(C,N,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Qh(S){if(!S||!S.options)throw ar("App Configuration Object");if(!S.name)throw ar("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:N}=S;for(const B of C)if(!N[B])throw ar(B);return{appName:S.name,projectId:N.projectId,apiKey:N.apiKey,appId:N.appId,senderId:N.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:$,installations:N,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Jo(S){return ui.apply(this,arguments)}function ui(){return(ui=(0,x.Z)(function*(S){try{S.swRegistration=yield navigator.serviceWorker.register(cd,{scope:ms}),S.swRegistration.update().catch(()=>{})}catch(C){throw an.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function Xo(){return(Xo=(0,x.Z)(function*(S,C){if(!C&&!S.swRegistration&&(yield Jo(S)),C||!S.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw an.create("invalid-sw-registration");S.swRegistration=C}})).apply(this,arguments)}function zl(){return(zl=(0,x.Z)(function*(S,C){C?S.vapidKey=C:S.vapidKey||(S.vapidKey=vo)})).apply(this,arguments)}function Hn(){return Hn=(0,x.Z)(function*(S,C){if(!navigator)throw an.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw an.create("permission-blocked");return yield function _d(S,C){return zl.apply(this,arguments)}(S,C?.vapidKey),yield function md(S,C){return Xo.apply(this,arguments)}(S,C?.serviceWorkerRegistration),function Yo(S){return Ua.apply(this,arguments)}(S)}),Hn.apply(this,arguments)}function Ga(){return(Ga=(0,x.Z)(function*(S,C,N){const B=function Ha(S){switch(S){case bo.NOTIFICATION_CLICKED:return"notification_open";case bo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:N[zu],message_name:N[qh],message_time:N[dd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wl(){return Wl=(0,x.Z)(function*(S,C){const N=C.data;if(!N.isFirebaseMessaging)return;S.onMessageHandler&&N.messageType===bo.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(jl(N)):S.onMessageHandler.next(jl(N)));const B=N.data;(function sn(S){return"object"==typeof S&&!!S&&zu in S})(B)&&"1"===B[vg]&&(yield function ci(S,C,N){return Ga.apply(this,arguments)}(S,N.messageType,B))}),Wl.apply(this,arguments)}const yd="@firebase/messaging",tc=S=>{const C=new Xu(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",N=>function Ei(S,C){return Wl.apply(this,arguments)}(C,N)),C},Zl=S=>{const C=S.getProvider("messaging").getImmediate();return{getToken:B=>function ec(S,C){return Hn.apply(this,arguments)}(C,B)}};function nc(){return ql.apply(this,arguments)}function ql(){return(ql=(0,x.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Do(){(0,ne._registerComponent)(new ee.wA("messaging",tc,"PUBLIC")),(0,ne._registerComponent)(new ee.wA("messaging-internal",Zl,"PRIVATE")),(0,ne.registerVersion)(yd,"0.12.4"),(0,ne.registerVersion)(yd,"0.12.4","esm2017")}();const Td="analytics",Sg="firebase_id",Qr="origin",ja=6e4,wn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",js="https://www.googletagmanager.com/gtag/js",Qn=new fe.Yd("@firebase/analytics"),di=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ig(S){if(!S.startsWith(js)){const C=di.create("invalid-gtag-resource",{gtagURL:S});return Qn.warn(C.message),""}return S}function Ag(S){return Promise.all(S.map(C=>C.catch(N=>N)))}function $s(){return($s=(0,x.Z)(function*(S,C,N,B,$,te){const Me=B[$];try{if(Me)yield C[Me];else{const ht=(yield Ag(N)).find(_t=>_t.measurementId===$);ht&&(yield C[ht.appId])}}catch(dt){Qn.error(dt)}S("config",$,te)})).apply(this,arguments)}function Si(){return(Si=(0,x.Z)(function*(S,C,N,B,$){try{let te=[];if($&&$.send_to){let Me=$.send_to;Array.isArray(Me)||(Me=[Me]);const dt=yield Ag(N);for(const ht of Me){const _t=dt.find(Ct=>Ct.measurementId===ht),qt=_t&&C[_t.appId];if(!qt){te=[];break}te.push(qt)}}0===te.length&&(te=Object.values(C)),yield Promise.all(te),S("event",B,$||{})}catch(te){Qn.error(te)}})).apply(this,arguments)}const Dd=30,Ci=new class Ng{constructor(C={},N=1e3){this.throttleMetadata=C,this.intervalMillis=N}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,N){this.throttleMetadata[C]=N}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function lc(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function rs(){return(rs=(0,x.Z)(function*(S){var C;const{appId:N,apiKey:B}=S,$={method:"GET",headers:lc(B)},te=wn.replace("{app-id}",N),Me=yield fetch(te,$);if(200!==Me.status&&304!==Me.status){let dt="";try{const ht=yield Me.json();null!==(C=ht.error)&&void 0!==C&&C.message&&(dt=ht.error.message)}catch{}throw di.create("config-fetch-failed",{httpStatus:Me.status,responseMessage:dt})}return Me.json()})).apply(this,arguments)}function Dn(){return(Dn=(0,x.Z)(function*(S,C=Ci,N){const{appId:B,apiKey:$,measurementId:te}=S.options;if(!B)throw di.create("no-app-id");if(!$){if(te)return{measurementId:te,appId:B};throw di.create("no-api-key")}const Me=C.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},dt=new ef;return setTimeout((0,x.Z)(function*(){dt.abort()}),void 0!==N?N:ja),zs({appId:B,apiKey:$,measurementId:te},Me,dt,C)})).apply(this,arguments)}function zs(S,C,N){return So.apply(this,arguments)}function So(){return So=(0,x.Z)(function*(S,{throttleEndTimeMillis:C,backoffCount:N},B,$=Ci){var te;const{appId:Me,measurementId:dt}=S;try{yield function uc(S,C){return new Promise((N,B)=>{const $=Math.max(C-Date.now(),0),te=setTimeout(N,$);S.addEventListener(()=>{clearTimeout(te),B(di.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(B,C)}catch(ht){if(dt)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${ht?.message}]`),{appId:Me,measurementId:dt};throw ht}try{const ht=yield function Xh(S){return rs.apply(this,arguments)}(S);return $.deleteThrottleMetadata(Me),ht}catch(ht){const _t=ht;if(!function na(S){if(!(S instanceof ie.ZR&&S.customData))return!1;const C=Number(S.customData.httpStatus);return 429===C||500===C||503===C||504===C}(_t)){if($.deleteThrottleMetadata(Me),dt)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${dt} provided in the "measurementId" field in the local Firebase config. [${_t?.message}]`),{appId:Me,measurementId:dt};throw ht}const qt=503===Number(null===(te=_t?.customData)||void 0===te?void 0:te.httpStatus)?(0,ie.$s)(N,$.intervalMillis,Dd):(0,ie.$s)(N,$.intervalMillis),Ct={throttleEndTimeMillis:Date.now()+qt,backoffCount:N+1};return $.setThrottleMetadata(Me,Ct),Qn.debug(`Calling attemptFetch again in ${qt} millis`),zs(S,Ct,B,$)}}),So.apply(this,arguments)}class ef{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let ra,Yl;function ia(){return(ia=(0,x.Z)(function*(S,C,N,B,$){if($&&$.global)S("event",N,B);else{const te=yield C;S("event",N,Object.assign(Object.assign({},B),{send_to:te}))}})).apply(this,arguments)}function Za(){return(Za=(0,x.Z)(function*(){if(!(0,ie.hl)())return Qn.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(S){return Qn.warn(di.create("indexeddb-unavailable",{errorInfo:S?.toString()}).message),!1}return!0})).apply(this,arguments)}function ys(){return ys=(0,x.Z)(function*(S,C,N,B,$,te,Me){var dt;const ht=function ta(S){return Dn.apply(this,arguments)}(S);ht.then(jn=>{N[jn.measurementId]=jn.appId,S.options.measurementId&&jn.measurementId!==S.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${jn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(jn=>Qn.error(jn)),C.push(ht);const _t=function tf(){return Za.apply(this,arguments)}().then(jn=>{if(jn)return B.getId()}),[qt,Ct]=yield Promise.all([ht,_t]);(function Mg(S){const C=window.document.getElementsByTagName("script");for(const N of Object.values(C))if(N.src&&N.src.includes(js)&&N.src.includes(S))return N;return null})(te)||function oc(S,C){const N=function sc(S,C){let N;return window.trustedTypes&&(N=window.trustedTypes.createPolicy(S,C)),N}("firebase-js-sdk-policy",{createScriptURL:Ig}),B=document.createElement("script"),$=`${js}?l=${S}&id=${C}`;B.src=N?N?.createScriptURL($):$,B.async=!0,document.head.appendChild(B)}(te,qt.measurementId),Yl&&($("consent","default",Yl),function qs(S){Yl=S}(void 0)),$("js",new Date);const yn=null!==(dt=Me?.config)&&void 0!==dt?dt:{};return yn[Qr]="firebase",yn.update=!0,null!=Ct&&(yn[Sg]=Ct),$("config",qt.measurementId,yn),ra&&($("set",ra),function aa(S){ra=S}(void 0)),qt.measurementId}),ys.apply(this,arguments)}class Ed{constructor(C){this.app=C}_delete(){return delete Ui[this.app.options.appId],Promise.resolve()}}let Ui={},Ql=[];const Io={};let Jl,Br,Ao="dataLayer",Sd="gtag",dc=!1;function Id(S,C,N){!function la(){const S=[];if((0,ie.ru)()&&S.push("This is a browser extension environment."),(0,ie.zI)()||S.push("Cookies are not available."),S.length>0){const C=S.map((B,$)=>`(${$+1}) ${B}`).join(" "),N=di.create("invalid-analytics-context",{errorInfo:C});Qn.warn(N.message)}}();const B=S.options.appId;if(!B)throw di.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw di.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ui[B])throw di.create("already-exists",{id:B});if(!dc){!function ea(S){let C=[];Array.isArray(window[S])?C=window[S]:window[S]=C}(Ao);const{wrappedGtag:te,gtagCore:Me}=function wd(S,C,N,B,$){let te=function(...Me){window[B].push(arguments)};return window[$]&&"function"==typeof window[$]&&(te=window[$]),window[$]=function $a(S,C,N,B){function te(){return te=(0,x.Z)(function*(Me,dt,ht){try{"event"===Me?yield function Kl(S,C,N,B,$){return Si.apply(this,arguments)}(S,C,N,dt,ht):"config"===Me?yield function Eo(S,C,N,B,$,te){return $s.apply(this,arguments)}(S,C,N,B,dt,ht):"consent"===Me?S("consent","update",ht):S("set",dt)}catch(_t){Qn.error(_t)}}),te.apply(this,arguments)}return function $(Me,dt,ht){return te.apply(this,arguments)}}(te,S,C,N),{gtagCore:te,wrappedGtag:window[$]}}(Ui,Ql,Io,Ao,Sd);Br=te,Jl=Me,dc=!0}return Ui[B]=function nf(S,C,N,B,$,te,Me){return ys.apply(this,arguments)}(S,Ql,Io,C,Jl,Ao,N),new Ed(S)}function Ks(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,x.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const sf="@firebase/analytics";!function af(){(0,ne._registerComponent)(new ee.wA(Td,(C,{options:N})=>Id(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),N),"PUBLIC")),(0,ne._registerComponent)(new ee.wA("analytics-internal",function S(C){try{const N=C.getProvider(Td).getImmediate();return{logEvent:(B,$,te)=>function Ys(S,C,N,B){S=(0,ie.m9)(S),function za(S,C,N,B,$){return ia.apply(this,arguments)}(Br,Ui[S.app.options.appId],C,N,B).catch($=>Qn.error($))}(N,B,$,te)}}catch(N){throw di.create("interop-component-reg-failed",{reason:N})}},"PRIVATE")),(0,ne.registerVersion)(sf,"0.9.5"),(0,ne.registerVersion)(sf,"0.9.5","esm2017")}();var lf=k(4408),uf=k(7565);const ca=new class Rg extends uf.v{}(class Q_ extends lf.o{constructor(C,N){super(C,N),this.scheduler=C,this.work=N}schedule(C,N=0){return N>0?super.schedule(C,N):(this.delay=N,this.state=C,this.scheduler.flush(this),this)}execute(C,N){return N>0||this.closed?super.execute(C,N):this._execute(C,N)}requestAsyncId(C,N,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(C,N,B):(C.flush(this),0)}});var df=k(4986),lr=k(8505),Ya=k(5363),vs=k(9468);const da=new a.GfV("7.5.0"),Ur="__angularfire_symbol__analyticsIsSupportedValue",Qs="__angularfire_symbol__analyticsIsSupported",hc="__angularfire_symbol__remoteConfigIsSupportedValue",Qa="__angularfire_symbol__remoteConfigIsSupported",Js="__angularfire_symbol__messagingIsSupportedValue",fc="__angularfire_symbol__messagingIsSupported";function Ai(S,C,N){if(C){if(1===C.length)return C[0];const te=C.filter(Me=>Me.app===N);if(1===te.length)return te[0]}return N.container.getProvider(S).getImmediate({optional:!0})}globalThis[Qs]||(globalThis[Qs]=Ks().then(S=>globalThis[Ur]=S).catch(()=>globalThis[Ur]=!1)),globalThis[fc]||(globalThis[fc]=nc().then(S=>globalThis[Js]=S).catch(()=>globalThis[Js]=!1)),globalThis[Qa]||(globalThis[Qa]=Fr().then(S=>globalThis[hc]=S).catch(()=>globalThis[hc]=!1));const it=(S,C)=>{const N=C?[C]:(0,Y.C6)(),B=[];return N.forEach($=>{$.container.getProvider(S).instances.forEach(Me=>{B.includes(Me)||B.push(Me)})}),B};function Jt(){}class mn{constructor(C,N=ca){this.zone=C,this.delegate=N}now(){return this.delegate.now()}schedule(C,N,B){const $=this.zone;return this.delegate.schedule(function(Me){$.runGuarded(()=>{C.apply(this,[Me])})},N,B)}}class ff{constructor(C){this.zone=C,this.task=null}call(C,N){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jt,{},Jt,Jt)),N.pipe((0,lr.b)({next:B,complete:B,error:B})).subscribe(C).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xs=(()=>{class S{constructor(N){this.ngZone=N,this.outsideAngular=N.runOutsideAngular(()=>new mn(Zone.current)),this.insideAngular=N.run(()=>new mn(Zone.current,df.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(N){return new(N||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Nn(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function pc(S){return S.pipe((0,Ya.Q)(Nn().outsideAngular))}function ha(S){return Nn(),function Ja(S){return function(N){return(N=N.lift(new ff(S.ngZone))).pipe((0,vs.R)(S.outsideAngular),(0,Ya.Q)(S.insideAngular))}}(Nn())(S)}},2090:(yt,be,k)=>{k.d(be,{$s:()=>At,BH:()=>Ie,G6:()=>Ae,L:()=>ue,LL:()=>St,Pz:()=>ve,Sg:()=>Ve,UG:()=>_e,US:()=>ee,ZB:()=>q,ZR:()=>ln,aH:()=>we,b$:()=>vt,eu:()=>$e,hl:()=>xe,jU:()=>ke,m9:()=>xr,ne:()=>kt,pd:()=>Rr,r3:()=>bi,ru:()=>Ze,tV:()=>H,uI:()=>V,vZ:()=>ii,w1:()=>se,xO:()=>Bi,xb:()=>Ls,z$:()=>Re,zI:()=>et,zd:()=>xn});const ne=function(G){const U=[];let W=0;for(let ge=0;ge<G.length;ge++){let X=G.charCodeAt(ge);X<128?U[W++]=X:X<2048?(U[W++]=X>>6|192,U[W++]=63&X|128):55296==(64512&X)&&ge+1<G.length&&56320==(64512&G.charCodeAt(ge+1))?(X=65536+((1023&X)<<10)+(1023&G.charCodeAt(++ge)),U[W++]=X>>18|240,U[W++]=X>>12&63|128,U[W++]=X>>6&63|128,U[W++]=63&X|128):(U[W++]=X>>12|224,U[W++]=X>>6&63|128,U[W++]=63&X|128)}return U},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,U){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=U?this.byteToCharMapWebSafe_:this.byteToCharMap_,ge=[];for(let X=0;X<G.length;X+=3){const rt=G[X],Ye=X+1<G.length,gn=Ye?G[X+1]:0,kn=X+2<G.length,Un=kn?G[X+2]:0;let Kr=(15&gn)<<2|Un>>6,Ji=63&Un;kn||(Ji=64,Ye||(Kr=64)),ge.push(W[rt>>2],W[(3&rt)<<4|gn>>4],W[Kr],W[Ji])}return ge.join("")},encodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?btoa(G):this.encodeByteArray(ne(G),U)},decodeString(G,U){return this.HAS_NATIVE_SUPPORT&&!U?atob(G):function(G){const U=[];let W=0,ge=0;for(;W<G.length;){const X=G[W++];if(X<128)U[ge++]=String.fromCharCode(X);else if(X>191&&X<224){const rt=G[W++];U[ge++]=String.fromCharCode((31&X)<<6|63&rt)}else if(X>239&&X<365){const kn=((7&X)<<18|(63&G[W++])<<12|(63&G[W++])<<6|63&G[W++])-65536;U[ge++]=String.fromCharCode(55296+(kn>>10)),U[ge++]=String.fromCharCode(56320+(1023&kn))}else{const rt=G[W++],Ye=G[W++];U[ge++]=String.fromCharCode((15&X)<<12|(63&rt)<<6|63&Ye)}}return U.join("")}(this.decodeStringToByteArray(G,U))},decodeStringToByteArray(G,U){this.init_();const W=U?this.charToByteMapWebSafe_:this.charToByteMap_,ge=[];for(let X=0;X<G.length;){const rt=W[G.charAt(X++)],gn=X<G.length?W[G.charAt(X)]:0;++X;const Un=X<G.length?W[G.charAt(X)]:64;++X;const Ft=X<G.length?W[G.charAt(X)]:64;if(++X,null==rt||null==gn||null==Un||null==Ft)throw new fe;ge.push(rt<<2|gn>>4),64!==Un&&(ge.push(gn<<4&240|Un>>2),64!==Ft&&ge.push(Un<<6&192|Ft))}return ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ue=function(G){return function(G){const U=ne(G);return ee.encodeByteArray(U,!0)}(G).replace(/\./g,"")},H=function(G){try{return ee.decodeString(G,!0)}catch(U){console.error("base64Decode failed: ",U)}return null};function q(G,U){if(!(U instanceof Object))return U;switch(U.constructor){case Date:return new Date(U.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return U}for(const W in U)!U.hasOwnProperty(W)||!je(W)||(G[W]=q(G[W],U[W]));return G}function je(G){return"__proto__"!==G}const Ee=()=>{try{return function De(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const U=G&&H(G[1]);return U&&JSON.parse(U)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},we=()=>{var G;return null===(G=Ee())||void 0===G?void 0:G.config},ve=G=>{var U;return null===(U=Ee())||void 0===U?void 0:U[`_${G}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((U,W)=>{this.resolve=U,this.reject=W})}wrapCallback(U){return(W,ge)=>{W?this.reject(W):this.resolve(ge),"function"==typeof U&&(this.promise.catch(()=>{}),1===U.length?U(W):U(W,ge))}}}function Ve(G,U){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ge=U||"demo-project",X=G.iat||0,rt=G.sub||G.user_id;if(!rt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ye=Object.assign({iss:`https://securetoken.google.com/${ge}`,aud:ge,iat:X,exp:X+3600,auth_time:X,sub:rt,user_id:rt,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(Ye)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function V(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function _e(){var G;const U=null===(G=Ee())||void 0===G?void 0:G.forceEnvironment;if("node"===U)return!0;if("browser"===U)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ke(){return"object"==typeof self&&self.self===self}function Ze(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function vt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function se(){const G=Re();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ae(){return!_e()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function $e(){return new Promise((G,U)=>{try{let W=!0;const ge="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(ge);X.onsuccess=()=>{X.result.close(),W||self.indexedDB.deleteDatabase(ge),G(!0)},X.onupgradeneeded=()=>{W=!1},X.onerror=()=>{var rt;U((null===(rt=X.error)||void 0===rt?void 0:rt.message)||"")}}catch(W){U(W)}})}function et(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ln extends Error{constructor(U,W,ge){super(W),this.code=U,this.customData=ge,this.name="FirebaseError",Object.setPrototypeOf(this,ln.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,St.prototype.create)}}class St{constructor(U,W,ge){this.service=U,this.serviceName=W,this.errors=ge}create(U,...W){const ge=W[0]||{},X=`${this.service}/${U}`,rt=this.errors[U],Ye=rt?function on(G,U){return G.replace(nt,(W,ge)=>{const X=U[ge];return null!=X?String(X):`<${ge}?>`})}(rt,ge):"Error";return new ln(X,`${this.serviceName}: ${Ye} (${X}).`,ge)}}const nt=/\{\$([^}]+)}/g;function bi(G,U){return Object.prototype.hasOwnProperty.call(G,U)}function Ls(G){for(const U in G)if(Object.prototype.hasOwnProperty.call(G,U))return!1;return!0}function ii(G,U){if(G===U)return!0;const W=Object.keys(G),ge=Object.keys(U);for(const X of W){if(!ge.includes(X))return!1;const rt=G[X],Ye=U[X];if(Tt(rt)&&Tt(Ye)){if(!ii(rt,Ye))return!1}else if(rt!==Ye)return!1}for(const X of ge)if(!W.includes(X))return!1;return!0}function Tt(G){return null!==G&&"object"==typeof G}function Bi(G){const U=[];for(const[W,ge]of Object.entries(G))Array.isArray(ge)?ge.forEach(X=>{U.push(encodeURIComponent(W)+"="+encodeURIComponent(X))}):U.push(encodeURIComponent(W)+"="+encodeURIComponent(ge));return U.length?"&"+U.join("&"):""}function xn(G){const U={};return G.replace(/^\?/,"").split("&").forEach(ge=>{if(ge){const[X,rt]=ge.split("=");U[decodeURIComponent(X)]=decodeURIComponent(rt)}}),U}function Rr(G){const U=G.indexOf("?");if(!U)return"";const W=G.indexOf("#",U);return G.substring(U,W>0?W:void 0)}function kt(G,U){const W=new wt(G,U);return W.subscribe.bind(W)}class wt{constructor(U,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{U(this)}).catch(ge=>{this.error(ge)})}next(U){this.forEachObserver(W=>{W.next(U)})}error(U){this.forEachObserver(W=>{W.error(U)}),this.close(U)}complete(){this.forEachObserver(U=>{U.complete()}),this.close()}subscribe(U,W,ge){let X;if(void 0===U&&void 0===W&&void 0===ge)throw new Error("Missing Observer.");X=function Us(G,U){if("object"!=typeof G||null===G)return!1;for(const W of U)if(W in G&&"function"==typeof G[W])return!0;return!1}(U,["next","error","complete"])?U:{next:U,error:W,complete:ge},void 0===X.next&&(X.next=Tn),void 0===X.error&&(X.error=Tn),void 0===X.complete&&(X.complete=Tn);const rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),rt}unsubscribeOne(U){void 0===this.observers||void 0===this.observers[U]||(delete this.observers[U],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(U){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,U)}sendOne(U,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[U])try{W(this.observers[U])}catch(ge){typeof console<"u"&&console.error&&console.error(ge)}})}close(U){this.finalized||(this.finalized=!0,void 0!==U&&(this.finalError=U),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tn(){}const Qi=1e3,We=2,Te=144e5,ut=.5;function At(G,U=Qi,W=We){const ge=U*Math.pow(W,G),X=Math.round(ut*ge*(Math.random()-.5)*2);return Math.min(Te,ge+X)}function xr(G){return G&&G._delegate?G._delegate:G}},7431:(yt,be,k)=>{var a=k(4650);let Y=null;function x(){return Y}class ie{}const ee=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ce(){return(0,a.LFG)(H)}()},providedIn:"platform"}),n})();const ue=new a.OlP("Location Initialized");let H=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return x().getBaseHref(this._doc)}onPopState(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=x().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function q(){return new H((0,a.LFG)(ee))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function qe(n){return n&&"?"!==n[0]?"?"+n:n}let pt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(Ee)},providedIn:"root"}),n})();const he=new a.OlP("appBaseHref");let Ee=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+qe(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const c=this.prepareExternalUrl(i+qe(l));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){const c=this.prepareExternalUrl(i+qe(l));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(he,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends pt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=je(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let c=this.prepareExternalUrl(i+qe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,l){let c=this.prepareExternalUrl(i+qe(l));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(he,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Le=(()=>{class n{constructor(t){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ve(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(De(Ie(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+qe(r))}normalize(t){return n.stripTrailingSlash(function ve(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+qe(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=qe,n.joinWithSlash=je,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(a.LFG(pt))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function we(){return new Le((0,a.LFG)(pt))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}var V=(()=>((V=V||{})[V.Decimal=0]="Decimal",V[V.Percent=1]="Percent",V[V.Currency=2]="Currency",V[V.Scientific=3]="Scientific",V))(),ke=(()=>((ke=ke||{})[ke.Format=0]="Format",ke[ke.Standalone=1]="Standalone",ke))(),Ze=(()=>((Ze=Ze||{})[Ze.Narrow=0]="Narrow",Ze[Ze.Abbreviated=1]="Abbreviated",Ze[Ze.Wide=2]="Wide",Ze[Ze.Short=3]="Short",Ze))(),vt=(()=>((vt=vt||{})[vt.Short=0]="Short",vt[vt.Medium=1]="Medium",vt[vt.Long=2]="Long",vt[vt.Full=3]="Full",vt))(),ot=(()=>((ot=ot||{})[ot.Decimal=0]="Decimal",ot[ot.Group=1]="Group",ot[ot.List=2]="List",ot[ot.PercentSign=3]="PercentSign",ot[ot.PlusSign=4]="PlusSign",ot[ot.MinusSign=5]="MinusSign",ot[ot.Exponential=6]="Exponential",ot[ot.SuperscriptingExponent=7]="SuperscriptingExponent",ot[ot.PerMille=8]="PerMille",ot[ot.Infinity=9]="Infinity",ot[ot.NaN=10]="NaN",ot[ot.TimeSeparator=11]="TimeSeparator",ot[ot.CurrencyDecimal=12]="CurrencyDecimal",ot[ot.CurrencyGroup=13]="CurrencyGroup",ot))();function ye(n,e,t){const r=(0,a.cg1)(n),l=Cn([r[a.wAp.DayPeriodsFormat],r[a.wAp.DayPeriodsStandalone]],e);return Cn(l,t)}function Ae(n,e,t){const r=(0,a.cg1)(n),l=Cn([r[a.wAp.DaysFormat],r[a.wAp.DaysStandalone]],e);return Cn(l,t)}function xe(n,e,t){const r=(0,a.cg1)(n),l=Cn([r[a.wAp.MonthsFormat],r[a.wAp.MonthsStandalone]],e);return Cn(l,t)}function ln(n,e){return Cn((0,a.cg1)(n)[a.wAp.DateFormat],e)}function St(n,e){return Cn((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function on(n,e){return Cn((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function nt(n,e){const t=(0,a.cg1)(n),r=t[a.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===ot.CurrencyDecimal)return t[a.wAp.NumberSymbols][ot.Decimal];if(e===ot.CurrencyGroup)return t[a.wAp.NumberSymbols][ot.Group]}return r}function fo(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Cn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function ii(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const xn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Rr={},po=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var kt=(()=>((kt=kt||{})[kt.Short=0]="Short",kt[kt.ShortGMT=1]="ShortGMT",kt[kt.Long=2]="Long",kt[kt.Extended=3]="Extended",kt))(),wt=(()=>((wt=wt||{})[wt.FullYear=0]="FullYear",wt[wt.Month=1]="Month",wt[wt.Date=2]="Date",wt[wt.Hours=3]="Hours",wt[wt.Minutes=4]="Minutes",wt[wt.Seconds=5]="Seconds",wt[wt.FractionalSeconds=6]="FractionalSeconds",wt[wt.Day=7]="Day",wt))(),Nt=(()=>((Nt=Nt||{})[Nt.DayPeriods=0]="DayPeriods",Nt[Nt.Days=1]="Days",Nt[Nt.Months=2]="Months",Nt[Nt.Eras=3]="Eras",Nt))();function Us(n,e,t,r){let i=function X(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,c=1]=n.split("-").map(p=>+p);return Tn(i,l-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(xn))return function rt(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,p=Number(n[5]||0)-r,_=Number(n[6]||0),T=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,c,p,_,T),e}(r)}const e=new Date(n);if(!Ye(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Kn(t,e)||e;let p,c=[];for(;e;){if(p=po.exec(e),!p){c.push(e);break}{c=c.concat(p.slice(1));const D=c.pop();if(!D)break;e=D}}let _=i.getTimezoneOffset();r&&(_=U(r,_),i=function ge(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function W(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(U(e,i)-i))}(i,r,!0));let T="";return c.forEach(D=>{const M=function G(n){if(xr[n])return xr[n];let e;switch(n){case"G":case"GG":case"GGG":e=tn(Nt.Eras,Ze.Abbreviated);break;case"GGGG":e=tn(Nt.Eras,Ze.Wide);break;case"GGGGG":e=tn(Nt.Eras,Ze.Narrow);break;case"y":e=dn(wt.FullYear,1,0,!1,!0);break;case"yy":e=dn(wt.FullYear,2,0,!0,!0);break;case"yyy":e=dn(wt.FullYear,3,0,!1,!0);break;case"yyyy":e=dn(wt.FullYear,4,0,!1,!0);break;case"Y":e=Vt(1);break;case"YY":e=Vt(2,!0);break;case"YYY":e=Vt(3);break;case"YYYY":e=Vt(4);break;case"M":case"L":e=dn(wt.Month,1,1);break;case"MM":case"LL":e=dn(wt.Month,2,1);break;case"MMM":e=tn(Nt.Months,Ze.Abbreviated);break;case"MMMM":e=tn(Nt.Months,Ze.Wide);break;case"MMMMM":e=tn(Nt.Months,Ze.Narrow);break;case"LLL":e=tn(Nt.Months,Ze.Abbreviated,ke.Standalone);break;case"LLLL":e=tn(Nt.Months,Ze.Wide,ke.Standalone);break;case"LLLLL":e=tn(Nt.Months,Ze.Narrow,ke.Standalone);break;case"w":e=xt(1);break;case"ww":e=xt(2);break;case"W":e=xt(1,!0);break;case"d":e=dn(wt.Date,1);break;case"dd":e=dn(wt.Date,2);break;case"c":case"cc":e=dn(wt.Day,1);break;case"ccc":e=tn(Nt.Days,Ze.Abbreviated,ke.Standalone);break;case"cccc":e=tn(Nt.Days,Ze.Wide,ke.Standalone);break;case"ccccc":e=tn(Nt.Days,Ze.Narrow,ke.Standalone);break;case"cccccc":e=tn(Nt.Days,Ze.Short,ke.Standalone);break;case"E":case"EE":case"EEE":e=tn(Nt.Days,Ze.Abbreviated);break;case"EEEE":e=tn(Nt.Days,Ze.Wide);break;case"EEEEE":e=tn(Nt.Days,Ze.Narrow);break;case"EEEEEE":e=tn(Nt.Days,Ze.Short);break;case"a":case"aa":case"aaa":e=tn(Nt.DayPeriods,Ze.Abbreviated);break;case"aaaa":e=tn(Nt.DayPeriods,Ze.Wide);break;case"aaaaa":e=tn(Nt.DayPeriods,Ze.Narrow);break;case"b":case"bb":case"bbb":e=tn(Nt.DayPeriods,Ze.Abbreviated,ke.Standalone,!0);break;case"bbbb":e=tn(Nt.DayPeriods,Ze.Wide,ke.Standalone,!0);break;case"bbbbb":e=tn(Nt.DayPeriods,Ze.Narrow,ke.Standalone,!0);break;case"B":case"BB":case"BBB":e=tn(Nt.DayPeriods,Ze.Abbreviated,ke.Format,!0);break;case"BBBB":e=tn(Nt.DayPeriods,Ze.Wide,ke.Format,!0);break;case"BBBBB":e=tn(Nt.DayPeriods,Ze.Narrow,ke.Format,!0);break;case"h":e=dn(wt.Hours,1,-12);break;case"hh":e=dn(wt.Hours,2,-12);break;case"H":e=dn(wt.Hours,1);break;case"HH":e=dn(wt.Hours,2);break;case"m":e=dn(wt.Minutes,1);break;case"mm":e=dn(wt.Minutes,2);break;case"s":e=dn(wt.Seconds,1);break;case"ss":e=dn(wt.Seconds,2);break;case"S":e=dn(wt.FractionalSeconds,1);break;case"SS":e=dn(wt.FractionalSeconds,2);break;case"SSS":e=dn(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Qi(kt.Short);break;case"ZZZZZ":e=Qi(kt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Qi(kt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Qi(kt.Long);break;default:return null}return xr[n]=e,e}(D);T+=M?M(i,t,_):"''"===D?"'":D.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),T}function Tn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Kn(n,e){const t=function de(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(Rr[t]=Rr[t]||{},Rr[t][e])return Rr[t][e];let r="";switch(e){case"shortDate":r=ln(n,vt.Short);break;case"mediumDate":r=ln(n,vt.Medium);break;case"longDate":r=ln(n,vt.Long);break;case"fullDate":r=ln(n,vt.Full);break;case"shortTime":r=St(n,vt.Short);break;case"mediumTime":r=St(n,vt.Medium);break;case"longTime":r=St(n,vt.Long);break;case"fullTime":r=St(n,vt.Full);break;case"short":const i=Kn(n,"shortTime"),l=Kn(n,"shortDate");r=Zr(on(n,vt.Short),[i,l]);break;case"medium":const c=Kn(n,"mediumTime"),p=Kn(n,"mediumDate");r=Zr(on(n,vt.Medium),[c,p]);break;case"long":const _=Kn(n,"longTime"),T=Kn(n,"longDate");r=Zr(on(n,vt.Long),[_,T]);break;case"full":const D=Kn(n,"fullTime"),M=Kn(n,"fullDate");r=Zr(on(n,vt.Full),[D,M])}return r&&(Rr[t][e]=r),r}function Zr(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Pr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),l+c}function dn(n,e,t=0,r=!1,i=!1){return function(l,c){let p=function fs(n,e){switch(n){case wt.FullYear:return e.getFullYear();case wt.Month:return e.getMonth();case wt.Date:return e.getDate();case wt.Hours:return e.getHours();case wt.Minutes:return e.getMinutes();case wt.Seconds:return e.getSeconds();case wt.FractionalSeconds:return e.getMilliseconds();case wt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||p>-t)&&(p+=t),n===wt.Hours)0===p&&-12===t&&(p=12);else if(n===wt.FractionalSeconds)return function Ra(n,e){return Pr(n,3).substring(0,e)}(p,e);const _=nt(c,ot.MinusSign);return Pr(p,e,_,r,i)}}function tn(n,e,t=ke.Format,r=!1){return function(i,l){return function qr(n,e,t,r,i,l){switch(t){case Nt.Months:return xe(e,i,r)[n.getMonth()];case Nt.Days:return Ae(e,i,r)[n.getDay()];case Nt.DayPeriods:const c=n.getHours(),p=n.getMinutes();if(l){const T=function bi(n){const e=(0,a.cg1)(n);return fo(e),(e[a.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?ii(r):[ii(r[0]),ii(r[1])])}(e),D=function ri(n,e,t){const r=(0,a.cg1)(n);fo(r);const l=Cn([r[a.wAp.ExtraData][0],r[a.wAp.ExtraData][1]],e)||[];return Cn(l,t)||[]}(e,i,r),M=T.findIndex(P=>{if(Array.isArray(P)){const[L,K]=P,J=c>=L.hours&&p>=L.minutes,re=c<K.hours||c===K.hours&&p<K.minutes;if(L.hours<K.hours){if(J&&re)return!0}else if(J||re)return!0}else if(P.hours===c&&P.minutes===p)return!0;return!1});if(-1!==M)return D[M]}return ye(e,i,r)[c<12?0:1];case Nt.Eras:return function $e(n,e){return Cn((0,a.cg1)(n)[a.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function Qi(n){return function(e,t,r){const i=-1*r,l=nt(t,ot.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case kt.Short:return(i>=0?"+":"")+Pr(c,2,l)+Pr(Math.abs(i%60),2,l);case kt.ShortGMT:return"GMT"+(i>=0?"+":"")+Pr(c,1,l);case kt.Long:return"GMT"+(i>=0?"+":"")+Pr(c,2,l)+":"+Pr(Math.abs(i%60),2,l);case kt.Extended:return 0===r?"Z":(i>=0?"+":"")+Pr(c,2,l)+":"+Pr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}const We=0,Te=4;function At(n){return Tn(n.getFullYear(),n.getMonth(),n.getDate()+(Te-n.getDay()))}function xt(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+l)/7)}else{const l=At(t),c=function ut(n){const e=Tn(n,We,1).getDay();return Tn(n,0,1+(e<=Te?Te:Te+7)-e)}(l.getFullYear()),p=l.getTime()-c.getTime();i=1+Math.round(p/6048e5)}return Pr(i,n,nt(r,ot.MinusSign))}}function Vt(n,e=!1){return function(t,r){return Pr(At(t).getFullYear(),n,nt(r,ot.MinusSign),e)}}const xr={};function U(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}const gn=/^(\d+)?\.((\d+)(-(\d+))?)?$/,kn=22,Un=".",ir="0",Ft=";",Kr=",",Ji="#";function Yn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Xi{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let rn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Xi(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===l?void 0:l);else if(null!==l){const p=r.get(l);r.move(p,c),mo(p,i)}});for(let i=0,l=r.length;i<l;i++){const p=r.get(i).context;p.index=i,p.count=l,p.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{mo(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function mo(n,e){n.context.$implicit=e.item}let An=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Pa,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ht("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ht("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Pa{constructor(){this.$implicit=null,this.ngIf=null}}function Ht(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}let Gn=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:l,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,l,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.TTD]}),n})();let Wo=(()=>{class n{constructor(t){this.differs=t,this.keyValues=[],this.compareFn=zu}transform(t,r=zu){if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());const i=this.differ.diff(t),l=r!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(c=>{this.keyValues.push(function vo(n,e){return{key:n,value:e}}(c.key,c.currentValue))})),(i||l)&&(this.keyValues.sort(r),this.compareFn=r),this.keyValues}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.aQg,16))},n.\u0275pipe=a.Yjl({name:"keyvalue",type:n,pure:!1,standalone:!0}),n})();function zu(n,e){const t=n.key,r=e.key;if(t===r)return 0;if(void 0===t)return 1;if(void 0===r)return-1;if(null===t)return 1;if(null===r)return-1;if("string"==typeof t&&"string"==typeof r)return t<r?-1:1;if("number"==typeof t&&"number"==typeof r)return t-r;if("boolean"==typeof t&&"boolean"==typeof r)return t<r?-1:1;const i=String(t),l=String(r);return i==l?0:i<l?-1:1}let dd=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Zo(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function Pl(n,e,t){return function Vu(n,e,t,r,i,l,c=!1){let p="",_=!1;if(isFinite(n)){let T=function Hu(n){let r,i,l,c,p,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Un))>-1&&(e=e.replace(Un,"")),(l=e.search(/e/i))>0?(i<0&&(i=l),i+=+e.slice(l+1),e=e.substring(0,l)):i<0&&(i=e.length),l=0;e.charAt(l)===ir;l++);if(l===(p=e.length))r=[0],i=1;else{for(p--;e.charAt(p)===ir;)p--;for(i-=l,r=[],c=0;l<=p;l++,c++)r[c]=Number(e.charAt(l))}return i>kn&&(r=r.splice(0,kn-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(T=function Gu(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let D=e.minInt,M=e.minFrac,P=e.maxFrac;if(l){const ze=l.match(gn);if(null===ze)throw new Error(`${l} is not a valid digit info`);const Ge=ze[1],Ue=ze[3],Ke=ze[5];null!=Ge&&(D=Yn(Ge)),null!=Ue&&(M=Yn(Ue)),null!=Ke?P=Yn(Ke):null!=Ue&&M>P&&(P=M)}!function nn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const l=Math.min(Math.max(e,i),t);let c=l+n.integerLen,p=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let M=c;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=l+1),r[0]=0;for(let M=1;M<c;M++)r[M]=0}if(p>=5)if(c-1<0){for(let M=0;M>c;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,l);i++)r.push(0);let _=0!==l;const T=e+n.integerLen,D=r.reduceRight(function(M,P,L,K){return K[L]=(P+=M)<10?P:P-10,_&&(0===K[L]&&L>=T?K.pop():_=!1),P>=10?1:0},0);D&&(r.unshift(D),n.integerLen++)}(T,M,P);let L=T.digits,K=T.integerLen;const J=T.exponent;let re=[];for(_=L.every(ze=>!ze);K<D;K++)L.unshift(0);for(;K<0;K++)L.unshift(0);K>0?re=L.splice(K,L.length):(re=L,L=[0]);const Be=[];for(L.length>=e.lgSize&&Be.unshift(L.splice(-e.lgSize,L.length).join(""));L.length>e.gSize;)Be.unshift(L.splice(-e.gSize,L.length).join(""));L.length&&Be.unshift(L.join("")),p=Be.join(nt(t,r)),re.length&&(p+=nt(t,i)+re.join("")),J&&(p+=nt(t,ot.Exponential)+"+"+J)}else p=nt(t,ot.Infinity);return p=n<0&&!_?e.negPre+p+e.negSuf:e.posPre+p+e.posSuf,p}(n,function Vn(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(Ft),i=r[0],l=r[1],c=-1!==i.indexOf(Un)?i.split(Un):[i.substring(0,i.lastIndexOf(ir)+1),i.substring(i.lastIndexOf(ir)+1)],p=c[0],_=c[1]||"";t.posPre=p.substring(0,p.indexOf(Ji));for(let D=0;D<_.length;D++){const M=_.charAt(D);M===ir?t.minFrac=t.maxFrac=D+1:M===Ji?t.maxFrac=D+1:t.posSuf+=M}const T=p.split(Kr);if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,l){const D=i.length-t.posPre.length-t.posSuf.length,M=l.indexOf(Ji);t.negPre=l.substring(0,M).replace(/'/g,""),t.negSuf=l.slice(M+D).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Mt(n,e){return(0,a.cg1)(n)[a.wAp.NumberFormats][e]}(e,V.Percent),nt(e,ot.MinusSign)),e,ot.Group,ot.Decimal,t,!0).replace(new RegExp("%","g"),nt(e,ot.PercentSign))}(function bo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(l){throw function en(n,e){return new a.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Wu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Zu="browser",Di="server";function To(n){return n===Zu}function Bl(n){return n===Di}let wo=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new ka((0,a.LFG)(ee),window)}),n})();class ka{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ko(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const c=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=qo(this.window.history)||qo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ea extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Eo extends ea{static makeCurrent(){!function ne(n){Y||(Y=n)}(new Eo)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Kl(){return $s=$s||document.querySelector("base"),$s?$s.getAttribute("href"):null}();return null==t?null:function $a(n){Si=Si||document.createElement("a"),Si.setAttribute("href",n);const e=Si.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$s=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xl(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Si,$s=null;const wd=new a.OlP("TRANSITION_ID"),Dd=[{provide:a.ip1,useFactory:function Mg(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=x(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[wd,ee,a.zs3],multi:!0}];let Ng=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ci=new a.OlP("EventManagerPlugins");let lc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const c=i[l];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ci),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Xh{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=x().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let rs=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let l=i.get(t)??0;return l+=r,l>0?i.set(t,l):i.delete(t),l}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ta=(()=>{class n extends rs{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(l=>l.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const l=this.styleRef.get(r);l?l.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Dn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zs=/%COMP%/g,za=new a.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function sa(n,e){return e.flat(100).map(t=>t.replace(zs,n))}function Co(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ws=(()=>{class n{constructor(t,r,i,l){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=l,this.rendererByCompId=new Map,this.defaultRenderer=new Ii(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof aa?i.applyToHost(t):i instanceof qs&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let l=i.get(r.id);if(!l){const c=this.eventManager,p=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case a.ifc.Emulated:l=new aa(c,p,r,this.appId,_);break;case a.ifc.ShadowDom:return new Yl(c,p,t,r);default:l=new qs(c,p,r,_)}l.onDestroy=()=>i.delete(r.id),i.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(lc),a.LFG(ta),a.LFG(a.AFp),a.LFG(za))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Ii{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Zs(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Zs(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Dn[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Dn[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Co(r)):this.eventManager.addEventListener(e,t,Co(r))}}function Zs(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Yl extends Ii{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=sa(i.id,i.styles);for(const c of l){const p=document.createElement("style");p.textContent=c,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qs extends Ii{constructor(e,t,r,i,l=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=sa(l,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class aa extends qs{constructor(e,t,r,i,l){const c=i+"-"+r.id;super(e,t,r,l,c),this.contentAttr=function ia(n){return"_ngcontent-%COMP%".replace(zs,n)}(c),this.hostAttr=function cc(n){return"_nghost-%COMP%".replace(zs,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let tf=(()=>{class n extends Xh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Za=["alt","control","meta","shift"],nf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ys={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ed=(()=>{class n extends Xh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),c=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>x().onAndCancel(t,l.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let c="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),c="code."),Za.forEach(T=>{const D=r.indexOf(T);D>-1&&(r.splice(D,1),c+=T+".")}),c+=l,0!=r.length||0===l.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=nf[t.key]||t.key,l="";return r.indexOf("code.")>-1&&(i=t.code,l="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Za.forEach(c=>{c!==i&&(0,ys[c])(t)&&(l+=c+".")}),l+=i,l===r)}static eventCallback(t,r,i){return l=>{n.matchEventFullKeyCode(l,t)&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const la=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Zu},{provide:a.g9A,useValue:function Jl(){Eo.makeCurrent()},multi:!0},{provide:ee,useFactory:function dc(){return(0,a.RDi)(document),document},deps:[]}]),Id=new a.OlP(""),Ad=[{provide:a.rWj,useClass:class ac{addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,c=!1;const p=function(_){c=c||_,l--,0==l&&r(c)};i.forEach(function(_){_.whenStable(p)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?x().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Xl=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Br(){return new a.qLn},deps:[]},{provide:Ci,useClass:tf,multi:!0,deps:[ee,a.R0b,a.Lbi]},{provide:Ci,useClass:Ed,multi:!0,deps:[ee]},{provide:Ws,useClass:Ws,deps:[lc,ta,a.AFp,za]},{provide:a.FYo,useExisting:Ws},{provide:rs,useExisting:ta},{provide:ta,useClass:ta,deps:[ee]},{provide:lc,useClass:lc,deps:[Ci,a.R0b]},{provide:class Ku{},useClass:Ng,deps:[]},[]];let Ks=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:wd,useExisting:a.AFp},Dd]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Id,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Xl,...Ad],imports:[Wu,a.hGG]}),n})(),ua=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Md(){return new ua((0,a.LFG)(ee))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var jt=k(8996),Ai=k(3269);function it(...n){const e=(0,Ai.yG)(n);return(0,jt.D)(n,e)}var Jt=k(7579);class mn extends Jt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Xs=(0,k(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Nn=k(9751);const{isArray:pf}=Array,{getPrototypeOf:bs,prototype:pc,keys:eu}=Object;function ha(n){if(1===n.length){const e=n[0];if(pf(e))return{args:e,keys:null};if(function Ja(n){return n&&"object"==typeof n&&bs(n)===pc}(e)){const t=eu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Vi=k(4671),ct=k(4004);const{isArray:S}=Array;function N(n){return(0,ct.U)(e=>function C(n,e){return S(e)?n(...e):n(e)}(n,e))}function B(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var $=k(5403),te=k(9672);function Me(...n){const e=(0,Ai.yG)(n),t=(0,Ai.jO)(n),{args:r,keys:i}=ha(n);if(0===r.length)return(0,jt.D)([],e);const l=new Nn.y(function dt(n,e,t=Vi.y){return r=>{ht(e,()=>{const{length:i}=n,l=new Array(i);let c=i,p=i;for(let _=0;_<i;_++)ht(e,()=>{const T=(0,jt.D)(n[_],e);let D=!1;T.subscribe((0,$.x)(r,M=>{l[_]=M,D||(D=!0,p--),p||r.next(t(l.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>B(i,c):Vi.y));return t?l.pipe(N(t)):l}function ht(n,e,t){n?(0,te.f)(t,n,e):e()}var _t=k(8189);function Ct(...n){return function qt(){return(0,_t.J)(1)}()((0,jt.D)(n,(0,Ai.yG)(n)))}var yn=k(8421);function jn(n){return new Nn.y(e=>{(0,yn.Xf)(n()).subscribe(e)})}var Xa=k(9635),Jr=k(576);function Gi(n,e){const t=(0,Jr.m)(n)?n:()=>n,r=i=>i.error(t());return new Nn.y(e?i=>e.schedule(r,0,i):r)}var $n=k(515),hi=k(727),Ln=k(4482);function Nd(){return(0,Ln.e)((n,e)=>{let t=null;n._refCount++;const r=(0,$.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class tu extends Nn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Ln.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hi.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hi.w0.EMPTY)}return e}refCount(){return Nd()(this)}}function On(n,e){return(0,Ln.e)((t,r)=>{let i=null,l=0,c=!1;const p=()=>c&&!i&&r.complete();t.subscribe((0,$.x)(r,_=>{i?.unsubscribe();let T=0;const D=l++;(0,yn.Xf)(n(_,D)).subscribe(i=(0,$.x)(r,M=>r.next(e?e(_,M,D,T++):M),()=>{i=null,p()}))},()=>{c=!0,p()}))})}function En(n){return n<=0?()=>$n.E:(0,Ln.e)((e,t)=>{let r=0;e.subscribe((0,$.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function nu(...n){const e=(0,Ai.yG)(n);return(0,Ln.e)((t,r)=>{(e?Ct(n,t,e):Ct(n,t)).subscribe(r)})}function hn(n,e){return(0,Ln.e)((t,r)=>{let i=0;t.subscribe((0,$.x)(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Vr=k(5577);function ru(n){return(0,Ln.e)((e,t)=>{let r=!1;e.subscribe((0,$.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function kg(n=Rb){return(0,Ln.e)((e,t)=>{let r=!1;e.subscribe((0,$.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Rb(){return new Xs}function Mi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hn((i,l)=>n(i,l,r)):Vi.y,En(1),t?ru(e):kg(()=>new Xs))}function iu(n,e){return(0,Jr.m)(e)?(0,Vr.z)(n,e,1):(0,Vr.z)(n,1)}var Er=k(8505);function el(n){return(0,Ln.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe((0,$.x)(t,void 0,void 0,c=>{l=(0,yn.Xf)(n(c,el(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Od(n,e){return(0,Ln.e)(function Pb(n,e,t,r,i){return(l,c)=>{let p=t,_=e,T=0;l.subscribe((0,$.x)(c,D=>{const M=T++;_=p?n(_,D,M):(p=!0,D),r&&c.next(_)},i&&(()=>{p&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function gf(n){return n<=0?()=>$n.E:(0,Ln.e)((e,t)=>{let r=[];e.subscribe((0,$.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function mf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?hn((i,l)=>n(i,l,r)):Vi.y,gf(1),t?ru(e):kg(()=>new Xs))}function gc(n){return(0,ct.U)(()=>n)}function Rd(n){return(0,Ln.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bt="primary",Ni=Symbol("RouteTitle");class J_{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function su(n){return new J_(n)}function Fg(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const c=r[l],p=n[l];if(c.startsWith(":"))i[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function is(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!Bg(n[i],e[i]))return!1;return!0}function Bg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function Ug(n){return Array.prototype.concat.apply([],n)}function Pd(n){return n.length>0?n[n.length-1]:null}function br(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fa(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,jt.D)(Promise.resolve(n)):it(n)}const Sr=!1,yf={exact:function pa(n,e,t){if(!tl(n.segments,e.segments)||!au(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!pa(n.children[r],e.children[r],t))return!1;return!0},subset:ou},mc={exact:function fi(n,e){return is(n,e)},subset:function vf(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Bg(n[t],e[t]))},ignored:()=>!0};function xd(n,e,t){return yf[t.paths](n.root,e.root,t.matrixParams)&&mc[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ou(n,e,t){return bf(n,e,e.segments,t)}function bf(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!tl(i,t)||e.hasChildren()||!au(i,t,r))}if(n.segments.length===t.length){if(!tl(n.segments,t)||!au(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!ou(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(tl(n.segments,i)&&au(n.segments,i,r)&&n.children[Bt])&&bf(n.children[Bt],e,l,r)}}function au(n,e,t){return e.every((r,i)=>mc[t](n[i].parameters,r.parameters))}class ga{constructor(e=new Kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return rl.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,br(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ma(this)}}class _c{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=su(this.parameters)),this._parameterMap}toString(){return Tf(this)}}function tl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let nl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new kd},providedIn:"root"}),n})();class kd{parse(e){const t=new Ud(e);return new ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${yc(e.root,!0)}`,r=function bc(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${lu(t)}=${lu(i)}`).join("&"):`${lu(t)}=${lu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function vc(n){return encodeURI(n)}(e.fragment)}`:""}`}}const rl=new kd;function ma(n){return n.segments.map(e=>Tf(e)).join("/")}function yc(n,e){if(!n.hasChildren())return ma(n);if(e){const t=n.children[Bt]?yc(n.children[Bt],!1):"",r=[];return br(n.children,(i,l)=>{l!==Bt&&r.push(`${l}:${yc(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Gg(n,e){let t=[];return br(n.children,(r,i)=>{i===Bt&&(t=t.concat(e(r,i)))}),br(n.children,(r,i)=>{i!==Bt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Bt?[yc(n.children[Bt],!1)]:[`${i}:${yc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${ma(n)}/${t[0]}`:`${ma(n)}/(${t.join("//")})`}}function Fd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lu(n){return Fd(n).replace(/%3B/gi,";")}function Ld(n){return Fd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function No(n){return decodeURIComponent(n)}function uu(n){return No(n.replace(/\+/g,"%20"))}function Tf(n){return`${Ld(n.path)}${function e0(n){return Object.keys(n).map(e=>`;${Ld(e)}=${Ld(n[e])}`).join("")}(n.parameters)}`}const t0=/^[^\/()?;=#]+/;function Bd(n){const e=n.match(t0);return e?e[0]:""}const n0=/^[^=?&#]+/,s0=/^[^&#]+/;class Ud{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new Kt(e,t)),r}parseSegment(){const e=Bd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new a.vHH(4009,Sr);return this.capture(e),new _c(No(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Bd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Bd(this.remaining);i&&(r=i,this.capture(r))}e[No(t)]=No(r)}parseQueryParam(e){const t=function r0(n){const e=n.match(n0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Hg(n){const e=n.match(s0);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=uu(t),l=uu(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Bd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new a.vHH(4010,Sr);let l;r.indexOf(":")>-1?(l=r.slice(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Bt);const c=this.parseChildren();t[l]=1===Object.keys(c).length?c[Bt]:new Kt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new a.vHH(4011,Sr)}}function Tc(n){return n.segments.length>0?new Kt([],{[Bt]:n}):n}function wc(n){const e={};for(const r of Object.keys(n.children)){const l=wc(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function Dc(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}function Oo(n){return n instanceof ga}const wf=!1;function jg(n,e,t,r,i){if(0===t.length)return Ec(e.root,e.root,e.root,r,i);const l=function Df(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $g(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,c)=>{if("object"==typeof l&&null!=l){if(l.outlets){const p={};return br(l.outlets,(_,T)=>{p[T]="string"==typeof _?_.split("/"):_}),[...i,{outlets:p}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===c?(l.split("/").forEach((p,_)=>{0==_&&"."===p||(0==_&&""===p?t=!0:".."===p?e++:""!=p&&i.push(p))}),i):[...i,l]},[]);return new $g(t,e,r)}(t);return l.toRoot()?Ec(e.root,e.root,new Kt([],{}),r,i):function c(_){const T=function Vd(n,e,t,r){if(n.isAbsolute)return new Ts(e.root,!0,0);if(-1===r)return new Ts(t,t===e.root,0);return function Ef(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new a.vHH(4005,wf&&"Invalid number of '../'");i=r.segments.length}return new Ts(r,!1,i-l)}(t,r+(du(n.commands[0])?0:1),n.numberOfDoubleDots)}(l,e,n.snapshot?._urlSegment,_),D=T.processChildren?il(T.segmentGroup,T.index,l.commands):fu(T.segmentGroup,T.index,l.commands);return Ec(e.root,T.segmentGroup,D,r,i)}(n.snapshot?._lastPathIndex)}function du(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function hu(n){return"object"==typeof n&&null!=n&&n.outlets}function Ec(n,e,t,r,i){let c,l={};r&&br(r,(_,T)=>{l[T]=Array.isArray(_)?_.map(D=>`${D}`):`${_}`}),c=n===e?t:Sc(n,e,t);const p=Tc(wc(c));return new ga(p,l,i)}function Sc(n,e,t){const r={};return br(n.children,(i,l)=>{r[l]=i===e?t:Sc(i,e,t)}),new Kt(n.segments,r)}class $g{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&du(r[0]))throw new a.vHH(4003,wf&&"Root segment cannot have matrix parameters");const i=r.find(hu);if(i&&i!==Pd(r))throw new a.vHH(4004,wf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ts{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function fu(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return il(n,e,t);const r=function Hd(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const c=n.segments[i],p=t[r];if(hu(p))break;const _=`${p}`,T=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&T&&"object"==typeof T&&void 0===T.outlets){if(!Wg(_,T,c))return l;r+=2}else{if(!Wg(_,{},c))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Kt(n.segments.slice(0,r.pathIndex),{});return l.children[Bt]=new Kt(n.segments.slice(r.pathIndex),n.children),il(l,0,i)}return r.match&&0===i.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?sl(n,e,t):r.match?il(n,0,i):sl(n,e,t)}function il(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function Gd(n){return hu(n[0])?n[0].outlets:{[Bt]:n}}(t),i={};return!r[Bt]&&n.children[Bt]&&1===n.numberOfChildren&&0===n.children[Bt].segments.length?il(n.children[Bt],e,t):(br(r,(l,c)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[c]=fu(n.children[c],e,l))}),br(n.children,(l,c)=>{void 0===r[c]&&(i[c]=l)}),new Kt(n.segments,i))}}function sl(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(hu(l)){const _=Cc(l.outlets);return new Kt(r,_)}if(0===i&&du(t[0])){r.push(new _c(n.segments[e].path,ol(t[0]))),i++;continue}const c=hu(l)?l.outlets[Bt]:`${l}`,p=i<t.length-1?t[i+1]:null;c&&p&&du(p)?(r.push(new _c(c,ol(p))),i+=2):(r.push(new _c(c,{})),i++)}return new Kt(r,{})}function Cc(n){const e={};return br(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sl(new Kt([],{}),0,t))}),e}function ol(n){const e={};return br(n,(t,r)=>e[r]=`${t}`),e}function Wg(n,e,t){return n==t.path&&is(e,t.parameters)}const ya="imperative";class eo{constructor(e,t){this.id=e,this.url=t}}class pi extends eo{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ws extends eo{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class pu extends eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ic extends eo{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class va extends eo{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ac extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gu extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zg extends eo{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class a0 extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class al extends eo{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qg{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Sf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mc{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xr{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let to=(()=>{class n{createUrlTree(t,r,i,l,c,p){return jg(t||r.root,i,l,c,p)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Qg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){return to.\u0275fac(e)},providedIn:"root"}),n})();class Cf{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=If(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=If(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Rc(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rc(e,this._root).map(t=>t.value)}}function If(n,e){if(n===e.value)return e;for(const t of e.children){const r=If(n,t);if(r)return r}return null}function Rc(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Rc(n,t);if(r.length)return r.unshift(e),r}return[]}class ei{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function no(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jg extends Cf{constructor(e,t){super(e),this.snapshot=t,Z(this,e)}toString(){return this.snapshot.toString()}}function u0(n,e){const t=function y(n,e){const c=new I([],{},{},"",{},Bt,e,null,n.root,-1,{});return new R("",new ei(c,[]))}(n,e),r=new mn([new _c("",{})]),i=new mn({}),l=new mn({}),c=new mn({}),p=new mn(""),_=new f(r,i,c,p,l,Bt,e,t.root);return _.snapshot=t.root,new Jg(new ei(_,[]),t)}class f{constructor(e,t,r,i,l,c,p,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.title=this.data?.pipe((0,ct.U)(T=>T[Ni]))??it(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>su(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>su(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function g(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function b(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class I{get title(){return this.data?.[Ni]}constructor(e,t,r,i,l,c,p,_,T,D,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=c,this.component=p,this.routeConfig=_,this._urlSegment=T,this._lastPathIndex=D,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=su(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=su(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class R extends Cf{constructor(e,t){super(t),this.url=e,Z(this,t)}toString(){return le(this._root)}}function Z(n,e){e.value._routerState=n,e.children.forEach(t=>Z(n,t))}function le(n){const e=n.children.length>0?` { ${n.children.map(le).join(", ")} } `:"";return`${n.value}${e}`}function He(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,is(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),is(e.params,t.params)||n.params.next(t.params),function Lg(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!is(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),is(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function st(n,e){const t=is(n.params,e.params)&&function Vg(n,e){return tl(n,e)&&n.every((t,r)=>is(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||st(n.parent,e.parent))}function gt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function ur(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return gt(n,r,i);return gt(n,r)})}(n,e,t);return new ei(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const c=l.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(p=>gt(n,p)),c}}const r=function ss(n){return new f(new mn(n.url),new mn(n.params),new mn(n.queryParams),new mn(n.fragment),new mn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>gt(n,l));return new ei(r,i)}}const ll="ngNavigationCancelingError";function Xg(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Oo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Af(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function Af(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[ll]=!0,r.cancellationCode=e,t&&(r.url=t),r}function em(n){return Pc(n)&&Oo(n.url)}function Pc(n){return n&&n[ll]}class xc{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new kc,this.attachRef=null}}let kc=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new xc,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $d=!1;let ul=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.parentContexts=(0,a.f3M)(kc),this.location=(0,a.f3M)(a.s_b),this.changeDetector=(0,a.f3M)(a.sBO),this.environmentInjector=(0,a.f3M)(a.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,$d);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,$d);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,$d);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new a.vHH(4013,$d);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,_=new tm(t,p,i.injector);if(r&&function c0(n){return!!n.resolveComponentFactory}(r)){const T=r.resolveComponentFactory(c);this.activated=i.createComponent(T,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.TTD]}),n})();class tm{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===f?this.route:e===kc?this.childContexts:this.parent.get(e,t)}}let Fc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[ul],encapsulation:2}),n})();function nm(n,e){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mf(n){const e=n.children&&n.children.map(Mf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=Fc),t}function Ds(n){return n.outlet||Bt}function kb(n,e){const t=n.filter(r=>Ds(r)===e);return t.push(...n.filter(r=>Ds(r)!==e)),t}function Nf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class XE{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),He(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=no(t);e.children.forEach(l=>{const c=l.value.outlet;this.deactivateRoutes(l,i[c],r),delete i[c]}),br(i,(l,c)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=no(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);if(r&&r.outlet){const c=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:p})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=no(e);for(const c of Object.keys(l))this.deactivateRouteAndItsChildren(l[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=no(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new Xr(l.value.snapshot))}),e.children.length&&this.forwardEvent(new Kg(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(He(i),i===l)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const p=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),He(p.route.value),this.activateChildRoutes(e,null,c.children)}else{const p=Nf(i.snapshot),_=p?.get(a._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=p,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class f0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p0{constructor(e,t){this.component=e,this.route=t}}function vR(n,e,t){const r=n._root;return zd(r,e?e._root:null,t,[r.value])}function mu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,a.Z0I)(n)?e.get(n):n:r}function zd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=no(e);return n.children.forEach(c=>{(function Fb(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,c=e?e.value:null,p=t?t.getContext(n.value.outlet):null;if(c&&l.routeConfig===c.routeConfig){const _=function Lb(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!tl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!tl(n.url,e.url)||!is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!st(n,e)||!is(n.queryParams,e.queryParams);default:return!st(n,e)}}(c,l,l.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new f0(r)):(l.data=c.data,l._resolvedData=c._resolvedData),zd(n,e,l.component?p?p.children:null:t,r,i),_&&p&&p.outlet&&p.outlet.isActivated&&i.canDeactivateChecks.push(new p0(p.outlet.component,c))}else c&&rm(e,p,i),i.canActivateChecks.push(new f0(r)),zd(n,null,l.component?p?p.children:null:t,r,i)})(c,l[c.value.outlet],t,r.concat([c.value]),i),delete l[c.value.outlet]}),br(l,(c,p)=>rm(c,t.getContext(p),i)),i}function rm(n,e,t){const r=no(n),i=n.value;br(r,(l,c)=>{rm(l,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new p0(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Rf(n){return"function"==typeof n}function im(n){return n instanceof Xs||"EmptyError"===n?.name}const ba=Symbol("INITIAL_VALUE");function Wd(){return On(n=>Me(n.map(e=>e.pipe(En(1),nu(ba)))).pipe((0,ct.U)(e=>{for(const t of e)if(!0!==t){if(t===ba)return ba;if(!1===t||t instanceof ga)return t}return!0}),hn(e=>e!==ba),En(1)))}function jb(n){return(0,Xa.z)((0,Er.b)(e=>{if(Oo(e))throw Xg(0,e)}),(0,ct.U)(e=>!0===e))}const _u={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function zb(n,e,t,r,i){const l=b0(n,e,t);return l.matched?function $b(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?it(i.map(c=>{const p=mu(c,n);return fa(function eS(n){return n&&Rf(n.canMatch)}(p)?p.canMatch(e,t):n.runInContext(()=>p(e,t)))})).pipe(Wd(),jb()):it(!0)}(r=nm(e,r),e,t).pipe((0,ct.U)(c=>!0===c?l:{..._u})):it(l)}function b0(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{..._u}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fg)(t,n,e);if(!i)return{..._u};const l={};br(i.posParams,(p,_)=>{l[_]=p.path});const c=i.consumed.length>0?{...l,...i.consumed[i.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function am(n,e,t,r){if(t.length>0&&function Wb(n,e,t){return t.some(r=>Pf(n,e,r)&&Ds(r)!==Bt)}(n,t,r)){const l=new Kt(e,function rS(n,e,t,r){const i={};i[Bt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&Ds(l)!==Bt){const c=new Kt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Ds(l)]=c}return i}(n,e,r,new Kt(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function iS(n,e,t){return t.some(r=>Pf(n,e,r))}(n,t,r)){const l=new Kt(n.segments,function T0(n,e,t,r,i){const l={};for(const c of r)if(Pf(n,t,c)&&!i[Ds(c)]){const p=new Kt([],{});p._sourceSegment=n,p._segmentIndexShift=e.length,l[Ds(c)]=p}return{...i,...l}}(n,e,t,r,n.children));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const i=new Kt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Pf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sS(n,e,t,r){return!!(Ds(n)===r||r!==Bt&&Pf(e,t,n))&&("**"===n.path||b0(e,n,t).matched)}function Zb(n,e,t){return 0===e.length&&!n.children[t]}const yu=!1;class lm{constructor(e){this.segmentGroup=e||null}}class Bc{constructor(e){this.urlTree=e}}function cl(n){return Gi(new lm(n))}function qb(n){return Gi(new Bc(n))}class lS{constructor(e,t,r,i,l){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0}apply(){const e=am(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Bt).pipe((0,ct.U)(l=>this.createUrlTree(wc(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(el(l=>{if(l instanceof Bc)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof lm?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Bt).pipe((0,ct.U)(i=>this.createUrlTree(wc(i),e.queryParams,e.fragment))).pipe(el(i=>{throw i instanceof lm?this.noMatchError(i):i}))}noMatchError(e){return new a.vHH(4002,yu)}createUrlTree(e,t,r){const i=Tc(e);return new ga(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,ct.U)(l=>new Kt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,jt.D)(i).pipe(iu(l=>{const c=r.children[l],p=kb(t,l);return this.expandSegmentGroup(e,p,c,l).pipe((0,ct.U)(_=>({segment:_,outlet:l})))}),Od((l,c)=>(l[c.outlet]=c.segment,l),{}),mf())}expandSegment(e,t,r,i,l,c){return(0,jt.D)(r).pipe(iu(p=>this.expandSegmentAgainstRoute(e,t,r,p,i,l,c).pipe(el(T=>{if(T instanceof lm)return it(null);throw T}))),Mi(p=>!!p),el((p,_)=>{if(im(p))return Zb(t,i,l)?it(new Kt([],{})):cl(t);throw p}))}expandSegmentAgainstRoute(e,t,r,i,l,c,p){return sS(i,t,l,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,c):p&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c):cl(t):cl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?qb(l):this.lineralizeSegments(r,l).pipe((0,Vr.z)(c=>{const p=new Kt(c,{});return this.expandSegment(e,p,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,c){const{matched:p,consumedSegments:_,remainingSegments:T,positionalParamSegments:D}=b0(t,i,l);if(!p)return cl(t);const M=this.applyRedirectCommands(_,i.redirectTo,D);return i.redirectTo.startsWith("/")?qb(M):this.lineralizeSegments(i,M).pipe((0,Vr.z)(P=>this.expandSegment(e,t,r,P.concat(T),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){return"**"===r.path?(e=nm(r,e),r.loadChildren?(r._loadedRoutes?it({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,ct.U)(p=>(r._loadedRoutes=p.routes,r._loadedInjector=p.injector,new Kt(i,{})))):it(new Kt(i,{}))):zb(t,r,i,e).pipe(On(({matched:c,consumedSegments:p,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Vr.z)(D=>{const M=D.injector??e,P=D.routes,{segmentGroup:L,slicedSegments:K}=am(t,p,_,P),J=new Kt(L.segments,L.children);if(0===K.length&&J.hasChildren())return this.expandChildren(M,P,J).pipe((0,ct.U)(Ge=>new Kt(p,Ge)));if(0===P.length&&0===K.length)return it(new Kt(p,{}));const re=Ds(r)===l;return this.expandSegment(M,J,P,K,re?Bt:l,!0).pipe((0,ct.U)(ze=>new Kt(p.concat(ze.segments),ze.children)))})):cl(t)))}getChildConfig(e,t,r){return t.children?it({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?it({routes:t._loadedRoutes,injector:t._loadedInjector}):function nS(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?it(!0):it(i.map(c=>{const p=mu(c,n);return fa(function Ub(n){return n&&Rf(n.canLoad)}(p)?p.canLoad(e,t):n.runInContext(()=>p(e,t)))})).pipe(Wd(),jb())}(e,t,r).pipe((0,Vr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Er.b)(l=>{t._loadedRoutes=l.routes,t._loadedInjector=l.injector})):function oS(n){return Gi(Af(yu,3))}())):it({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[Bt])return e.redirectTo,Gi(new a.vHH(4e3,yu));i=i.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new ga(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return br(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const p=i.substring(1);r[l]=t[p]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let c={};return br(t.children,(p,_)=>{c[_]=this.createSegmentGroup(e,p,r,i)}),new Kt(l,c)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new a.vHH(4001,yu);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class D0{}class S0{constructor(e,t,r,i,l,c,p){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=l,this.paramsInheritanceStrategy=c,this.urlSerializer=p}recognize(){const e=am(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe((0,ct.U)(t=>{if(null===t)return null;const r=new I([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ei(r,t),l=new R(this.url,i);return this.inheritParamsAndData(l._root),l}))}inheritParamsAndData(e){const t=e.value,r=g(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,jt.D)(Object.keys(r.children)).pipe(iu(i=>{const l=r.children[i],c=kb(t,i);return this.processSegmentGroup(e,c,l,i)}),Od((i,l)=>i&&l?(i.push(...l),i):null),function _f(n,e=!1){return(0,Ln.e)((t,r)=>{let i=0;t.subscribe((0,$.x)(r,l=>{const c=n(l,i++);(c||e)&&r.next(l),!c&&r.complete()}))})}(i=>null!==i),ru(null),mf(),(0,ct.U)(i=>{if(null===i)return null;const l=Qb(i);return function xf(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),l}))}processSegment(e,t,r,i,l){return(0,jt.D)(t).pipe(iu(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,l)),Mi(c=>!!c),el(c=>{if(im(c))return Zb(r,i,l)?it([]):it(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,l){if(t.redirectTo||!sS(t,r,i,l))return it(null);let c;if("**"===t.path){const p=i.length>0?Pd(i).parameters:{},_=Xb(r)+i.length;c=it({snapshot:new I(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uc(t),Ds(t),t.component??t._loadedComponent??null,t,Jb(r),_,Ta(t)),consumedSegments:[],remainingSegments:[]})}else c=zb(r,t,i,e).pipe((0,ct.U)(({matched:p,consumedSegments:_,remainingSegments:T,parameters:D})=>{if(!p)return null;const M=Xb(r)+_.length;return{snapshot:new I(_,D,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Uc(t),Ds(t),t.component??t._loadedComponent??null,t,Jb(r),M,Ta(t)),consumedSegments:_,remainingSegments:T}}));return c.pipe(On(p=>{if(null===p)return it(null);const{snapshot:_,consumedSegments:T,remainingSegments:D}=p;e=t._injector??e;const M=t._loadedInjector??e,P=function cS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:K}=am(r,T,D,P.filter(re=>void 0===re.redirectTo));if(0===K.length&&L.hasChildren())return this.processChildren(M,P,L).pipe((0,ct.U)(re=>null===re?null:[new ei(_,re)]));if(0===P.length&&0===K.length)return it([new ei(_,[])]);const J=Ds(t)===l;return this.processSegment(M,P,L,K,J?Bt:l).pipe((0,ct.U)(re=>null===re?null:[new ei(_,re)]))}))}}function dS(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Qb(n){const e=[],t=new Set;for(const r of n){if(!dS(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Qb(r.children);e.push(new ei(r.value,i))}return e.filter(r=>!t.has(r))}function Jb(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Xb(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Uc(n){return n.data||{}}function Ta(n){return n.resolve||{}}function C0(n){return"string"==typeof n.title||null===n.title}function um(n){return On(e=>{const t=n(e);return t?(0,jt.D)(t).pipe((0,ct.U)(()=>e)):it(e)})}const Vc=new a.OlP("ROUTES");let I0=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.f3M)(a.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fa(t.loadComponent()).pipe((0,ct.U)(ro),(0,Er.b)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=l}),Rd(()=>{this.componentLoaders.delete(t)})),i=new tu(r,()=>new Jt.x).pipe(Nd());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,ct.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,T,D=!1;Array.isArray(p)?T=p:(_=p.create(t).injector,T=Ug(_.get(Vc,[],a.XFs.Self|a.XFs.Optional)));return{routes:T.map(Mf),injector:_}}),Rd(()=>{this.childrenLoaders.delete(r)})),c=new tu(l,()=>new Jt.x).pipe(Nd());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return fa(t()).pipe((0,ct.U)(ro),(0,Vr.z)(r=>r instanceof a.YKP||Array.isArray(r)?it(r):(0,jt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ro(n){return function gS(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let kf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jt.x,this.configLoader=(0,a.f3M)(I0),this.environmentInjector=(0,a.f3M)(a.lqb),this.urlSerializer=(0,a.f3M)(nl),this.rootContexts=(0,a.f3M)(kc),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Sf(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qg(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new mn({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ya,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),On(r=>{let i=!1,l=!1;return it(r).pipe((0,Er.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),On(c=>{const p=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==p||p!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const D="";return this.events.next(new Ic(c.id,t.serializeUrl(r.rawUrl),D,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),$n.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return nT(c.source)&&(t.browserUrlTree=c.extractedUrl),it(c).pipe(On(D=>{const M=this.transitions?.getValue();return this.events.next(new pi(D.id,this.urlSerializer.serialize(D.extractedUrl),D.source,D.restoredState)),M!==this.transitions?.getValue()?$n.E:Promise.resolve(D)}),function Yb(n,e,t,r){return On(i=>function aS(n,e,t,r,i){return new lS(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,ct.U)(l=>({...i,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Er.b)(D=>{this.currentNavigation={...this.currentNavigation,finalUrl:D.urlAfterRedirects},r.urlAfterRedirects=D.urlAfterRedirects}),function fS(n,e,t,r,i){return(0,Vr.z)(l=>function uS(n,e,t,r,i,l,c="emptyOnly"){return new S0(n,e,t,r,i,c,l).recognize().pipe(On(p=>null===p?function E0(n){return new Nn.y(e=>e.error(n))}(new D0):it(p)))}(n,e,t,l.urlAfterRedirects,r.serialize(l.urlAfterRedirects),r,i).pipe((0,ct.U)(c=>({...l,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Er.b)(D=>{if(r.targetSnapshot=D.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!D.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(D.urlAfterRedirects,D.rawUrl);t.setBrowserUrl(P,D)}t.browserUrlTree=D.urlAfterRedirects}const M=new Ac(D.id,this.urlSerializer.serialize(D.extractedUrl),this.urlSerializer.serialize(D.urlAfterRedirects),D.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:D,extractedUrl:M,source:P,restoredState:L,extras:K}=c,J=new pi(D,this.urlSerializer.serialize(M),P,L);this.events.next(J);const re=u0(M,this.rootComponentType).snapshot;return it(r={...c,targetSnapshot:re,urlAfterRedirects:M,extras:{...K,skipLocationChange:!1,replaceUrl:!1}})}{const D="";return this.events.next(new Ic(c.id,t.serializeUrl(r.extractedUrl),D,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),$n.E}}),(0,Er.b)(c=>{const p=new gu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),(0,ct.U)(c=>r={...c,guards:vR(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function _0(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:c}}=t;return 0===c.length&&0===l.length?it({...t,guardsResult:!0}):function sm(n,e,t,r){return(0,jt.D)(n).pipe((0,Vr.z)(i=>function v0(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?it(l.map(p=>{const _=Nf(e)??i,T=mu(p,_);return fa(function m0(n){return n&&Rf(n.canDeactivate)}(T)?T.canDeactivate(n,e,t,r):_.runInContext(()=>T(n,e,t,r))).pipe(Mi())})).pipe(Wd()):it(!0)}(i.component,i.route,t,e,r)),Mi(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Vr.z)(p=>p&&function Bb(n){return"boolean"==typeof n}(p)?function tS(n,e,t,r){return(0,jt.D)(e).pipe(iu(i=>Ct(function om(n,e){return null!==n&&e&&e(new l0(n)),it(!0)}(i.route.parent,r),function y0(n,e){return null!==n&&e&&e(new Mc(n)),it(!0)}(i.route,r),function Hb(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(c=>function Of(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>jn(()=>it(c.guards.map(_=>{const T=Nf(c.node)??t,D=mu(_,T);return fa(function bR(n){return n&&Rf(n.canActivateChild)}(D)?D.canActivateChild(r,n):T.runInContext(()=>D(r,n))).pipe(Mi())})).pipe(Wd())));return it(l).pipe(Wd())}(n,i.path,t),function Lc(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(l=>jn(()=>{const c=Nf(e)??t,p=mu(l,c);return fa(function g0(n){return n&&Rf(n.canActivate)}(p)?p.canActivate(e,n):c.runInContext(()=>p(e,n))).pipe(Mi())}));return it(i).pipe(Wd())}(n,i.route,t))),Mi(i=>!0!==i,!0))}(r,l,n,e):it(p)),(0,ct.U)(p=>({...t,guardsResult:p})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Er.b)(c=>{if(r.guardsResult=c.guardsResult,Oo(c.guardsResult))throw Xg(0,c.guardsResult);const p=new Zg(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(p)}),hn(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),um(c=>{if(c.guards.canActivateChecks.length)return it(c).pipe((0,Er.b)(p=>{const _=new a0(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}),On(p=>{let _=!1;return it(p).pipe(function pS(n,e){return(0,Vr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let l=0;return(0,jt.D)(i).pipe(iu(c=>function wR(n,e,t,r){const i=n.routeConfig,l=n._resolve;return void 0!==i?.title&&!C0(i)&&(l[Ni]=i.title),function DR(n,e,t,r){const i=function eT(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return it({});const l={};return(0,jt.D)(i).pipe((0,Vr.z)(c=>function ER(n,e,t,r){const i=Nf(e)??r,l=mu(n,i);return fa(l.resolve?l.resolve(e,t):i.runInContext(()=>l(e,t)))}(n[c],e,t,r).pipe(Mi(),(0,Er.b)(p=>{l[c]=p}))),gf(1),gc(l),el(c=>im(c)?$n.E:Gi(c)))}(l,n,e,r).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=g(n,t).resolve,i&&C0(i)&&(n.data[Ni]=i.title),null)))}(c.route,r,n,e)),(0,Er.b)(()=>l++),gf(1),(0,Vr.z)(c=>l===i.length?it(t):$n.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Er.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Er.b)(p=>{const _=new al(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(_)}))}),um(c=>{const p=_=>{const T=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&T.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Er.b)(D=>{_.component=D}),(0,ct.U)(()=>{})));for(const D of _.children)T.push(...p(D));return T};return Me(p(c.targetSnapshot.root)).pipe(ru(),En(1))}),um(()=>this.afterPreactivation()),(0,ct.U)(c=>{const p=function bt(n,e,t){const r=gt(n,e._root,t?t._root:void 0);return new Jg(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:p}}),(0,Er.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,ct.U)(r=>(new XE(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),(0,Er.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new ws(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Rd(()=>{i||l||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),el(c=>{if(l=!0,Pc(c)){em(c)||(t.navigated=!0,t.restoreHistory(r,!0));const p=new pu(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(p),em(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),T={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||nT(r.source)};t.scheduleNavigation(_,ya,null,T,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const p=new va(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(p);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return $n.E}))}))}cancelNavigationTransition(t,r,i){const l=new pu(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(l),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nT(n){return n!==ya}let rT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(l=>l.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[Ni]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(mS)},providedIn:"root"}),n})(),mS=(()=>{class n extends rT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ua))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(yS)},providedIn:"root"}),n})();class iT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let yS=(()=>{class n extends iT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dm=new a.OlP("",{providedIn:"root",factory:()=>({})});let $t=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(sT)},providedIn:"root"}),n})(),sT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oT(n){throw n}function bS(n,e,t){return e.parse("/")}const TS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Oi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,a.f3M)(a.c2e),this.isNgZoneEnabled=!1,this.options=(0,a.f3M)(dm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||oT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||bS,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,a.f3M)($t),this.routeReuseStrategy=(0,a.f3M)(_S),this.urlCreationStrategy=(0,a.f3M)(Qg),this.titleStrategy=(0,a.f3M)(rT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ug((0,a.f3M)(Vc,{optional:!0})??[]),this.navigationTransitions=(0,a.f3M)(kf),this.urlSerializer=(0,a.f3M)(nl),this.location=(0,a.f3M)(Le),this.isNgZoneEnabled=(0,a.f3M)(a.R0b)instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ga,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=u0(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ya,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const l={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(l.state=_)}const p=this.parseUrl(t);this.scheduleNavigation(p,r,c,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Mf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:c,queryParamsHandling:p,preserveFragment:_}=r,T=_?this.currentUrlTree.fragment:c;let D=null;switch(p){case"merge":D={...this.currentUrlTree.queryParams,...l};break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=l||null}return null!==D&&(D=this.removeEmptyProps(D)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,D,T??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Oo(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,ya,null,r)}navigate(t,r={skipLocationChange:!1}){return function lT(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new a.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...TS}:!1===r?{...aT}:r,Oo(t))return xd(this.currentUrlTree,t,i);const l=this.parseUrl(t);return xd(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}scheduleNavigation(t,r,i,l,c){if(this.disposed)return Promise.resolve(!1);let p,_,T,D;return c?(p=c.resolve,_=c.reject,T=c.promise):T=new Promise((M,P)=>{p=M,_=P}),D="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:D,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:l,resolve:p,reject:_,promise:T,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),T.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fm=(()=>{class n{constructor(t,r,i,l,c,p){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=l,this.el=c,this.locationStrategy=p,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Jt.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(T=>{T instanceof ws&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,a.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,a.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,a.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,l,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||l||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,a.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,l=this.el.nativeElement;null!==r?i.setAttribute(l,t,r):i.removeAttribute(l,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Oi),a.Y36(f),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(pt))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),uT=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,l,c){this.router=t,this.element=r,this.renderer=i,this.cdr=l,this.link=c,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=t.events.subscribe(p=>{p instanceof ws&&this.update()})}ngAfterContentInit(){it(this.links.changes,it(null)).pipe((0,_t.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=(0,jt.D)(t).pipe((0,_t.J)()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function SR(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Oi),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(fm,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,fm,5),2&t){let l;a.iGM(l=a.CRH())&&(r.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class A0{}let DS=(()=>{class n{constructor(t,r,i,l,c){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(hn(t=>t instanceof ws),iu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,a.MMx)(l.providers,t,`Route: ${l.path}`));const c=l._injector??t,p=l._loadedInjector??c;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&i.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&i.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,jt.D)(i).pipe((0,_t.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):it(null);const l=i.pipe((0,Vr.z)(c=>null===c?it(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,jt.D)([l,c]).pipe((0,_t.J)())}return l})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Oi),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(A0),a.LFG(I0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ff=new a.OlP("");let pm=(()=>{class n{constructor(t,r,i,l,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=l,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ws&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Nc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Nc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var Es=(()=>((Es=Es||{})[Es.COMPLETE=0]="COMPLETE",Es[Es.FAILED=1]="FAILED",Es[Es.REDIRECTING=2]="REDIRECTING",Es))();const Lf=!1;function dl(n,e){return{\u0275kind:n,\u0275providers:e}}const dT=new a.OlP("",{providedIn:"root",factory:()=>!1});function M0(){const n=(0,a.f3M)(a.zs3);return e=>{const t=n.get(a.z2F);if(e!==t.components[0])return;const r=n.get(Oi),i=n.get(Uf);1===n.get(N0)&&r.initialNavigation(),n.get(fT,null,a.XFs.Optional)?.setUpPreloading(),n.get(Ff,null,a.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Uf=new a.OlP(Lf?"bootstrap done indicator":"",{factory:()=>new Jt.x}),N0=new a.OlP(Lf?"initial navigation":"",{providedIn:"root",factory:()=>1});function CS(){let n=[];return n=Lf?[{provide:a.Xts,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Oi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function jd(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],dl(1,n)}const fT=new a.OlP(Lf?"router preloader":"");function IS(n){return dl(0,[{provide:fT,useExisting:DS},{provide:A0,useExisting:n}])}const qd=!1,gm=new a.OlP(qd?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),NR=[Le,{provide:nl,useClass:kd},Oi,kc,{provide:f,useFactory:function cT(n){return n.routerState.root},deps:[Oi]},I0,qd?{provide:dT,useValue:!0}:[]];function O0(){return new a.PXZ("Router",Oi)}let R0=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[NR,qd&&r?.enableTracing?CS().\u0275providers:[],{provide:Vc,multi:!0,useValue:t},{provide:gm,useFactory:NS,deps:[[Oi,new a.FiY,new a.tp0]]},{provide:dm,useValue:r||{}},r?.useHash?{provide:pt,useClass:Se}:{provide:pt,useClass:Ee},{provide:Ff,useFactory:()=>{const n=(0,a.f3M)(wo),e=(0,a.f3M)(a.R0b),t=(0,a.f3M)(dm),r=(0,a.f3M)(kf),i=(0,a.f3M)(nl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new pm(i,r,n,e,t)}},r?.preloadingStrategy?IS(r.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:O0},r?.initialNavigation?gT(r):[],[{provide:mT,useFactory:M0},{provide:a.tb,multi:!0,useExisting:mT}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vc,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(gm,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Fc]}),n})();function NS(n){if(qd&&n)throw new a.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function gT(n){return["disabled"===n.initialNavigation?dl(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const e=(0,a.f3M)(Oi);return()=>{e.setUpLocationChangeListener()}}},{provide:N0,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?dl(2,[{provide:N0,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:e=>{const t=e.get(ue,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Oi),l=e.get(Uf);(function CR(n,e){n.events.pipe(hn(t=>t instanceof ws||t instanceof pu||t instanceof va||t instanceof Ic),(0,ct.U)(t=>t instanceof ws||t instanceof Ic?Es.COMPLETE:t instanceof pu&&(0===t.code||1===t.code)?Es.REDIRECTING:Es.FAILED),hn(t=>t!==Es.REDIRECTING),En(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(kf).afterPreactivation=()=>(r(!0),l.closed?it(void 0):l),i.initialNavigation()}))}}]).\u0275providers:[]]}const mT=new a.OlP(qd?"Router Initializer":"");var hl=k(4986);function Vf(n,e=hl.z){return(0,Ln.e)((t,r)=>{let i=null,l=null,c=null;const p=()=>{if(i){i.unsubscribe(),i=null;const T=l;l=null,r.next(T)}};function _(){const T=c+n,D=e.now();if(D<T)return i=this.schedule(void 0,T-D),void r.add(i);p()}t.subscribe((0,$.x)(r,T=>{l=T,c=e.now(),i||(i=e.schedule(_,n),r.add(i))},()=>{p(),r.complete()},void 0,()=>{l=i=null}))})}const wa={UKNOWN:"Unknown"},Gf={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:wa.UKNOWN},Gc={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Hc={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Da={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:wa.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},mm=[Da.PS4,Da.CHROME_BOOK,Da.MAC,Da.DELL,Da.ASUS,Da.UNKNOWN],x0={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:wa.UKNOWN},_T={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:wa.UKNOWN.toLowerCase()},_m={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},PS={...Gc,...Hc,..._m,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},ym={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},k0={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},yT=Object.keys(ym).reduce((n,e)=>(n[e]=ym[e],n),{}),F0=Object.keys(k0).reduce((n,e)=>(n[Gf[e]]=k0[e],n),{});var Ea=Object.freeze({__proto__:null,GENERAL:wa,BROWSERS:Gf,MOBILES_RE:Gc,TABLETS_RE:Hc,DEVICES:Da,DESKTOP_DEVICES:mm,OS:x0,OS_VERSIONS:_T,OS_RE:_m,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:PS,OS_VERSIONS_RE_MAP:ym,BROWSER_VERSIONS_RE_MAP:k0,OS_VERSIONS_RE:yT,BROWSER_VERSIONS_RE:F0});class xS{constructor(){}test(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.test(e):t&&Array.isArray(t.and)?t.and.every(r=>this.test(e,r)):t&&Array.isArray(t.or)?t.or.some(r=>this.test(e,r)):!(!t||!t.not||this.test(e,t.not))}exec(e,t){return"string"==typeof t&&(t=new RegExp(t)),t instanceof RegExp?t.exec(e):t&&Array.isArray(t)?t.reduce((r,i)=>r||this.exec(e,i),null):null}}var Gr=(()=>{return(n=Gr||(Gr={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",Gr;var n})(),Yd=(()=>{return(n=Yd||(Yd={})).Portrait="portrait",n.Landscape="landscape",Yd;var n})();const L0="iPad";let RR=(()=>{class n{constructor(t){this.platformId=t,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new xS,this.deviceType="",this.orientation="",To(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(t=this.userAgent){t!==this.userAgent&&(this.userAgent=t);const r=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(r.forEach(i=>{this[i.prop]=Object.keys(Ea[i.const]).reduce((l,c)=>"device"===Ea[i.const][c]&&To(this.platformId)&&(this.reTree.test(this.userAgent,Hc[L0])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(l[Ea[i.const][c]]=L0,Object):(l[Ea[i.const][c]]=this.reTree.test(t,Ea[`${i.const}_RE`][c]),l),{})}),r.forEach(i=>{this[i.prop]=Object.keys(Ea[i.const]).map(l=>Ea[i.const][l]).reduce((l,c)=>"device"===i.prop&&l===Ea[i.const].ANDROID?this[i.prop][c]?c:l:l===Ea[i.const].UNKNOWN&&this[i.prop][c]?c:l,Ea[i.const].UNKNOWN)}),this.browser_version="0",this.browser!==Gf.UNKNOWN){const l=this.reTree.exec(t,F0[this.browser]);l&&(this.browser_version=l[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Yd.Landscape:Yd.Portrait:wa.UKNOWN,this.deviceType=this.isTablet()?Gr.Tablet:this.isMobile(this.userAgent)?Gr.Mobile:this.isDesktop(this.userAgent)?Gr.Desktop:Gr.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(t=this.userAgent){return!this.isTablet(t)&&!!Object.keys(Gc).find(i=>this.reTree.test(t,Gc[i]))}isTablet(t=this.userAgent){return!(!To(this.platformId)||!(this.reTree.test(this.userAgent,Hc[L0])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Hc).find(i=>!!this.reTree.test(t,Hc[i]))}isDesktop(t=this.userAgent){return(this.device!==Da.UNKNOWN||!this.isMobile(t)&&!this.isTablet(t))&&mm.indexOf(this.device)>-1}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var B0=k(1144);const vT=["addListener","removeListener"],kS=["addEventListener","removeEventListener"],FS=["on","off"];function Hr(n,e,t,r){if((0,Jr.m)(t)&&(r=t,t=void 0),r)return Hr(n,e,t).pipe(N(r));const[i,l]=function V0(n){return(0,Jr.m)(n.addEventListener)&&(0,Jr.m)(n.removeEventListener)}(n)?kS.map(c=>p=>n[c](e,p,t)):function LS(n){return(0,Jr.m)(n.addListener)&&(0,Jr.m)(n.removeListener)}(n)?vT.map(U0(n,e)):function BS(n){return(0,Jr.m)(n.on)&&(0,Jr.m)(n.off)}(n)?FS.map(U0(n,e)):[];if(!i&&(0,B0.z)(n))return(0,Vr.z)(c=>Hr(c,e,t))((0,yn.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Nn.y(c=>{const p=(..._)=>c.next(1<_.length?_:_[0]);return i(p),()=>l(p)})}function U0(n,e){return t=>r=>n[t](e,r)}var US=k(3532);function G0(n=0,e,t=hl.P){let r=-1;return null!=e&&((0,US.K)(e)?t=e:r=e),new Nn.y(i=>{let l=function VS(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},l)})}const{isArray:GS}=Array;function bT(n){return 1===n.length&&GS(n[0])?n[0]:n}function Ro(...n){return 1===(n=bT(n)).length?(0,yn.Xf)(n[0]):new Nn.y(function H0(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,yn.Xf)(n[r]).subscribe((0,$.x)(e,i=>{if(t){for(let l=0;l<t.length;l++)l!==r&&t[l].unsubscribe();t=null}e.next(i)})))}}(n))}var vm=k(5032);const fl=new Nn.y(vm.Z);function bm(...n){const e=(0,Ai.jO)(n),t=bT(n);return t.length?new Nn.y(r=>{let i=t.map(()=>[]),l=t.map(()=>!1);r.add(()=>{i=l=null});for(let c=0;!r.closed&&c<t.length;c++)(0,yn.Xf)(t[c]).subscribe((0,$.x)(r,p=>{if(i[c].push(p),i.every(_=>_.length)){const _=i.map(T=>T.shift());r.next(e?e(..._):_),i.some((T,D)=>!T.length&&l[D])&&r.complete()}},()=>{l[c]=!0,!i[c].length&&r.complete()}));return()=>{i=l=null}}):$n.E}var Tm=k(6451);function Wn(n){return(0,Ln.e)((e,t)=>{(0,yn.Xf)(n).subscribe((0,$.x)(t,()=>t.complete(),vm.Z)),!t.closed&&e.subscribe(t)})}function wm(n,e=Vi.y){return n=n??$S,(0,Ln.e)((t,r)=>{let i,l=!0;t.subscribe((0,$.x)(r,c=>{const p=e(c);(l||!n(i,p))&&(l=!1,i=p,r.next(c))}))})}function $S(n,e){return n===e}function Qd(...n){const e=(0,Ai.jO)(n);return(0,Ln.e)((t,r)=>{const i=n.length,l=new Array(i);let c=n.map(()=>!1),p=!1;for(let _=0;_<i;_++)(0,yn.Xf)(n[_]).subscribe((0,$.x)(r,T=>{l[_]=T,!p&&!c[_]&&(c[_]=!0,(p=c.every(Vi.y))&&(c=null))},vm.Z));t.subscribe((0,$.x)(r,_=>{if(p){const T=[_,...l];r.next(e?e(...T):T)}}))})}function Hf(n,e){return e?t=>Ct(e.pipe(En(1),function j0(){return(0,Ln.e)((n,e)=>{n.subscribe((0,$.x)(e,vm.Z))})}()),t.pipe(Hf(n))):(0,Vr.z)((t,r)=>(0,yn.Xf)(n(t,r)).pipe(En(1),gc(t)))}function zS(n,e=hl.z){const t=G0(n,e);return Hf(()=>t)}let z0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),vu=(()=>{class n extends z0{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Hi=new a.OlP("NgValueAccessor"),pl={provide:Hi,useExisting:(0,a.Gpc)(()=>gl),multi:!0},Sm=new a.OlP("CompositionEventMode");let gl=(()=>{class n extends z0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Em(){const n=x()?x().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(Sm,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([pl]),a.qOj]}),n})();const WS=!1;function ml(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const gi=new a.OlP("NgValidators"),bu=new a.OlP("NgAsyncValidators");function $f(n){return null}function Cm(n){return null!=n}function MT(n){const e=(0,a.QGY)(n)?(0,jt.D)(n):n;if(WS&&!(0,a.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new a.vHH(-1101,t)}return e}function Im(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function NT(n,e){return e.map(t=>t(n))}function OT(n){return n.map(e=>function qS(n){return!n.validate}(e)?e:t=>e.validate(t))}function Z0(n){return null!=n?function RT(n){if(!n)return null;const e=n.filter(Cm);return 0==e.length?null:function(t){return Im(NT(t,e))}}(OT(n)):null}function q0(n){return null!=n?function PT(n){if(!n)return null;const e=n.filter(Cm);return 0==e.length?null:function(t){return function PR(...n){const e=(0,Ai.jO)(n),{args:t,keys:r}=ha(n),i=new Nn.y(l=>{const{length:c}=t;if(!c)return void l.complete();const p=new Array(c);let _=c,T=c;for(let D=0;D<c;D++){let M=!1;(0,yn.Xf)(t[D]).subscribe((0,$.x)(l,P=>{M||(M=!0,T--),p[D]=P},()=>_--,void 0,()=>{(!_||!M)&&(T||l.next(r?B(r,p):p),l.complete())}))}});return e?i.pipe(N(e)):i}(NT(t,e).map(MT)).pipe((0,ct.U)(Im))}}(OT(n)):null}function K0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function kT(n){return n?Array.isArray(n)?n:[n]:[]}function zf(n,e){return Array.isArray(n)?n.includes(e):n===e}function KS(n,e){const t=kT(e);return kT(n).forEach(i=>{zf(t,i)||t.push(i)}),t}function Wf(n,e){return kT(e).filter(t=>!zf(n,t))}class FT{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Z0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=q0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class ji extends FT{get formDirective(){return null}get path(){return null}}class Sa extends FT{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class LT{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ti=(()=>{class n extends LT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Sa,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.qOj]}),n})(),yl=(()=>{class n extends LT{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ji,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.qOj]}),n})();function J0(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Mm=!1,eh="VALID",ep="INVALID",jc="PENDING",tp="DISABLED";function X0(n){return(th(n)?n.validators:n)||null}function ey(n,e){return(th(e)?e.asyncValidators:n)||null}function th(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class np{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===eh}get invalid(){return this.status===ep}get pending(){return this.status==jc}get disabled(){return this.status===tp}get enabled(){return this.status!==tp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Wf(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Wf(e,this._rawAsyncValidators))}hasValidator(e){return zf(this._rawValidators,e)}hasAsyncValidator(e){return zf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=tp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=eh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eh||this.status===jc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tp:eh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jc,this._hasOwnPendingAsyncValidator=!0;const t=MT(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?tp:this.errors?ep:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jc)?jc:this._anyControlsHaveStatus(ep)?ep:eh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){th(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function HT(n){return Array.isArray(n)?Z0(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function jT(n){return Array.isArray(n)?q0(n):n||null}(this._rawAsyncValidators)}}class nh extends np{constructor(e,t,r){super(X0(t),ey(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function $T(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new a.vHH(1002,Mm?function GT(n,e){return`Must supply a value for form control ${J0(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function Nm(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new a.vHH(1e3,Mm?function UT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new a.vHH(1001,Mm?function VT(n,e){return`Cannot find form control ${J0(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const $c=new a.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>rp}),rp="always";function ih(n,e,t=rp){ny(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function ZT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ry(n,e)})}(n,e),function YS(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function qT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ry(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function WT(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function sh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ny(n,e){const t=function Y0(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(K0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function xT(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(K0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();sh(e._rawValidators,i),sh(e._rawAsyncValidators,i)}function ry(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const wu={provide:ji,useExisting:(0,a.Gpc)(()=>ap)},op=(()=>Promise.resolve())();let ap=(()=>{class n extends ji{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new nh({},Z0(t),q0(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){op.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ih(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){op.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){op.then(()=>{const r=this._findContainer(t.path),i=new nh({});(function iy(n,e){ny(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){op.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){op.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function sy(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(gi,10),a.Y36(bu,10),a.Y36($c,8))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([wu]),a.qOj]}),n})();function Fm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Du(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Lm=class extends np{constructor(e=null,t,r){super(X0(t),ey(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),th(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Du(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Fm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Fm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Du(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},XT={provide:Sa,useExisting:(0,a.Gpc)(()=>Bm)},e1=(()=>Promise.resolve())();let Bm=(()=>{class n extends Sa{constructor(t,r,i,l,c,p){super(),this._changeDetectorRef=c,this.callSetDisabledState=p,this.control=new Lm,this._registered=!1,this.update=new a.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function km(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===gl?t=l:function QT(n){return Object.getPrototypeOf(n.constructor)===vu}(l)?r=l:i=l}),i||r||t||null}(0,l)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function xm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){e1.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,a.D6c)(r);e1.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function rh(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ji,9),a.Y36(gi,10),a.Y36(bu,10),a.Y36(Hi,10),a.Y36(a.sBO,8),a.Y36($c,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a._Bn([XT]),a.qOj,a.TTD]}),n})(),Um=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const nC={provide:Hi,useExisting:(0,a.Gpc)(()=>lp),multi:!0};let lp=(()=>{class n extends vu{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([nC]),a.qOj]}),n})(),n1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const oC={provide:Hi,useExisting:(0,a.Gpc)(()=>oh),multi:!0};function o1(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let oh=(()=>{class n extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=o1(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function aC(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([oC]),a.qOj]}),n})(),ah=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(o1(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(oh,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const lC={provide:Hi,useExisting:(0,a.Gpc)(()=>Gm),multi:!0};function fy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Gm=(()=>{class n extends vu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(l=>this._getOptionId(l));r=(l,c)=>{l._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,l)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],l=r.selectedOptions;if(void 0!==l){const c=l;for(let p=0;p<c.length;p++){const T=this._getOptionValue(c[p].value);i.push(T)}}else{const c=r.options;for(let p=0;p<c.length;p++){const _=c[p];if(_.selected){const T=this._getOptionValue(_.value);i.push(T)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function uC(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("change",function(l){return r.onChange(l.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[a._Bn([lC]),a.qOj]}),n})(),cp=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(fy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(fy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(Gm,9))},n.\u0275dir=a.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();function py(n){return"number"==typeof n?n:parseFloat(n)}let Eu=(()=>{class n{constructor(){this._validator=$f}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$f,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const gy={provide:gi,useExisting:(0,a.Gpc)(()=>zc),multi:!0};let zc=(()=>{class n extends Eu{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>py(t),this.createValidator=t=>function wT(n){return e=>{if(ml(e.value)||ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[a._Bn([gy]),a.qOj]}),n})();const my={provide:gi,useExisting:(0,a.Gpc)(()=>dp),multi:!0};let dp=(()=>{class n extends Eu{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>py(t),this.createValidator=t=>function ZS(n){return e=>{if(ml(e.value)||ml(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[a._Bn([my]),a.qOj]}),n})(),pC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[n1]}),n})(),f1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:$c,useValue:t.callSetDisabledState??rp}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[pC]}),n})();var p1={left:"right",right:"left",bottom:"top",top:"bottom"};function hp(n){return n.replace(/left|right|bottom|top/g,function(e){return p1[e]})}function xo(n){return n.split("-")[0]}var g1={start:"end",end:"start"};function by(n){return n.replace(/start|end/g,function(e){return g1[e]})}var os="top",so="bottom",Cs="right",as="left",vl="auto",fp=[os,so,Cs,as],lh="start",Ia="end",KR="clippingParents",jm="viewport",$m="popper",m1="reference",Ty=fp.reduce(function(n,e){return n.concat([e+"-"+lh,e+"-"+Ia])},[]),_C=[].concat(fp,[vl]).reduce(function(n,e){return n.concat([e,e+"-"+lh,e+"-"+Ia])},[]),YR=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ls(n){if(null==n)return window;if("[object Window]"!==n.toString()){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function Su(n){return n instanceof ls(n).Element||n instanceof Element}function oo(n){return n instanceof ls(n).HTMLElement||n instanceof HTMLElement}function Zm(n){return!(typeof ShadowRoot>"u")&&(n instanceof ls(n).ShadowRoot||n instanceof ShadowRoot)}function bl(n){return((Su(n)?n.ownerDocument:n.document)||window.document).documentElement}var Cu=Math.max,pp=Math.min,ch=Math.round;function wy(){var n=navigator.userAgentData;return null!=n&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function _1(){return!/^((?!chrome|android).)*safari/i.test(wy())}function Aa(n,e,t){void 0===e&&(e=!1),void 0===t&&(t=!1);var r=n.getBoundingClientRect(),i=1,l=1;e&&oo(n)&&(i=n.offsetWidth>0&&ch(r.width)/n.offsetWidth||1,l=n.offsetHeight>0&&ch(r.height)/n.offsetHeight||1);var p=(Su(n)?ls(n):window).visualViewport,_=!_1()&&t,T=(r.left+(_&&p?p.offsetLeft:0))/i,D=(r.top+(_&&p?p.offsetTop:0))/l,M=r.width/i,P=r.height/l;return{width:M,height:P,top:D,right:T+M,bottom:D+P,left:T,x:T,y:D}}function Dy(n){var e=ls(n);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ey(n){return Aa(bl(n)).left+Dy(n).scrollLeft}function ao(n){return ls(n).getComputedStyle(n)}function ko(n){return n?(n.nodeName||"").toLowerCase():null}function gp(n){return"html"===ko(n)?n:n.assignedSlot||n.parentNode||(Zm(n)?n.host:null)||bl(n)}function Sy(n){var e=ao(n);return/auto|scroll|overlay|hidden/.test(e.overflow+e.overflowY+e.overflowX)}function dh(n){return["html","body","#document"].indexOf(ko(n))>=0?n.ownerDocument.body:oo(n)&&Sy(n)?n:dh(gp(n))}function Tl(n,e){var t;void 0===e&&(e=[]);var r=dh(n),i=r===(null==(t=n.ownerDocument)?void 0:t.body),l=ls(r),c=i?[l].concat(l.visualViewport||[],Sy(r)?r:[]):r,p=e.concat(c);return i?p:p.concat(Tl(gp(c)))}function DC(n){return["table","td","th"].indexOf(ko(n))>=0}function v1(n){return oo(n)&&"fixed"!==ao(n).position?n.offsetParent:null}function hh(n){for(var e=ls(n),t=v1(n);t&&DC(t)&&"static"===ao(t).position;)t=v1(t);return t&&("html"===ko(t)||"body"===ko(t)&&"static"===ao(t).position)?e:t||function EC(n){var e=/firefox/i.test(wy());if(/Trident/i.test(wy())&&oo(n)&&"fixed"===ao(n).position)return null;var i=gp(n);for(Zm(i)&&(i=i.host);oo(i)&&["html","body"].indexOf(ko(i))<0;){var l=ao(i);if("none"!==l.transform||"none"!==l.perspective||"paint"===l.contain||-1!==["transform","perspective"].indexOf(l.willChange)||e&&"filter"===l.willChange||e&&l.filter&&"none"!==l.filter)return i;i=i.parentNode}return null}(n)||e}function Cy(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Zm(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qm(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Iy(n,e,t){return e===jm?qm(function wC(n,e){var t=ls(n),r=bl(n),i=t.visualViewport,l=r.clientWidth,c=r.clientHeight,p=0,_=0;if(i){l=i.width,c=i.height;var T=_1();(T||!T&&"fixed"===e)&&(p=i.offsetLeft,_=i.offsetTop)}return{width:l,height:c,x:p+Ey(n),y:_}}(n,t)):Su(e)?function SC(n,e){var t=Aa(n,!1,"fixed"===e);return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}(e,t):qm(function y1(n){var e,t=bl(n),r=Dy(n),i=null==(e=n.ownerDocument)?void 0:e.body,l=Cu(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=Cu(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-r.scrollLeft+Ey(n),_=-r.scrollTop;return"rtl"===ao(i||t).direction&&(p+=Cu(t.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:p,y:_}}(bl(n)))}function mp(n){return n.split("-")[1]}function b1(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function AC(n){var _,e=n.reference,t=n.element,r=n.placement,i=r?xo(r):null,l=r?mp(r):null,c=e.x+e.width/2-t.width/2,p=e.y+e.height/2-t.height/2;switch(i){case os:_={x:c,y:e.y-t.height};break;case so:_={x:c,y:e.y+e.height};break;case Cs:_={x:e.x+e.width,y:p};break;case as:_={x:e.x-t.width,y:p};break;default:_={x:e.x,y:e.y}}var T=i?b1(i):null;if(null!=T){var D="y"===T?"height":"width";switch(l){case lh:_[T]=_[T]-(e[D]/2-t[D]/2);break;case Ia:_[T]=_[T]+(e[D]/2-t[D]/2)}}return _}function Ay(n){return Object.assign({},{top:0,right:0,bottom:0,left:0},n)}function _p(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}function My(n,e){void 0===e&&(e={});var r=e.placement,i=void 0===r?n.placement:r,l=e.strategy,c=void 0===l?n.strategy:l,p=e.boundary,_=void 0===p?KR:p,T=e.rootBoundary,D=void 0===T?jm:T,M=e.elementContext,P=void 0===M?$m:M,L=e.altBoundary,K=void 0!==L&&L,J=e.padding,re=void 0===J?0:J,Be=Ay("number"!=typeof re?re:_p(re,fp)),Ge=n.rects.popper,Ue=n.elements[K?P===$m?m1:$m:P],Ke=function IC(n,e,t,r){var i="clippingParents"===e?function CC(n){var e=Tl(gp(n)),r=["absolute","fixed"].indexOf(ao(n).position)>=0&&oo(n)?hh(n):n;return Su(r)?e.filter(function(i){return Su(i)&&Cy(i,r)&&"body"!==ko(i)}):[]}(n):[].concat(e),l=[].concat(i,[t]),p=l.reduce(function(_,T){var D=Iy(n,T,r);return _.top=Cu(D.top,_.top),_.right=pp(D.right,_.right),_.bottom=pp(D.bottom,_.bottom),_.left=Cu(D.left,_.left),_},Iy(n,l[0],r));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}(Su(Ue)?Ue:Ue.contextElement||bl(n.elements.popper),_,D,c),lt=Aa(n.elements.reference),zt=AC({reference:lt,element:Ge,strategy:"absolute",placement:i}),Qt=qm(Object.assign({},Ge,zt)),Dr=P===$m?Qt:lt,yi={top:Ke.top-Dr.top+Be.top,bottom:Dr.bottom-Ke.bottom+Be.bottom,left:Ke.left-Dr.left+Be.left,right:Dr.right-Ke.right+Be.right},Wr=n.modifiersData.offset;if(P===$m&&Wr){var Ml=Wr[i];Object.keys(yi).forEach(function(Fs){var fg=[Cs,so].indexOf(Fs)>=0?1:-1,pg=[os,so].indexOf(Fs)>=0?"y":"x";yi[Fs]+=Ml[pg]*fg})}return yi}const OC={name:"flip",enabled:!0,phase:"main",fn:function yp(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,l=void 0===i||i,c=t.altAxis,p=void 0===c||c,_=t.fallbackPlacements,T=t.padding,D=t.boundary,M=t.rootBoundary,P=t.altBoundary,L=t.flipVariations,K=void 0===L||L,J=t.allowedAutoPlacements,re=e.options.placement,Be=xo(re),Ge=_||(Be!==re&&K?function T1(n){if(xo(n)===vl)return[];var e=hp(n);return[by(n),e,by(e)]}(re):[hp(re)]),Ue=[re].concat(Ge).reduce(function(K_,zh){return K_.concat(xo(zh)===vl?function NC(n,e){void 0===e&&(e={});var i=e.boundary,l=e.rootBoundary,c=e.padding,p=e.flipVariations,_=e.allowedAutoPlacements,T=void 0===_?_C:_,D=mp(e.placement),M=D?p?Ty:Ty.filter(function(K){return mp(K)===D}):fp,P=M.filter(function(K){return T.indexOf(K)>=0});0===P.length&&(P=M);var L=P.reduce(function(K,J){return K[J]=My(n,{placement:J,boundary:i,rootBoundary:l,padding:c})[xo(J)],K},{});return Object.keys(L).sort(function(K,J){return L[K]-L[J]})}(e,{placement:zh,boundary:D,rootBoundary:M,padding:T,flipVariations:K,allowedAutoPlacements:J}):zh)},[]),Ke=e.rects.reference,lt=e.rects.popper,zt=new Map,Qt=!0,Dr=Ue[0],yi=0;yi<Ue.length;yi++){var Wr=Ue[yi],Ml=xo(Wr),Fs=mp(Wr)===lh,fg=[os,so].indexOf(Ml)>=0,pg=fg?"width":"height",Vo=My(e,{placement:Wr,boundary:D,rootBoundary:M,altBoundary:P,padding:T}),Nl=fg?Fs?Cs:as:Fs?so:os;Ke[pg]>lt[pg]&&(Nl=hp(Nl));var $E=hp(Nl),gg=[];if(l&&gg.push(Vo[Ml]<=0),p&&gg.push(Vo[Nl]<=0,Vo[$E]<=0),gg.every(function(K_){return K_})){Dr=Wr,Qt=!1;break}zt.set(Wr,gg)}if(Qt)for(var pR=function(zh){var Ob=Ue.find(function(ZE){var mg=zt.get(ZE);if(mg)return mg.slice(0,zh).every(function(gR){return gR})});if(Ob)return Dr=Ob,"break"},Nb=K?3:1;Nb>0&&"break"!==pR(Nb);Nb--);e.placement!==Dr&&(e.modifiersData[r]._skip=!0,e.placement=Dr,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function vp(n,e,t){return Cu(n,pp(e,t))}function w1(n){var e=Aa(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}const D1={name:"preventOverflow",enabled:!0,phase:"main",fn:function xC(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,l=void 0===i||i,c=t.altAxis,p=void 0!==c&&c,P=t.tether,L=void 0===P||P,K=t.tetherOffset,J=void 0===K?0:K,re=My(e,{boundary:t.boundary,rootBoundary:t.rootBoundary,padding:t.padding,altBoundary:t.altBoundary}),Be=xo(e.placement),ze=mp(e.placement),Ge=!ze,Ue=b1(Be),Ke=function RC(n){return"x"===n?"y":"x"}(Ue),lt=e.modifiersData.popperOffsets,zt=e.rects.reference,Qt=e.rects.popper,Dr="function"==typeof J?J(Object.assign({},e.rects,{placement:e.placement})):J,yi="number"==typeof Dr?{mainAxis:Dr,altAxis:Dr}:Object.assign({mainAxis:0,altAxis:0},Dr),Wr=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Ml={x:0,y:0};if(lt){if(l){var Fs,fg="y"===Ue?os:as,pg="y"===Ue?so:Cs,Vo="y"===Ue?"height":"width",Nl=lt[Ue],$E=Nl+re[fg],gg=Nl-re[pg],zE=L?-Qt[Vo]/2:0,pR=ze===lh?zt[Vo]:Qt[Vo],Nb=ze===lh?-Qt[Vo]:-zt[Vo],WE=e.elements.arrow,K_=L&&WE?w1(WE):{width:0,height:0},zh=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Ob=zh[fg],ZE=zh[pg],mg=vp(0,zt[Vo],K_[Vo]),gR=Ge?zt[Vo]/2-zE-mg-Ob-yi.mainAxis:pR-mg-Ob-yi.mainAxis,y8=Ge?-zt[Vo]/2+zE+mg+ZE+yi.mainAxis:Nb+mg+ZE+yi.mainAxis,mR=e.elements.arrow&&hh(e.elements.arrow),bU=null!=(Fs=Wr?.[Ue])?Fs:0,T8=Nl+y8-bU,TU=vp(L?pp($E,Nl+gR-bU-(mR?"y"===Ue?mR.clientTop||0:mR.clientLeft||0:0)):$E,Nl,L?Cu(gg,T8):gg);lt[Ue]=TU,Ml[Ue]=TU-Nl}if(p){var wU,_g=lt[Ke],qE="y"===Ke?"height":"width",DU=_g+re["x"===Ue?os:as],EU=_g-re["x"===Ue?so:Cs],_R=-1!==[os,as].indexOf(Be),SU=null!=(wU=Wr?.[Ke])?wU:0,CU=_R?DU:_g-zt[qE]-Qt[qE]-SU+yi.altAxis,IU=_R?_g+zt[qE]+Qt[qE]-SU-yi.altAxis:EU,AU=L&&_R?function PC(n,e,t){var r=vp(n,e,t);return r>t?t:r}(CU,_g,IU):vp(L?CU:DU,_g,L?IU:EU);lt[Ke]=AU,Ml[Ke]=AU-_g}e.modifiersData[r]=Ml}},requiresIfExists:["offset"]};const LC={name:"arrow",enabled:!0,phase:"main",fn:function FC(n){var e,t=n.state,r=n.name,i=n.options,l=t.elements.arrow,c=t.modifiersData.popperOffsets,p=xo(t.placement),_=b1(p),D=[as,Cs].indexOf(p)>=0?"height":"width";if(l&&c){var M=function(e,t){return Ay("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:_p(e,fp))}(i.padding,t),P=w1(l),L="y"===_?os:as,K="y"===_?so:Cs,J=t.rects.reference[D]+t.rects.reference[_]-c[_]-t.rects.popper[D],re=c[_]-t.rects.reference[_],Be=hh(l),ze=Be?"y"===_?Be.clientHeight||0:Be.clientWidth||0:0,lt=ze/2-P[D]/2+(J/2-re/2),zt=vp(M[L],lt,ze-P[D]-M[K]);t.modifiersData[r]=((e={})[_]=zt,e.centerOffset=zt-lt,e)}},effect:function bp(n){var e=n.state,r=n.options.element,i=void 0===r?"[data-popper-arrow]":r;null!=i&&("string"==typeof i&&!(i=e.elements.popper.querySelector(i))||Cy(e.elements.popper,i)&&(e.elements.arrow=i))},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function UC(n,e,t){void 0===t&&(t=!1);var r=oo(e),i=oo(e)&&function S1(n){var e=n.getBoundingClientRect(),t=ch(e.width)/n.offsetWidth||1,r=ch(e.height)/n.offsetHeight||1;return 1!==t||1!==r}(e),l=bl(e),c=Aa(n,i,t),p={scrollLeft:0,scrollTop:0},_={x:0,y:0};return(r||!r&&!t)&&(("body"!==ko(e)||Sy(l))&&(p=function BC(n){return n!==ls(n)&&oo(n)?function E1(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}(n):Dy(n)}(e)),oo(e)?((_=Aa(e,!0)).x+=e.clientLeft,_.y+=e.clientTop):l&&(_.x=Ey(l))),{x:c.left+p.scrollLeft-_.x,y:c.top+p.scrollTop-_.y,width:c.width,height:c.height}}function C1(n){var e=new Map,t=new Set,r=[];function i(l){t.add(l.name),[].concat(l.requires||[],l.requiresIfExists||[]).forEach(function(p){if(!t.has(p)){var _=e.get(p);_&&i(_)}}),r.push(l)}return n.forEach(function(l){e.set(l.name,l)}),n.forEach(function(l){t.has(l.name)||i(l)}),r}function Ny(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}var I1={placement:"bottom",modifiers:[],strategy:"absolute"};function A1(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&"function"==typeof r.getBoundingClientRect)})}function $C(n){void 0===n&&(n={});var t=n.defaultModifiers,r=void 0===t?[]:t,i=n.defaultOptions,l=void 0===i?I1:i;return function(p,_,T){void 0===T&&(T=l);var D={placement:"bottom",orderedModifiers:[],options:Object.assign({},I1,l),modifiersData:{},elements:{reference:p,popper:_},attributes:{},styles:{}},M=[],P=!1,L={state:D,setOptions:function(Be){var ze="function"==typeof Be?Be(D.options):Be;J(),D.options=Object.assign({},l,D.options,ze),D.scrollParents={reference:Su(p)?Tl(p):p.contextElement?Tl(p.contextElement):[],popper:Tl(_)};var Ge=function VC(n){var e=C1(n);return YR.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}(function GC(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}([].concat(r,D.options.modifiers)));return D.orderedModifiers=Ge.filter(function(Wr){return Wr.enabled}),function K(){D.orderedModifiers.forEach(function(re){var ze=re.options,Ue=re.effect;if("function"==typeof Ue){var Ke=Ue({state:D,name:re.name,instance:L,options:void 0===ze?{}:ze});M.push(Ke||function(){})}})}(),L.update()},forceUpdate:function(){if(!P){var Be=D.elements,ze=Be.reference,Ge=Be.popper;if(A1(ze,Ge)){D.rects={reference:UC(ze,hh(Ge),"fixed"===D.options.strategy),popper:w1(Ge)},D.reset=!1,D.placement=D.options.placement,D.orderedModifiers.forEach(function(Wr){return D.modifiersData[Wr.name]=Object.assign({},Wr.data)});for(var Ke=0;Ke<D.orderedModifiers.length;Ke++)if(!0!==D.reset){var lt=D.orderedModifiers[Ke],zt=lt.fn,Qt=lt.options;"function"==typeof zt&&(D=zt({state:D,options:void 0===Qt?{}:Qt,name:lt.name,instance:L})||D)}else D.reset=!1,Ke=-1}}},update:Ny(function(){return new Promise(function(re){L.forceUpdate(),re(D)})}),destroy:function(){J(),P=!0}};if(!A1(p,_))return L;function J(){M.forEach(function(re){return re()}),M=[]}return L.setOptions(T).then(function(re){!P&&T.onFirstUpdate&&T.onFirstUpdate(re)}),L}}var Km={passive:!0};const zC={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function N1(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,l=void 0===i||i,c=r.resize,p=void 0===c||c,_=ls(e.elements.popper),T=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&T.forEach(function(D){D.addEventListener("scroll",t.update,Km)}),p&&_.addEventListener("resize",t.update,Km),function(){l&&T.forEach(function(D){D.removeEventListener("scroll",t.update,Km)}),p&&_.removeEventListener("resize",t.update,Km)}},data:{}},ZC={name:"popperOffsets",enabled:!0,phase:"read",fn:function WC(n){var e=n.state;e.modifiersData[n.name]=AC({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}};var qC={top:"auto",right:"auto",bottom:"auto",left:"auto"};function O1(n){var e,t=n.popper,r=n.popperRect,i=n.placement,l=n.variation,c=n.offsets,p=n.position,_=n.gpuAcceleration,T=n.adaptive,D=n.roundOffsets,M=n.isFixed,P=c.x,L=void 0===P?0:P,K=c.y,J=void 0===K?0:K,re="function"==typeof D?D({x:L,y:J}):{x:L,y:J};L=re.x,J=re.y;var Be=c.hasOwnProperty("x"),ze=c.hasOwnProperty("y"),Ge=as,Ue=os,Ke=window;if(T){var lt=hh(t),zt="clientHeight",Qt="clientWidth";lt===ls(t)&&"static"!==ao(lt=bl(t)).position&&"absolute"===p&&(zt="scrollHeight",Qt="scrollWidth"),(i===os||(i===as||i===Cs)&&l===Ia)&&(Ue=so,J-=(M&&lt===Ke&&Ke.visualViewport?Ke.visualViewport.height:lt[zt])-r.height,J*=_?1:-1),i!==as&&(i!==os&&i!==so||l!==Ia)||(Ge=Cs,L-=(M&&lt===Ke&&Ke.visualViewport?Ke.visualViewport.width:lt[Qt])-r.width,L*=_?1:-1)}var Fs,Wr=Object.assign({position:p},T&&qC),Ml=!0===D?function KC(n,e){var r=n.y,i=e.devicePixelRatio||1;return{x:ch(n.x*i)/i||0,y:ch(r*i)/i||0}}({x:L,y:J},ls(t)):{x:L,y:J};return L=Ml.x,J=Ml.y,Object.assign({},Wr,_?((Fs={})[Ue]=ze?"0":"",Fs[Ge]=Be?"0":"",Fs.transform=(Ke.devicePixelRatio||1)<=1?"translate("+L+"px, "+J+"px)":"translate3d("+L+"px, "+J+"px, 0)",Fs):((e={})[Ue]=ze?J+"px":"",e[Ge]=Be?L+"px":"",e.transform="",e))}const QC={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function YC(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=void 0===r||r,l=t.adaptive,c=void 0===l||l,p=t.roundOffsets,_=void 0===p||p,D={placement:xo(e.placement),variation:mp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,O1(Object.assign({},D,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:_})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,O1(Object.assign({},D,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:_})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var XC=[zC,ZC,QC,{name:"applyStyles",enabled:!0,phase:"write",fn:function R1(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},l=e.elements[t];!oo(l)||!ko(l)||(Object.assign(l.style,r),Object.keys(i).forEach(function(c){var p=i[c];!1===p?l.removeAttribute(c):l.setAttribute(c,!0===p?"":p)}))})},effect:function P1(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],l=e.attributes[r]||{},p=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]).reduce(function(_,T){return _[T]="",_},{});!oo(i)||!ko(i)||(Object.assign(i.style,p),Object.keys(l).forEach(function(_){i.removeAttribute(_)}))})}},requires:["computeStyles"]}],Oy=$C({defaultModifiers:XC});const tI={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function eI(n){var e=n.state,r=n.name,i=n.options.offset,l=void 0===i?[0,0]:i,c=_C.reduce(function(D,M){return D[M]=function x1(n,e,t){var r=xo(n),i=[as,os].indexOf(r)>=0?-1:1,l="function"==typeof t?t(Object.assign({},e,{placement:n})):t,c=l[0],p=l[1];return c=c||0,p=(p||0)*i,[as,Cs].indexOf(r)>=0?{x:p,y:c}:{x:c,y:p}}(M,e.rects,l),D},{}),p=c[e.placement],T=p.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=p.x,e.modifiersData.popperOffsets.y+=T),e.modifiersData[r]=c}};function Ry(n,e){}function Py(n,e){if(1&n&&(a.TgZ(0,"button",3),a._uU(1),a.YNc(2,Ry,0,0,"ng-template",4),a.qZA()),2&n){const t=e.$implicit;a.Q6J("ngbPanelToggle",t),a.xp6(1),a.hij(" ",t.title," "),a.xp6(1),a.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function k1(n,e){}function xy(n,e){}function nI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",8),a.NdJ("ngbRef",function(i){a.CHM(t);const l=a.oxw().$implicit;return a.KtG(l.panelDiv=i)}),a.TgZ(1,"div",9),a.YNc(2,xy,0,0,"ng-template",4),a.qZA()()}if(2&n){const t=a.oxw().$implicit;a.s9C("id",t.id),a.uIk("aria-labelledby",t.id+"-header"),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}const rI=function(n,e){return{$implicit:n,opened:e}};function ky(n,e){if(1&n&&(a.TgZ(0,"div")(1,"div",5),a.YNc(2,k1,0,0,"ng-template",6),a.qZA(),a.YNc(3,nI,3,3,"div",7),a.qZA()),2&n){const t=e.$implicit,r=a.oxw(),i=a.MAs(1);a.Tol("accordion-item "+(t.cardClass||"")),a.xp6(1),a.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),a.MGl("id","",t.id,"-header"),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",a.WLB(8,rI,t,t.isOpen)),a.xp6(1),a.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}function iI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",1),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.close())}),a.qZA()}}const Tp=["*"];function fh(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",6),a.NdJ("click",function(){const l=a.CHM(t).$implicit,c=a.oxw();return c.focus(),a.KtG(c.select(l.id,c.NgbSlideEventSource.INDICATOR))}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw();a.ekj("active",t.id===r.activeId),a.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function F1(n,e){}function sI(n,e){if(1&n&&(a.TgZ(0,"div",7)(1,"span",8),a.SDv(2,9),a.qZA(),a.YNc(3,F1,0,0,"ng-template",10),a.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;a.Q6J("id","slide-"+t.id),a.xp6(2),a.pQV(r+1)(i),a.QtT(2),a.xp6(1),a.Q6J("ngTemplateOutlet",t.tplRef)}}function QR(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.arrowLeft())}),a._UZ(1,"span",12),a.TgZ(2,"span",8),a.SDv(3,13),a.qZA()()}}function L1(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.arrowRight())}),a._UZ(1,"span",15),a.TgZ(2,"span",8),a.SDv(3,16),a.qZA()()}}const Fy=["ngbDatepickerDayView",""],oI=["month"],Ly=["year"];function aI(n,e){if(1&n&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&n){const t=e.$implicit,r=a.oxw();a.Q6J("value",t),a.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),a.xp6(1),a.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function B1(n,e){if(1&n&&(a.TgZ(0,"option",5),a._uU(1),a.qZA()),2&n){const t=e.$implicit,r=a.oxw();a.Q6J("value",t),a.xp6(1),a.Oqu(r.i18n.getYearNumerals(t))}}function By(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-datepicker-navigation-select",7),a.NdJ("select",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.select.emit(i))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function U1(n,e){1&n&&a._UZ(0,"div",0)}function V1(n,e){1&n&&a._UZ(0,"div",0)}function G1(n,e){if(1&n&&(a.YNc(0,U1,1,0,"div",9),a.TgZ(1,"div",10),a._uU(2),a.qZA(),a.YNc(3,V1,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=a.oxw(2);a.Q6J("ngIf",r>0),a.xp6(2),a.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),a.xp6(1),a.Q6J("ngIf",r!==i.months.length-1)}}function H1(n,e){if(1&n&&a.YNc(0,G1,4,3,"ng-template",8),2&n){const t=a.oxw();a.Q6J("ngForOf",t.months)}}function lI(n,e){if(1&n&&(a.TgZ(0,"div",5),a._uU(1),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Oqu(t.i18n.getWeekLabel())}}function uI(n,e){if(1&n&&(a.TgZ(0,"div",6),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.Oqu(t)}}function cI(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,lI,2,1,"div",3),a.YNc(2,uI,2,1,"div",4),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",t.viewModel.weekdays)}}function dI(n,e){if(1&n&&(a.TgZ(0,"div",11),a._uU(1),a.qZA()),2&n){const t=a.oxw(2).$implicit,r=a.oxw();a.xp6(1),a.Oqu(r.i18n.getWeekNumerals(t.number))}}function j1(n,e){}function JR(n,e){if(1&n&&a.YNc(0,j1,0,0,"ng-template",14),2&n){const t=a.oxw().$implicit,r=a.oxw(3);a.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function $1(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(i){const c=a.CHM(t).$implicit;return a.oxw(3).doSelect(c),a.KtG(i.preventDefault())}),a.YNc(1,JR,1,2,"ng-template",13),a.qZA()}if(2&n){const t=e.$implicit;a.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),a.Q6J("tabindex",t.tabindex),a.uIk("aria-label",t.ariaLabel),a.xp6(1),a.Q6J("ngIf",!t.hidden)}}function hI(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,dI,2,1,"div",9),a.YNc(2,$1,2,9,"div",10),a.qZA()),2&n){const t=a.oxw().$implicit,r=a.oxw();a.xp6(1),a.Q6J("ngIf",r.datepicker.showWeekNumbers),a.xp6(1),a.Q6J("ngForOf",t.days)}}function fI(n,e){1&n&&a.YNc(0,hI,3,2,"div",7),2&n&&a.Q6J("ngIf",!e.$implicit.collapsed)}const XR=["defaultDayTemplate"],pI=["content"];function gI(n,e){if(1&n&&a._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,l=e.disabled,c=e.focused;a.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",l)("focused",c)}}function mI(n,e){if(1&n&&(a.TgZ(0,"div",12),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit,r=a.oxw(2);a.xp6(1),a.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function z1(n,e){if(1&n&&(a.TgZ(0,"div",9),a.YNc(1,mI,2,1,"div",10),a._UZ(2,"ngb-datepicker-month",11),a.qZA()),2&n){const t=e.$implicit,r=a.oxw(2);a.xp6(1),a.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),a.xp6(1),a.Q6J("month",t.firstDate)}}function W1(n,e){if(1&n&&a.YNc(0,z1,3,2,"div",8),2&n){const t=a.oxw();a.Q6J("ngForOf",t.model.months)}}function Z1(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-datepicker-navigation",13),a.NdJ("navigate",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onNavigateEvent(i))})("select",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.onNavigateDateSelect(i))}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function _I(n,e){}function yI(n,e){}const vI=["dialog"],bI=["ngbNavOutlet",""];function TI(n,e){}const wI=function(n){return{$implicit:n}};function wp(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,TI,0,0,"ng-template",3),a.qZA()),2&n){const t=a.oxw().$implicit,r=a.oxw();a.Q6J("item",t)("nav",r.nav)("role",r.paneRole),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",a.VKq(5,wI,t.active||r.isPanelTransitioning(t)))}}function q1(n,e){if(1&n&&a.YNc(0,wp,2,7,"div",1),2&n){const t=e.$implicit,r=a.oxw();a.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function K1(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,10),a.qZA())}function Y1(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,11),a.qZA())}function Q1(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,12),a.qZA())}function J1(n,e){1&n&&(a.TgZ(0,"span",9),a.SDv(1,13),a.qZA())}function X1(n,e){1&n&&a._uU(0,"...")}function DI(n,e){1&n&&(a.TgZ(0,"span",15),a._uU(1,"(current)"),a.qZA())}function eP(n,e){if(1&n&&(a._uU(0),a.YNc(1,DI,2,0,"span",14)),2&n){const t=e.$implicit,r=e.currentPage;a.hij(" ",t," "),a.xp6(1),a.Q6J("ngIf",t===r)}}function ew(n,e){}const EI=function(n){return{disabled:!0,currentPage:n}};function SI(n,e){if(1&n&&(a.TgZ(0,"a",20),a.YNc(1,ew,0,0,"ng-template",8),a.qZA()),2&n){const t=a.oxw(2).$implicit,r=a.oxw(),i=a.MAs(9);a.xp6(1),a.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",a.VKq(2,EI,t))}}function CI(n,e){}const II=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function Dp(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",21),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw().$implicit;return a.oxw(2).selectPage(l),a.KtG(i.preventDefault())}),a.YNc(1,CI,0,0,"ng-template",8),a.qZA()}if(2&n){const t=a.oxw().$implicit,r=a.oxw(),i=r.disabled,l=r.$implicit,c=a.oxw(),p=a.MAs(11);a.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||p)("ngTemplateOutletContext",a.kEZ(4,II,i,t,l))}}function AI(n,e){if(1&n&&(a.TgZ(0,"li",17),a.YNc(1,SI,2,4,"a",18),a.YNc(2,Dp,2,8,"a",19),a.qZA()),2&n){const t=e.$implicit,r=a.oxw(),i=r.$implicit,l=r.disabled,c=a.oxw();a.ekj("active",t===i)("disabled",c.isEllipsis(t)||l),a.uIk("aria-current",t===i?"page":null),a.xp6(1),a.Q6J("ngIf",c.isEllipsis(t)),a.xp6(1),a.Q6J("ngIf",!c.isEllipsis(t))}}function Uy(n,e){1&n&&a.YNc(0,AI,3,7,"li",16),2&n&&a.Q6J("ngForOf",e.pages)}function Ma(n,e){}const Vy=function(n,e){return{disabled:n,currentPage:e}};function Gy(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",17)(1,"a",22),a.NdJ("click",function(i){return a.CHM(t),a.oxw().selectPage(1),a.KtG(i.preventDefault())}),a.YNc(2,Ma,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),r=a.MAs(1);a.ekj("disabled",t.previousDisabled()),a.xp6(1),a.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",a.WLB(6,Vy,t.previousDisabled(),t.page))}}function Ep(n,e){}const MI=function(n){return{disabled:n}};function NI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",17)(1,"a",23),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw();return l.selectPage(l.page-1),a.KtG(i.preventDefault())}),a.YNc(2,Ep,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),r=a.MAs(3);a.ekj("disabled",t.previousDisabled()),a.xp6(1),a.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",a.VKq(6,MI,t.previousDisabled()))}}function OI(n,e){}function Ym(n,e){}function Qm(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",17)(1,"a",24),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw();return l.selectPage(l.page+1),a.KtG(i.preventDefault())}),a.YNc(2,Ym,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),r=a.MAs(5);a.ekj("disabled",t.nextDisabled()),a.xp6(1),a.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",a.WLB(6,Vy,t.nextDisabled(),t.page))}}function RI(n,e){}function PI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"li",17)(1,"a",25),a.NdJ("click",function(i){a.CHM(t);const l=a.oxw();return l.selectPage(l.pageCount),a.KtG(i.preventDefault())}),a.YNc(2,RI,0,0,"ng-template",8),a.qZA()()}if(2&n){const t=a.oxw(),r=a.MAs(7);a.ekj("disabled",t.nextDisabled()),a.xp6(1),a.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",a.WLB(6,Vy,t.nextDisabled(),t.page))}}const tw=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function jy(n,e){if(1&n&&(a.TgZ(0,"span"),a.SDv(1,1),a.ALo(2,"percent"),a.qZA()),2&n){const t=a.oxw();a.xp6(2),a.pQV(a.lcZ(2,1,t.getValue()/t.max)),a.QtT(1)}}function $y(n,e){1&n&&a._uU(0),2&n&&a.Oqu(100===e.fill?"\u2605":"\u2606")}function rw(n,e){}function zy(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"span",2),a._uU(1),a.qZA(),a.TgZ(2,"span",3),a.NdJ("mouseenter",function(){const l=a.CHM(t).index,c=a.oxw();return a.KtG(c.enter(l+1))})("click",function(){const l=a.CHM(t).index,c=a.oxw();return a.KtG(c.handleClick(l+1))}),a.YNc(3,rw,0,0,"ng-template",4),a.qZA()}if(2&n){const t=e.index,r=a.oxw(),i=a.MAs(1);a.xp6(1),a.hij("(",t<r.nextRate?"*":" ",")"),a.xp6(1),a.Udp("cursor",r.isInteractive()?"pointer":"default"),a.xp6(1),a.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function Wy(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.changeHour(i.hourStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,14),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function kI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.changeHour(-i.hourStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,16),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function FI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.changeMinute(i.minuteStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,17),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function LI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.changeMinute(-i.minuteStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,18),a.qZA()()}if(2&n){const t=a.oxw();a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function BI(n,e){1&n&&(a.TgZ(0,"div",5),a._uU(1,":"),a.qZA())}function iw(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2);return a.KtG(i.changeSecond(i.secondStep))}),a._UZ(1,"span",12),a.TgZ(2,"span",13),a.SDv(3,21),a.qZA()()}if(2&n){const t=a.oxw(2);a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function Zy(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"button",11),a.NdJ("click",function(){a.CHM(t);const i=a.oxw(2);return a.KtG(i.changeSecond(-i.secondStep))}),a._UZ(1,"span",15),a.TgZ(2,"span",13),a.SDv(3,22),a.qZA()()}if(2&n){const t=a.oxw(2);a.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),a.Q6J("disabled",t.disabled)}}function sw(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",19),a.YNc(1,iw,4,7,"button",3),a.TgZ(2,"input",20),a.NdJ("change",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.updateSecond(i.target.value))})("blur",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.handleBlur())})("input",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.formatInput(i.target))})("keydown.ArrowUp",function(i){a.CHM(t);const l=a.oxw();return l.changeSecond(l.secondStep),a.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){a.CHM(t);const l=a.oxw();return l.changeSecond(-l.secondStep),a.KtG(i.preventDefault())}),a.qZA(),a.YNc(3,Zy,4,7,"button",3),a.qZA()}if(2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",t.spinners),a.xp6(1),a.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),a.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),a.xp6(1),a.Q6J("ngIf",t.spinners)}}function ow(n,e){1&n&&a._UZ(0,"div",5)}function aw(n,e){if(1&n&&(a.ynx(0),a.SDv(1,27),a.BQk()),2&n){const t=a.oxw(2);a.xp6(1),a.pQV(t.i18n.getAfternoonPeriod()),a.QtT(1)}}function lw(n,e){if(1&n&&a.SDv(0,28),2&n){const t=a.oxw(2);a.pQV(t.i18n.getMorningPeriod()),a.QtT(0)}}function UI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",23)(1,"button",24),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.toggleMeridian())}),a.YNc(2,aw,2,1,"ng-container",25),a.YNc(3,lw,1,1,"ng-template",null,26,a.W1O),a.qZA()()}if(2&n){const t=a.MAs(4),r=a.oxw();a.xp6(1),a.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),a.Q6J("disabled",r.disabled),a.xp6(1),a.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function uw(n,e){if(1&n&&(a.TgZ(0,"strong",3),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.header)}}function cw(n,e){}function VI(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",4),a.YNc(1,cw,0,0,"ng-template",5),a.TgZ(2,"button",6),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.hide())}),a.qZA()()}if(2&n){const t=a.oxw(),r=a.MAs(1);a.xp6(1),a.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function dw(n,e){if(1&n&&(a.TgZ(0,"span"),a._uU(1),a.qZA()),2&n){const t=a.oxw().$implicit,r=a.oxw();a.Tol(r.highlightClass),a.xp6(1),a.Oqu(t)}}function hw(n,e){if(1&n&&a._uU(0),2&n){const t=a.oxw().$implicit;a.Oqu(t)}}function zi(n,e){if(1&n&&(a.YNc(0,dw,2,3,"span",1),a.YNc(1,hw,1,1,"ng-template",null,2,a.W1O)),2&n){const t=e.odd,r=a.MAs(2);a.Q6J("ngIf",t)("ngIfElse",r)}}function Ri(n){return parseInt(`${n}`,10)}function qy(n){return null!=n?`${n}`:""}function ph(n,e,t=0){return Math.max(Math.min(n,e),t)}function wl(n){return"string"==typeof n}function dr(n){return!isNaN(Ri(n))}function zn(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Wc(n){return null!=n}function gh(n){return dr(n)?`0${n}`.slice(-2):""}function fw(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Zc(n){return(n||document.body).getBoundingClientRect()}function Cp(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const $I={animation:!0,transitionTimerDelayMs:5},gw=()=>{},{transitionTimerDelayMs:zI}=$I,mh=new Map,Jn=(n,e,t,r)=>{let i=r.context||{};const l=mh.get(e);if(l)switch(r.runningTransition){case"continue":return $n.E;case"stop":n.run(()=>l.transition$.complete()),i=Object.assign(l.context,i),mh.delete(e)}const c=t(e,r.animation,i)||gw;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),it(void 0).pipe(function pw(n){return e=>new Nn.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const p=new Jt.x,_=new Jt.x,T=p.pipe(function jS(...n){return e=>Ct(e,it(...n))}(!0));mh.set(e,{transition$:p,complete:()=>{_.next(),_.complete()},context:i});const D=function Qy(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=Hr(e,"transitionend").pipe(Wn(T),hn(({target:L})=>L===e));Ro(G0(D+zI).pipe(Wn(T)),M,_).pipe(Wn(T)).subscribe(()=>{mh.delete(e),n.run(()=>{c(),p.next(),p.complete()})})}),p.asObservable()},Jm=(n,e,t)=>{let{direction:r,maxSize:i,dimension:l}=t;const{classList:c}=n;function p(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function mw(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,l),t.maxSize=i,n.style[l]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Zc(n),c.add("collapsing")),n.style[l]="show"===r?i:"0px",()=>{p(),c.remove("collapsing"),n.style[l]=""};p()};let Ip=(()=>{class n{constructor(){this.animation=$I.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ZI=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ip))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tP=0,Xm=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),_w=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),Jy=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),Ap=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+tP++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new a.vpe,this.hidden=new a.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,_w,4),a.Suo(i,Xm,4),a.Suo(i,Jy,4)),2&t){let l;a.iGM(l=a.CRH())&&(r.titleTpls=l),a.iGM(l=a.CRH())&&(r.headerTpls=l),a.iGM(l=a.CRH())&&(r.contentTpls=l)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),yw=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new a.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),vw=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>Mp)),a.Y36(Ap,9))},n.\u0275dir=a.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(a.Ikx("disabled",r.panel.disabled),a.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),a.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),Mp=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new a.vpe,this.shown=new a.vpe,this.hidden=new a.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){wl(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(En(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,Jn(this._ngZone,r,Jm,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&Jn(this._ngZone,r.panelDiv,Jm,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:l}=r;r.isOpen?(r.shown.emit(),this.shown.emit(l)):(r.hidden.emit(),this.hidden.emit(l))})})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ZI),a.Y36(a.R0b),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Ap,4),2&t){let l;a.iGM(l=a.CRH())&&(r.panels=l)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[a.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(a.YNc(0,Py,3,3,"ng-template",0,1,a.W1O),a.YNc(2,ky,4,11,"ng-template",2)),2&t&&(a.xp6(2),a.Q6J("ngForOf",r.panels))},dependencies:[rn,Gn,vw,yw,Xm,An],encapsulation:2}),n})(),bw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Mp]}),n})();const KI=({classList:n})=>{n.remove("show")};let Tw=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ip))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ww=(()=>{class n{constructor(t,r,i,l){this._renderer=r,this._element=i,this._zone=l,this.closed=new a.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=Jn(this._zone,this._element.nativeElement,KI,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Tw),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&a.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:Tp,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(a.F$t(),a.Hsn(0),a.YNc(1,iI,1,0,"button",0)),2&t&&(a.xp6(1),a.Q6J("ngIf",r.dismissible))},dependencies:[An],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),Xy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[ww]}),n})();var Dl=(()=>{return(n=Dl||(Dl={})).START="start",n.END="end",Dl;var n})();const ev=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),_h=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},e_=n=>{_h(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},YI=(n,e,{direction:t})=>{const{classList:r}=n;return e?(ev(n)?_h(r):(r.add("carousel-item-"+(t===Dl.START?"next":"prev")),Zc(n),r.add("carousel-item-"+t)),()=>{e_(r),r.add("active")}):(_h(r),e_(r),void r.add("active"))},nP=(n,e,{direction:t})=>{const{classList:r}=n;return e?(ev(n)?_h(r):r.add("carousel-item-"+t),()=>{e_(r),r.remove("active")}):(_h(r),e_(r),void r.remove("active"))};let Dw=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ip))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rP=0,Ew=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+rP++,this.slid=new a.vpe}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),Sw=(()=>{class n{constructor(t,r,i,l,c){this._platformId=r,this._ngZone=i,this._cd=l,this._container=c,this.NgbSlideEventSource=yh,this._destroy$=new Jt.x,this._interval$=new mn(0),this._mouseHover$=new mn(!1),this._focused$=new mn(!1),this._pauseOnHover$=new mn(!1),this._pauseOnFocus$=new mn(!1),this._pause$=new mn(!1),this._wrap$=new mn(!1),this.slide=new a.vpe,this.slid=new a.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(yh.ARROW_LEFT)}arrowRight(){this.focus(),this.next(yh.ARROW_RIGHT)}ngAfterContentInit(){To(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Me([this.slide.pipe((0,ct.U)(r=>r.current),nu(this.activeId)),this._wrap$,this.slides.changes.pipe(nu(null))]).pipe((0,ct.U)(([r,i])=>{const l=this.slides.toArray(),c=this._getSlideIdxById(r);return i?l.length>1:c<l.length-1}),wm());Me([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,ct.U)(([r,i,l,c,p,_,T])=>r||i&&l||c&&p||!T?0:_),wm(),On(r=>r>0?G0(r,r):fl),Wn(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(yh.TIMER)))}),this.slides.changes.pipe(Wn(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{mh.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(En(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Dl.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Dl.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const l=this._transitionIds;if(l&&(l[0]!==t||l[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const p={animation:this.animation,runningTransition:"stop",context:{direction:r}},_=[],T=this._getSlideById(this.activeId);if(T){const L=Jn(this._ngZone,this._getSlideElement(T.id),nP,p);L.subscribe(()=>{T.slid.emit({isShown:!1,direction:r,source:i})}),_.push(L)}const D=this.activeId;this.activeId=c.id;const M=this._getSlideById(this.activeId),P=Jn(this._ngZone,this._getSlideElement(c.id),YI,p);P.subscribe(()=>{M?.slid.emit({isShown:!0,direction:r,source:i})}),_.push(P),bm(..._).pipe(En(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:D,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Dl.END:Dl.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Dw),a.Y36(a.Lbi),a.Y36(a.R0b),a.Y36(a.sBO),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Ew,4),2&t){let l;a.iGM(l=a.CRH())&&(r.slides=l)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&a.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(a.uIk("aria-activedescendant","slide-"+r.activeId),a.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[a.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,fh,1,5,"button",1),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,sI,4,4,"div",3),a.qZA(),a.YNc(4,QR,4,0,"button",4),a.YNc(5,L1,4,0,"button",5)),2&t&&(a.ekj("visually-hidden",!r.showNavigationIndicators),a.xp6(1),a.Q6J("ngForOf",r.slides),a.xp6(2),a.Q6J("ngForOf",r.slides),a.xp6(1),a.Q6J("ngIf",r.showNavigationArrows),a.xp6(1),a.Q6J("ngIf",r.showNavigationArrows))},dependencies:[rn,Gn,An],encapsulation:2,changeDetection:0}),n})();var yh=(()=>{return(n=yh||(yh={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",yh;var n})();let QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Sw]}),n})(),JI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class hr{constructor(e,t,r){this.year=zn(e)?e:null,this.month=zn(t)?t:null,this.day=zn(r)?r:null}static from(e){return e instanceof hr?e:e?new hr(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Np(n,e){return!function t_(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function tv(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function Op(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function Iw(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:l}=e;return!(null==n||i||l&&l(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function Rp(n){return new hr(n.getFullYear(),n.getMonth()+1,n.getDate())}function n_(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let rv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function oP(){return new aP}()},providedIn:"root"}),n})(),aP=(()=>{class n extends rv{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let l=n_(t),c=!0,p=l.getMonth();switch(r){case"y":l.setFullYear(l.getFullYear()+i);break;case"m":p+=i,l.setMonth(p),p%=12,p<0&&(p+=12);break;case"d":l.setDate(l.getDate()+i),c=!1;break;default:return t}return c&&l.getMonth()!==p&&l.setDate(0),Rp(l)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=n_(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=n_(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const p=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((p-c.getTime())/864e5)/7)+1}getToday(){return Rp(new Date)}isValid(t){if(!(t&&zn(t.year)&&zn(t.month)&&zn(t.day)&&0!==t.year))return!1;const r=n_(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),qc=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function nA(n){return new rA(n)}(a.LFG(a.soG)),r},providedIn:"root"}),n})(),rA=(()=>{class n extends qc{constructor(t){super(),this._locale=t,this._monthsShort=xe(t,ke.Standalone,Ze.Abbreviated),this._monthsFull=xe(t,ke.Standalone,Ze.Wide)}getWeekdayLabel(t,r){const i=Ae(this._locale,ke.Standalone,void 0===r?Ze.Short:r);return i.map((c,p)=>i[(p+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return Us(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Mw=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(zn(i=Ri(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(zn(i=Ri(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const l=this.toValidDate(i,null);if(Np(this._state.maxDate,l))return{maxDate:l}},minDate:i=>{const l=this.toValidDate(i,null);if(Np(this._state.minDate,l))return{minDate:l}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const l=!0===i||!1===i?Ze.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==l||this._state.weekdaysVisible!==c)return{weekdayWidth:l,weekdaysVisible:c}}},this._model$=new Jt.x,this._dateSelect$=new Jt.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:Ze.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(hn(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(hn(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,l)=>({...i,...l}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Np(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){Iw(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||tv(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Np(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&Iw(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=hr.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:l,focusDate:c,focusVisible:p,disabled:_,outsideDays:T}=t;t.months.forEach(D=>{D.weeks.forEach(M=>{M.days.forEach(P=>{c&&(P.context.focused=c.equals(P.date)&&p),P.tabindex=!_&&c&&P.date.equals(c)&&c.month===D.number?0:-1,!0===_&&(P.context.disabled=!0),void 0!==l&&(P.context.selected=null!==l&&l.equals(P.date)),D.number!==P.date.month&&(P.hidden="hidden"===T||"collapsed"===T||i>1&&P.date.after(r[0].firstDate)&&P.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function Cw(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=Op(r.focusDate,r.minDate,r.maxDate),r.firstDate=Op(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=Op(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=Op(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function sP(n,e,t,r,i){const{displayMonths:l,months:c}=t,p=c.splice(0,c.length);return Array.from({length:l},(T,D)=>{const M=Object.assign(n.getNext(e,"m",D),{day:1});if(c[D]=null,!i){const P=p.findIndex(L=>L.firstDate.equals(M));-1!==P&&(c[D]=p.splice(P,1)[0])}return M}).forEach((T,D)=>{null===c[D]&&(c[D]=function eA(n,e,t,r,i={}){const{dayTemplateData:l,minDate:c,maxDate:p,firstDayOfWeek:_,markDisabled:T,outsideDays:D,weekdayWidth:M,weekdaysVisible:P}=t,L=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function tA(n,e,t){const r=n.getDaysPerWeek(),i=new hr(e.year,e.month,1),l=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+l-t)%r)}(n,e,_),P||(i.weekdays.length=0);for(let K=0;K<n.getWeeksPerMonth();K++){let J=i.weeks[K];J||(J=i.weeks[K]={number:0,days:[],collapsed:!0});const re=J.days;for(let Be=0;Be<n.getDaysPerWeek();Be++){0===K&&P&&(i.weekdays[Be]=r.getWeekdayLabel(n.getWeekday(e),M));const ze=new hr(e.year,e.month,e.day),Ge=n.getNext(ze),Ue=r.getDayAriaLabel(ze);let Ke=!!(c&&ze.before(c)||p&&ze.after(p));!Ke&&T&&(Ke=T(ze,{month:i.number,year:i.year}));let lt=ze.equals(L),zt=l?l(ze,{month:i.number,year:i.year}):void 0;null===i.firstDate&&ze.month===i.number&&(i.firstDate=ze),ze.month===i.number&&Ge.month!==i.number&&(i.lastDate=ze);let Qt=re[Be];Qt||(Qt=re[Be]={}),Qt.date=ze,Qt.context=Object.assign(Qt.context||{},{$implicit:ze,date:ze,data:zt,currentMonth:i.number,currentYear:i.year,disabled:Ke,focused:!1,selected:!1,today:lt}),Qt.tabindex=-1,Qt.ariaLabel=Ue,Qt.hidden=!1,e=Ge}J.number=n.getWeekNumber(re.map(Be=>Be.date),_),J.collapsed="collapsed"===D&&re[0].date.month!==i.number&&re[re.length-1].date.month!==i.number}return i}(n,T,t,r,p.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!Iw(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const p=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,_=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||p)&&(r.selectBoxes.years=function Aw(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,l=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(l);for(let p=0;p<l;p++)c[p]=r+p;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||p)&&(r.selectBoxes.months=function nv(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const l=i.findIndex(c=>c===t.month);i=i.slice(l)}if(r&&e.year===r.year){const l=i.findIndex(c=>c===r.month);i=i.slice(0,l+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(_||p||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function iP(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function XI(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rv),a.LFG(qc))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();var vh=(()=>{return(n=vh||(vh={}))[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",vh;var n})();let Nw=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&a.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[a.jDz],attrs:Fy,decls:1,vars:1,template:function(t,r){1&t&&a._uU(0),2&t&&a.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),Ow=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new a.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new hr(this.date.year,Ri(t),1))}changeYear(t){this.select.emit(new hr(Ri(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qc),a.Y36(a.Qsj))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(a.Gf(oI,7,a.SBq),a.Gf(Ly,7,a.SBq)),2&t){let i;a.iGM(i=a.CRH())&&(r.monthSelect=i.first),a.iGM(i=a.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[a.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(a.TgZ(0,"select",0,1),a.NdJ("change",function(l){return r.changeMonth(l.target.value)}),a.YNc(2,aI,2,3,"option",2),a.qZA(),a.TgZ(3,"select",3,4),a.NdJ("change",function(l){return r.changeYear(l.target.value)}),a.YNc(5,B1,2,2,"option",2),a.qZA()),2&t&&(a.Q6J("disabled",r.disabled),a.xp6(2),a.Q6J("ngForOf",r.months),a.xp6(1),a.Q6J("disabled",r.disabled),a.xp6(2),a.Q6J("ngForOf",r.years))},dependencies:[rn],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),lP=(()=>{class n{constructor(t){this.i18n=t,this.navigation=vh,this.months=[],this.navigate=new a.vpe,this.select=new a.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qc))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[a.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"button",1),a.NdJ("click",function(l){return r.onClickPrev(l)}),a._UZ(2,"span",2),a.qZA()(),a.YNc(3,By,1,4,"ngb-datepicker-navigation-select",3),a.YNc(4,H1,1,1,null,4),a.TgZ(5,"div",5)(6,"button",6),a.NdJ("click",function(l){return r.onClickNext(l)}),a._UZ(7,"span",2),a.qZA()()),2&t&&(a.xp6(1),a.Q6J("disabled",r.prevDisabled),a.xp6(2),a.Q6J("ngIf",r.showSelect),a.xp6(1),a.Q6J("ngIf",!r.showSelect),a.xp6(2),a.Q6J("disabled",r.nextDisabled))},dependencies:[An,rn,Ow],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Gt=(()=>{return(n=Gt||(Gt={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Gt;var n})();let iA=(()=>{class n{processKey(t,r){const{state:i,calendar:l}=r;switch(t.which){case Gt.PageUp:r.focusDate(l.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Gt.PageDown:r.focusDate(l.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Gt.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Gt.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Gt.ArrowLeft:r.focusDate(l.getPrev(i.focusedDate,"d",1));break;case Gt.ArrowUp:r.focusDate(l.getPrev(i.focusedDate,"d",l.getDaysPerWeek()));break;case Gt.ArrowRight:r.focusDate(l.getNext(i.focusedDate,"d",1));break;case Gt.ArrowDown:r.focusDate(l.getNext(i.focusedDate,"d",l.getDaysPerWeek()));break;case Gt.Enter:case Gt.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pp=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=Ze.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function sA(){return new lo}()},providedIn:"root"}),n})(),lo=(()=>{class n extends Rw{fromModel(t){return t&&zn(t.year)&&zn(t.month)&&zn(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&zn(t.year)&&zn(t.month)&&zn(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Pw=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),xp=(()=>{class n{constructor(t,r,i,l){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=l}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qc),a.Y36((0,a.Gpc)(()=>r_)),a.Y36(iA),a.Y36(Mw))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&a.NdJ("keydown",function(l){return r.onKeyDown(l)})},inputs:{month:"month"},standalone:!0,features:[a.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(a.YNc(0,cI,3,2,"div",0),a.YNc(1,fI,1,1,"ng-template",1)),2&t&&(a.Q6J("ngIf",r.viewModel.weekdays.length>0),a.xp6(1),a.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[An,rn,Gn],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),r_=(()=>{class n{constructor(t,r,i,l,c,p,_,T){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=p,this._ngbDateAdapter=_,this._ngZone=T,this._controlValue=null,this._destroyed$=new Jt.x,this._publicState={},this.navigate=new a.vpe,this.dateSelect=new a.vpe,this.onChange=D=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(D=>this[D]=l[D]),t.dateSelect$.pipe(Wn(this._destroyed$)).subscribe(D=>{this.dateSelect.emit(D)}),t.model$.pipe(Wn(this._destroyed$)).subscribe(D=>{const M=D.firstDate,P=this.model?this.model.firstDate:null;this._publicState={maxDate:D.maxDate,minDate:D.minDate,firstDate:D.firstDate,lastDate:D.lastDate,focusedDate:D.focusDate,months:D.months.map(Be=>Be.firstDate)};let L=!1;if(!M.equals(P)&&(this.navigate.emit({current:P?{year:P.year,month:P.month}:null,next:{year:M.year,month:M.month},preventDefault:()=>L=!0}),L&&null!==P))return void this._service.open(P);const K=D.selectedDate,J=D.focusDate,re=this.model?this.model.focusDate:null;this.model=D,Np(K,this._controlValue)&&(this._controlValue=K,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(K))),Np(J,re)&&re&&D.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(hr.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(En(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(hr.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=Hr(this._contentEl.nativeElement,"focusin"),r=Hr(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,Tm.T)(t,r).pipe(hn(({target:l,relatedTarget:c})=>!(fw(l,"ngb-dp-day")&&fw(c,"ngb-dp-day")&&i.contains(l)&&i.contains(c))),Wn(this._destroyed$)).subscribe(({type:l})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===l})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:l}=t.startDate;tv(l,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case vh.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case vh.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=hr.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Mw),a.Y36(rv),a.Y36(qc),a.Y36(Pp),a.Y36(a.sBO),a.Y36(a.SBq),a.Y36(Rw),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,Pw,7),2&t){let l;a.iGM(l=a.CRH())&&(r.contentTemplate=l.first)}},viewQuery:function(t,r){if(1&t&&(a.Gf(XR,7),a.Gf(pI,7)),2&t){let i;a.iGM(i=a.CRH())&&(r._defaultDayTemplate=i.first),a.iGM(i=a.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[a._Bn([{provide:Hi,useExisting:(0,a.Gpc)(()=>n),multi:!0},Mw]),a.TTD,a.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(a.YNc(0,gI,1,5,"ng-template",null,0,a.W1O),a.YNc(2,W1,1,1,"ng-template",null,1,a.W1O),a.TgZ(4,"div",2),a.YNc(5,Z1,1,7,"ngb-datepicker-navigation",3),a.qZA(),a.TgZ(6,"div",4,5),a.YNc(8,_I,0,0,"ng-template",6),a.qZA(),a.YNc(9,yI,0,0,"ng-template",6)),2&t){const i=a.MAs(3);a.xp6(5),a.Q6J("ngIf","none"!==r.navigation),a.xp6(1),a.ekj("ngb-dp-months",!r.contentTemplate),a.xp6(2),a.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),a.xp6(1),a.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[An,rn,Gn,Nw,xp,lP],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();const i_=(n,e)=>!!e&&e.some(t=>t.contains(n)),s_=(n,e)=>!e||null!=function Yy(n,e){return!e||typeof n.closest>"u"?null:n.closest(e)}(n,e),xw=typeof navigator<"u"&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent)),kw=n=>xw?()=>setTimeout(()=>n(),100):n;const iv=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function sv(n){const e=Array.from(n.querySelectorAll(iv)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}let Bw=(()=>{class n{constructor(t){this._element=t.documentElement}isRTL(){return"rtl"===(this._element.getAttribute("dir")||"").toLowerCase()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oA=/\s+/,ov=/  +/gi,El={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]},Uw=/^left/,av=/^right/,Vw=/^start/,aA=/^end/;function Gw({placement:n,baseClass:e},t){let r=Array.isArray(n)?n:n.split(oA),l=r.findIndex(T=>"auto"===T);l>=0&&["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"].forEach(function(T){null==r.find(D=>-1!==D.search("^"+T))&&r.splice(l++,1,T)});const c=r.map(T=>function Iu(n,e){const[t,r]=El[n];return e&&r||t}(T,t.isRTL()));return{placement:c.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!e,phase:"write",fn({state:T}){const D=new RegExp(e+"(-[a-z]+)*","gi"),M=T.elements.popper,P=T.placement;let L=M.className;L=L.replace(D,""),L+=` ${function uP(n,e){let[t,r]=e.split("-");const i=t.replace(Uw,"start").replace(av,"end");let l=[i];if(r){let c=r;("left"===t||"right"===t)&&(c=c.replace(Vw,"top").replace(aA,"bottom")),l.push(`${i}-${c}`)}return n&&(l=l.map(c=>`${n}-${c}`)),l.join(" ")}(e,P)}`,L=L.trim().replace(ov," "),M.className=L}},OC,D1,LC,{enabled:!0,name:"flip",options:{fallbackPlacements:c}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function Hw(n){return n}new Date(1882,10,12),new Date(2174,10,25);let Xw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[r_,xp]}),n})(),SP=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),EA=(()=>{class n{constructor(t,r){this.elementRef=t,this._renderer=r,this._disabled=!1}set disabled(t){this._disabled=""===t||!0===t,this._renderer.setProperty(this.elementRef.nativeElement,"disabled",this._disabled)}get disabled(){return this._disabled}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(t,r){2&t&&(a.Ikx("tabIndex",r.disabled?-1:0),a.ekj("disabled",r.disabled))},inputs:{disabled:"disabled"},standalone:!0}),n})(),SA=(()=>{class n{constructor(t,r){this.dropdown=t,this.placement="bottom",this.isOpen=!1,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>c_)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,EA,4),2&t){let l;a.iGM(l=a.CRH())&&(r.menuItems=l)}},hostVars:4,hostBindings:function(t,r){1&t&&a.NdJ("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Enter",function(l){return r.dropdown.onKeyDown(l)})("keydown.Space",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&t&&a.ekj("dropdown-menu",!0)("show",r.dropdown.isOpen())},standalone:!0}),n})(),u_=(()=>{class n{constructor(t,r){this.dropdown=t,this.nativeElement=r.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>c_)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0}),n})(),CA=(()=>{class n extends u_{constructor(t,r){super(t,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36((0,a.Gpc)(()=>c_)),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(l){return r.dropdown.onKeyDown(l)})("keydown.ArrowDown",function(l){return r.dropdown.onKeyDown(l)})("keydown.Home",function(l){return r.dropdown.onKeyDown(l)})("keydown.End",function(l){return r.dropdown.onKeyDown(l)})("keydown.Tab",function(l){return r.dropdown.onKeyDown(l)})("keydown.Shift.Tab",function(l){return r.dropdown.onKeyDown(l)}),2&t&&a.uIk("aria-expanded",r.dropdown.isOpen())},standalone:!0,features:[a._Bn([{provide:u_,useExisting:(0,a.Gpc)(()=>n)}]),a.qOj]}),n})(),c_=(()=>{class n{constructor(t,r,i,l,c,p,_){this._changeDetector=t,this._document=i,this._ngZone=l,this._elementRef=c,this._renderer=p,this._destroyCloseHandlers$=new Jt.x,this._bodyContainer=null,this._open=!1,this.openChange=new a.vpe,this.placement=r.placement,this.popperOptions=r.popperOptions,this.container=r.container,this.autoClose=r.autoClose,this._positioning=function jw(){const n=(0,a.f3M)(Bw);let e=null;return{createPopper(t){if(!e){let i=(t.updatePopperOptions||Hw)(Gw(t,n));e=Oy(t.hostElement,t.targetElement,i)}},update(){e&&e.update()},setOptions(t){if(e){let i=(t.updatePopperOptions||Hw)(Gw(t,n));e.setOptions(i)}},destroy(){e&&(e.destroy(),e=null)}}}(),this.display=_?"static":"dynamic"}ngAfterContentInit(){this._ngZone.onStable.pipe(En(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container}),this._applyPlacementClasses()),t.dropdownClass){const{currentValue:r,previousValue:i}=t.dropdownClass;this._applyCustomDropdownClass(r,i)}t.autoClose&&this._open&&(this.autoClose=t.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),"dynamic"===this.display&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,appendToBody:"body"===this.container,updatePopperOptions:t=>this.popperOptions(function lv(n){return e=>(e.modifiers.push(tI,{name:"offset",options:{offset:()=>n}}),e)}([0,2])(t))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),function Fw(n,e,t,r,i,l,c,p){t&&n.runOutsideAngular(kw(()=>{const T=Hr(e,"keydown").pipe(Wn(i),hn(P=>P.which===Gt.Escape),(0,Er.b)(P=>P.preventDefault())),D=Hr(e,"mousedown").pipe((0,ct.U)(P=>{const L=P.target;return 2!==P.button&&!i_(L,c)&&("inside"===t?i_(L,l)&&s_(L,p):"outside"===t?!i_(L,l):s_(L,p)||!i_(L,l))}),Wn(i)),M=Hr(e,"mouseup").pipe(Qd(D),hn(([P,L])=>L),zS(0),Wn(i));Ro([T.pipe((0,ct.U)(P=>0)),M.pipe((0,ct.U)(P=>1))]).subscribe(P=>n.run(()=>r(P)))}))}(this._ngZone,this._document,this.autoClose,t=>{this.close(),0===t&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(t){const r=t.which,i=this._getMenuElements();let l=-1,c=null;const p=this._isEventFromToggle(t);if(!p&&i.length&&i.forEach((_,T)=>{_.contains(t.target)&&(c=_),_===this._document.activeElement&&(l=T)}),r!==Gt.Space&&r!==Gt.Enter){if(r!==Gt.Tab){if(p||c){if(this.open(),i.length){switch(r){case Gt.ArrowDown:l=Math.min(l+1,i.length-1);break;case Gt.ArrowUp:if(this._isDropup()&&-1===l){l=i.length-1;break}l=Math.max(l-1,0);break;case Gt.Home:l=0;break;case Gt.End:l=i.length-1}i[l].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const _=this._menu.nativeElement.querySelectorAll(iv);t.shiftKey&&t.target===_[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===_[_.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Hr(t.target,"focusout").pipe(En(1)).subscribe(({relatedTarget:_})=>{this._elementRef.nativeElement.contains(_)||this.close()})}}else c&&(!0===this.autoClose||"inside"===this.autoClose)&&Hr(c,"click").pipe(En(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(t){return this._anchor.nativeElement.contains(t.target)}_getMenuElements(){const t=this._menu;return null==t?[]:t.menuItems.filter(r=>!r.disabled).map(r=>r.elementRef.nativeElement)}_positionMenu(){const t=this._menu;this.isOpen()&&t&&("dynamic"===this.display?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}_resetContainer(){const t=this._renderer;this._menu&&t.appendChild(this._elementRef.nativeElement,this._menu.nativeElement),this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(t=null){if(this._resetContainer(),"body"===t){const r=this._renderer,i=this._menu.nativeElement,l=this._bodyContainer=this._bodyContainer||r.createElement("div");r.setStyle(l,"position","absolute"),r.setStyle(i,"position","static"),r.setStyle(l,"z-index","1055"),r.appendChild(l,i),r.appendChild(this._document.body,l)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(t,r){const i="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;i&&(r&&this._renderer.removeClass(i,r),t&&this._renderer.addClass(i,t))}_applyPlacementClasses(t){const r=this._menu;if(r){t||(t=this._getFirstPlacement(this.placement));const i=this._renderer,l=this._elementRef.nativeElement;i.removeClass(l,"dropup"),i.removeClass(l,"dropdown");const{nativeElement:c}=r;"static"===this.display?(r.placement=null,i.setAttribute(c,"data-bs-popper","static")):(r.placement=t,i.removeAttribute(c,"data-bs-popper"));const p=-1!==t.search("^top")?"dropup":"dropdown";i.addClass(l,p);const _=this._bodyContainer;_&&(i.removeClass(_,"dropup"),i.removeClass(_,"dropdown"),i.addClass(_,p))}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(SP),a.Y36(ee),a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(eD,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,SA,5),a.Suo(i,u_,5)),2&t){let l;a.iGM(l=a.CRH())&&(r._menu=l.first),a.iGM(l=a.CRH())&&(r._anchor=l.first)}},hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[a.TTD]}),n})(),IA=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class Qc{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let s=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(En(1)).subscribe(()=>{Jn(this._zone,this._el.nativeElement,(t,r)=>{r&&Zc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Jn(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(a.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),a.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class o{close(e){}dismiss(e){}}class u{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Jt.x,this._dismissed=new Jt.x,this._hidden=new Jt.x,e.instance.dismissEvent.subscribe(l=>{this.dismiss(l)}),this.result=new Promise((l,c)=>{this._resolve=l,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Wn(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Wn(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Ky(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():it(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bm(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var d=(()=>{return(n=d||(d={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",d;var n})();let h=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Jt.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new a.vpe,this.shown=new Jt.x,this.hidden=new Jt.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":wl(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(En(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=bm(Jn(this._zone,t,()=>t.classList.remove("show"),r),Jn(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};bm(Jn(this._zone,this._elRef.nativeElement,(l,c)=>{c&&Zc(l),l.classList.add("show")},t),Jn(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Hr(t,"keydown").pipe(Wn(this._closed$),hn(i=>i.which===Gt.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(d.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Hr(this._dialogEl.nativeElement,"mousedown").pipe(Wn(this._closed$),(0,Er.b)(()=>r=!1),On(()=>Hr(t,"mouseup").pipe(Wn(this._closed$),En(1))),hn(({target:i})=>t===i)).subscribe(()=>{r=!0}),Hr(t,"click").pipe(Wn(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(d.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=sv(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Jn(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(ee),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&a.Gf(vI,7),2&t){let i;a.iGM(i=a.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(a.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),a.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),a.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[a.jDz],ngContentSelectors:Tp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div",0,1)(2,"div",2),a.Hsn(3),a.qZA()()),2&t&&a.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),m=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:l,paddingRight:c}=i;if(t>0){const p=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${p+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=l}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ee))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),v=(()=>{class n{constructor(t,r,i,l,c,p,_){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=l,this._scrollBar=c,this._rendererFactory=p,this._ngZone=_,this._activeWindowCmptHasChanged=new Jt.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new a.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const T=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Hr(e,"focusin").pipe(Wn(t),(0,ct.U)(l=>l.target));Hr(e,"keydown").pipe(Wn(t),hn(l=>l.which===Gt.Tab),Qd(i)).subscribe(([l,c])=>{const[p,_]=sv(e);(c===p||c===e)&&l.shiftKey&&(_.focus(),l.preventDefault()),c===_&&!l.shiftKey&&(p.focus(),l.preventDefault())}),r&&Hr(e,"click").pipe(Wn(t),Qd(i),(0,ct.U)(l=>l[1])).subscribe(l=>l.focus())})})(this._ngZone,T.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(T.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const l=i.container instanceof HTMLElement?i.container:Wc(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!l)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const p=new o,_=(t=i.injector||t).get(a.lqb,null)||this._environmentInjector,T=this._getContentRef(t,_,r,p,i);let D=!1!==i.backdrop?this._attachBackdrop(l):void 0,M=this._attachWindowComponent(l,T.nodes),P=new u(M,T,D,i.beforeDismiss);return this._registerModalRef(P),this._registerWindowCmpt(M),P.hidden.pipe(En(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=L=>{P.close(L)},p.dismiss=L=>{P.dismiss(L)},this._applyWindowOptions(M.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),D&&D.instance&&(this._applyBackdropOptions(D.instance,i),D.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),P}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,a.LMc)(s,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,a.LMc)(h,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Wc(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Wc(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,l,c){return i?i instanceof a.Rgc?this._createFromTemplateRef(i,l):wl(i)?this._createFromString(i):this._createFromComponent(t,r,i,l,c):new Qc([])}_createFromTemplateRef(t,r){const l=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(l),new Qc([l.rootNodes],l)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Qc([[r]])}_createFromComponent(t,r,i,l,c){const p=a.zs3.create({providers:[{provide:o,useValue:l}],parent:t}),_=(0,a.LMc)(i,{environmentInjector:r,elementInjector:p}),T=_.location.nativeElement;return c.scrollable&&T.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new Qc([[T]],_.hostView,_)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.z2F),a.LFG(a.zs3),a.LFG(a.lqb),a.LFG(ee),a.LFG(m),a.LFG(a.FYo),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),w=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ip))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3),a.LFG(v),a.LFG(w))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[E]}),n})();const mt=({classList:n})=>(n.remove("show"),()=>n.remove("active")),Pt=(n,e)=>{e&&Zc(n),n.classList.add("show")};let Oe=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(a.Ikx("id",r.item.panelDomId),a.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),a.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),Ut=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Wn(this.nav.destroy$),nu(this._activePane?.item||null),wm(),function $0(n){return hn((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?Jn(this._ngZone,this._activePane.elRef.nativeElement,mt,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),Jn(this._ngZone,this._activePane.elRef.nativeElement,Pt,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&a.Gf(Oe,5),2&t){let i;a.iGM(i=a.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&a.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[a.jDz],attrs:bI,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&a.YNc(0,q1,1,1,"ng-template",0),2&t&&a.Q6J("ngForOf",r.nav.items)},dependencies:[Oe,rn,An,Gn],encapsulation:2,changeDetection:0}),n})(),fr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ut]}),n})(),CP=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),AP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),MP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),NP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),OP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),RP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),PP=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),xP=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new a.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=ph(t,this.pageCount,1),this.page!==r&&dr(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),dr(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(CP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(a.Suo(i,IP,5),a.Suo(i,AP,5),a.Suo(i,MP,5),a.Suo(i,NP,5),a.Suo(i,OP,5),a.Suo(i,RP,5),a.Suo(i,PP,5)),2&t){let l;a.iGM(l=a.CRH())&&(r.tplEllipsis=l.first),a.iGM(l=a.CRH())&&(r.tplFirst=l.first),a.iGM(l=a.CRH())&&(r.tplLast=l.first),a.iGM(l=a.CRH())&&(r.tplNext=l.first),a.iGM(l=a.CRH())&&(r.tplNumber=l.first),a.iGM(l=a.CRH())&&(r.tplPrevious=l.first),a.iGM(l=a.CRH())&&(r.tplPages=l.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[a.TTD,a.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,l,c,p,_;return e=$localize`:@@ngb.pagination.first:««`,t=$localize`:@@ngb.pagination.previous:«`,r=$localize`:@@ngb.pagination.next:»`,i=$localize`:@@ngb.pagination.last:»»`,l=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,p=$localize`:@@ngb.pagination.next-aria:Next`,_=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","visually-hidden",4,"ngIf"],[1,"visually-hidden"],["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",l,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(a.YNc(0,K1,2,0,"ng-template",null,0,a.W1O),a.YNc(2,Y1,2,0,"ng-template",null,1,a.W1O),a.YNc(4,Q1,2,0,"ng-template",null,2,a.W1O),a.YNc(6,J1,2,0,"ng-template",null,3,a.W1O),a.YNc(8,X1,1,0,"ng-template",null,4,a.W1O),a.YNc(10,eP,2,2,"ng-template",null,5,a.W1O),a.YNc(12,Uy,1,1,"ng-template",null,6,a.W1O),a.TgZ(14,"ul"),a.YNc(15,Gy,3,9,"li",7),a.YNc(16,NI,3,8,"li",7),a.YNc(17,OI,0,0,"ng-template",8),a.YNc(18,Qm,3,9,"li",7),a.YNc(19,PI,3,9,"li",7),a.qZA()),2&t){const i=a.MAs(13);a.xp6(14),a.Tol("pagination"+(r.size?" pagination-"+r.size:"")),a.xp6(1),a.Q6J("ngIf",r.boundaryLinks),a.xp6(1),a.Q6J("ngIf",r.directionLinks),a.xp6(1),a.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",a.kEZ(8,tw,r.page,r.pages,r.disabled)),a.xp6(1),a.Q6J("ngIf",r.directionLinks),a.xp6(1),a.Q6J("ngIf",r.boundaryLinks)}},dependencies:[An,rn,Gn],encapsulation:2,changeDetection:0}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[xP]}),n})(),LP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),qU=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KU=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!dr(t)||t<=0?100:t}get max(){return this._max}getValue(){return ph(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(qU))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(a.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),a.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[a.jDz],ngContentSelectors:Tp,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(a.F$t(),a.TgZ(0,"div"),a.YNc(1,jy,3,3,"span",0),a.Hsn(2),a.qZA()),2&t&&(a.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),a.Udp("width",r.getPercentValue(),"%"),a.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),a.xp6(1),a.Q6J("ngIf",r.showValue))},dependencies:[An,dd],encapsulation:2,changeDetection:0}),n})(),BP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[KU]}),n})(),YU=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QU=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new a.vpe,this.leave=new a.vpe,this.rateChange=new a.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(){return`${this.nextRate} out of ${this.max}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Gt.ArrowDown:case Gt.ArrowLeft:this.update(this.rate-1);break;case Gt.ArrowUp:case Gt.ArrowRight:this.update(this.rate+1);break;case Gt.Home:this.update(0);break;case Gt.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=ph(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*ph(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(YU),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,a.Rgc,5),2&t){let l;a.iGM(l=a.CRH())&&(r.starTemplateFromContent=l.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&a.NdJ("blur",function(){return r.handleBlur()})("keydown",function(l){return r.handleKeyDown(l)})("mouseleave",function(){return r.reset()}),2&t&&(a.Ikx("tabindex",r.disabled?-1:r.tabindex),a.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText())("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[a._Bn([{provide:Hi,useExisting:(0,a.Gpc)(()=>n),multi:!0}]),a.TTD,a.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(a.YNc(0,$y,1,1,"ng-template",null,0,a.W1O),a.YNc(2,zy,4,5,"ng-template",1)),2&t&&(a.xp6(2),a.Q6J("ngForOf",r.contexts))},dependencies:[rn,Gn],encapsulation:2,changeDetection:0}),n})(),UP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[QU]}),n})();class VP{constructor(e,t,r){this.hour=Ri(e),this.minute=Ri(t),this.second=Ri(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=dr(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){dr(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){dr(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return dr(this.hour)&&dr(this.minute)&&(!e||dr(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let JU=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function XU(){return new eV}()},providedIn:"root"}),n})(),eV=(()=>{class n extends GP{fromModel(t){return t&&zn(t.hour)&&zn(t.minute)?{hour:t.hour,minute:t.minute,second:zn(t.second)?t.second:null}:null}toModel(t){return t&&zn(t.hour)&&zn(t.minute)?{hour:t.hour,minute:t.minute,second:zn(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),HP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function tV(n){return new nV(n)}(a.LFG(a.soG)),r},providedIn:"root"}),n})(),nV=(()=>{class n extends HP{constructor(t){super(),this._periods=ye(t,ke.Standalone,Ze.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const rV=/[^0-9]/g;let iV=(()=>{class n{constructor(t,r,i,l){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=l,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=zn(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=zn(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=zn(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new VP(r.hour,r.minute,r.second):new VP,!this.seconds&&(!r||!dr(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=Ri(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(Ri(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(Ri(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(rV,"")}formatHour(t){return dr(t)?gh(this.meridian?t%12==0?12:t%12:t%24):gh(NaN)}formatMinSec(t){return gh(dr(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!dr(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(JU),a.Y36(GP),a.Y36(a.sBO),a.Y36(HP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[a._Bn([{provide:Hi,useExisting:(0,a.Gpc)(()=>n),multi:!0}]),a.TTD,a.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,l,c,p,_,T,D,M,P,L,K;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,l=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,p=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,T=$localize`:@@ngb.timepicker.SS:SS`,D=$localize`:@@ngb.timepicker.seconds:Seconds`,M=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,P=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,L=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,K=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],l,[1,"chevron","ngb-tp-chevron","bottom"],c,p,_,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",T,"aria-label",D,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],M,P,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],L,K]},template:function(t,r){1&t&&(a.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),a.YNc(3,Wy,4,7,"button",3),a.TgZ(4,"input",4),a.NdJ("change",function(l){return r.updateHour(l.target.value)})("blur",function(){return r.handleBlur()})("input",function(l){return r.formatInput(l.target)})("keydown.ArrowUp",function(l){return r.changeHour(r.hourStep),l.preventDefault()})("keydown.ArrowDown",function(l){return r.changeHour(-r.hourStep),l.preventDefault()}),a.qZA(),a.YNc(5,kI,4,7,"button",3),a.qZA(),a.TgZ(6,"div",5),a._uU(7,":"),a.qZA(),a.TgZ(8,"div",6),a.YNc(9,FI,4,7,"button",3),a.TgZ(10,"input",7),a.NdJ("change",function(l){return r.updateMinute(l.target.value)})("blur",function(){return r.handleBlur()})("input",function(l){return r.formatInput(l.target)})("keydown.ArrowUp",function(l){return r.changeMinute(r.minuteStep),l.preventDefault()})("keydown.ArrowDown",function(l){return r.changeMinute(-r.minuteStep),l.preventDefault()}),a.qZA(),a.YNc(11,LI,4,7,"button",3),a.qZA(),a.YNc(12,BI,2,0,"div",8),a.YNc(13,sw,4,9,"div",9),a.YNc(14,ow,1,0,"div",8),a.YNc(15,UI,5,9,"div",10),a.qZA()()),2&t&&(a.ekj("disabled",r.disabled),a.Q6J("disabled",r.disabled),a.xp6(3),a.Q6J("ngIf",r.spinners),a.xp6(1),a.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),a.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),a.xp6(1),a.Q6J("ngIf",r.spinners),a.xp6(4),a.Q6J("ngIf",r.spinners),a.xp6(1),a.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),a.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),a.xp6(1),a.Q6J("ngIf",r.spinners),a.xp6(1),a.Q6J("ngIf",r.seconds),a.xp6(1),a.Q6J("ngIf",r.seconds),a.xp6(1),a.Q6J("ngIf",r.meridian),a.xp6(1),a.Q6J("ngIf",r.meridian))},dependencies:[An],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),jP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[iV]}),n})();const sV=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Zc(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},oV=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let aV=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ip))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),uV=(()=>{class n{constructor(t,r,i,l){this.ariaLive=t,this._zone=i,this._element=l,this.contentHeaderTpl=null,this.shown=new a.vpe,this.hidden=new a.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(En(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=Jn(this._zone,this._element.nativeElement,oV,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=Jn(this._zone,this._element.nativeElement,sV,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(a.$8M("aria-live"),a.Y36(aV),a.Y36(a.R0b),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&a.Suo(i,lV,7,a.Rgc),2&t){let l;a.iGM(l=a.CRH())&&(r.contentHeaderTpl=l.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(a.uIk("aria-live",r.ariaLive),a.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[a.TTD,a.jDz],ngContentSelectors:Tp,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(a.F$t(),a.YNc(0,uw,2,1,"ng-template",null,0,a.W1O),a.YNc(2,VI,3,1,"ng-template",1),a.TgZ(3,"div",2),a.Hsn(4),a.qZA()),2&t&&(a.xp6(2),a.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[An,Gn],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),$P=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[uV]}),n})(),zP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),cV=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=qy(this.result),i=Array.isArray(this.term)?this.term:[this.term],l=T=>this.accentSensitive?T:Cp(T),c=i.map(T=>function jI(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(l(qy(T)))).filter(T=>T),p=this.accentSensitive?r:Cp(r),_=c.length?p.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=_;else{let T=0;this.parts=_.map(D=>r.substring(T,T+=D.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[a.TTD,a.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&a.YNc(0,zi,3,2,"ng-template",0),2&t&&a.Q6J("ngForOf",r.parts)},dependencies:[An,rn],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new a.OlP("live announcer delay",{providedIn:"root",factory:function dV(){return 100}});let WP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[cV]}),n})(),ZP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const hV=[bw,Xy,QI,JI,Xw,IA,A,fr,ZP,kP,LP,BP,UP,jP,$P,zP,WP];let fV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[hV,bw,Xy,QI,JI,Xw,IA,A,fr,ZP,kP,LP,BP,UP,jP,$P,zP,WP]}),n})();function pV(n,e){1&n&&(a.TgZ(0,"span",10),a._uU(1,"BETA"),a.qZA())}let gV=(()=>{class n{constructor(t){this.router=t}ngOnInit(){this.displayType=this.router.url.startsWith("/pizza")?"PizzaCalculator":"PinsaCalculator"}changeCalculator(){switch(this.displayType){case"PizzaCalculator":this.router.navigateByUrl("/pinsa");break;case"PinsaCalculator":this.router.navigateByUrl("/pizza")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Oi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:14,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark","px-2"],[1,"navbar-brand",3,"click"],["class","badge bg-white text-secondary",4,"ngIf"],["type","button","data-toggle","collapse","data-target","#navbarNavAltMarkup","aria-controls","navbarNavAltMarkup","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNavAltMarkup",1,"collapse","navbar-collapse"],[1,"navbar-nav"],["routerLink","./calculator","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],["routerLink","./recipes","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],["routerLink","./dough","routerLinkActive","active","data-toggle","collapse","data-target","#navbarNavAltMarkup",1,"nav-item","nav-link"],[1,"badge","bg-white","text-secondary"]],template:function(t,r){1&t&&(a.TgZ(0,"nav",0)(1,"a",1),a.NdJ("click",function(){return r.changeCalculator()}),a._uU(2),a.YNc(3,pV,2,0,"span",2),a.qZA(),a.TgZ(4,"button",3),a._UZ(5,"span",4),a.qZA(),a.TgZ(6,"div",5)(7,"div",6)(8,"a",7),a._uU(9,"Calculator"),a.qZA(),a.TgZ(10,"a",8),a._uU(11,"Rezepte"),a.qZA(),a.TgZ(12,"a",9),a._uU(13,"Teig"),a.qZA()()()()),2&t&&(a.xp6(2),a.hij("",r.displayType," "),a.xp6(1),a.Q6J("ngIf","PinsaCalculator"==r.displayType))},dependencies:[An,fm,uT,eD]}),n})();const mV=["selfClosingAlert"],_V=["installAlert"];function yV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-alert",2,3),a.NdJ("closed",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.mobileMessage="")}),a._uU(2),a.qZA()}if(2&n){const t=a.oxw();a.xp6(2),a.hij("",t.mobileMessage,"\n")}}function vV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"ngb-alert",2,4),a.NdJ("closed",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.installMessage="")}),a._uU(2),a.qZA()}if(2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.installMessage)}}let qP=(()=>{class n{constructor(t){this.deviceDetect=t,this.toMatchMobile=[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i],this.install=new Jt.x,this.mobile=new Jt.x}ngOnInit(){console.log(this.deviceDetect.getDeviceInfo()),this.mobile.subscribe(t=>this.mobileMessage=t),this.mobile.pipe(Vf(5e3)).subscribe(()=>{this.selfClosingAlert&&this.selfClosingAlert.close()}),this.install.subscribe(t=>this.installMessage=t),this.install.pipe(Vf(5e3)).subscribe(()=>{this.installAlert&&this.installAlert.close()}),this.deviceDetect.isDesktop()&&this.mobile.next("Diese Seite ist f\xfcr Mobil optimiert. Sie kann auch als App installiert werden"),this.deviceDetect.isMobile()&&(this.detectStandalone()||this.install.next('Diese Applikation l\xe4sst sich mittels "Teilen" als App hinzuf\xfcgen.'))}detectStandalone(){return window.matchMedia("(display-mode: standalone)").matches}detectMobile(){return console.log(navigator.userAgent),this.toMatchMobile.some(t=>navigator.userAgent.match(t))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(RR))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-contentwrapper"]],viewQuery:function(t,r){if(1&t&&(a.Gf(mV,5),a.Gf(_V,5)),2&t){let i;a.iGM(i=a.CRH())&&(r.selfClosingAlert=i.first),a.iGM(i=a.CRH())&&(r.installAlert=i.first)}},decls:5,vars:2,consts:[["class","alert-fixed","type","dark",3,"closed",4,"ngIf"],[1,"container","p-1"],["type","dark",1,"alert-fixed",3,"closed"],["selfClosingAlert",""],["installAlert",""]],template:function(t,r){1&t&&(a._UZ(0,"app-navbar"),a.YNc(1,yV,3,1,"ngb-alert",0),a.YNc(2,vV,3,1,"ngb-alert",0),a.TgZ(3,"div",1),a._UZ(4,"router-outlet"),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",r.mobileMessage),a.xp6(1),a.Q6J("ngIf",r.installMessage))},dependencies:[An,ul,ww,gV],styles:[".alert-fixed[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;z-index:9999;border-radius:0}"]}),n})();var Au=(()=>{return(n=Au||(Au={})).e_standard="Standard",n.e_special="Spezial",n.e_sour="Sauerteig",Au;var n})();let KP=(()=>{class n{constructor(){this.dataSource=new mn({}),this.currentDough=this.dataSource.asObservable()}updateDataSet(t){this.dataSource.next(t)}updateMeasures(t){let r;const i=t.pizzaNumber*t.pizzaSize;if(t.pizzaDough===Au.e_standard||t.pizzaDough===Au.e_special){const l=Number((i/(1+t.pizzaWater/100)).toFixed(1));r={flour:l,water:Number((i-l).toFixed(1)),salt:Number((.01*l).toFixed(1)),yeast:Number((.002*l).toFixed(1)),levain:Number((.002*l).toFixed(1))}}else if(t.pizzaDough===Au.e_sour){const l=Number((t.pizzaNumber*(t.pizzaSize-15)/(1+t.pizzaWater/100+.03)).toFixed(1));r={flour:l,water:Number((i-l).toFixed(1)),salt:Number((.03*l).toFixed(1)),levain:Number((15*t.pizzaNumber).toFixed()),yeast:Number((.002*l).toFixed(1))}}this.updateDataSet(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bV=["carousel"];function TV(n,e){1&n&&(a.TgZ(0,"div",9),a._uU(1," PizzaCalculator "),a.qZA())}function wV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",10),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.goBack())}),a._UZ(1,"i",11),a.qZA()}}function DV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"option",29),a.NdJ("ngValue",function(){const l=a.CHM(t).$implicit;return a.KtG(l.key)}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.value," ")}}function EV(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12)(1,"form")(2,"div",13)(3,"div",14)(4,"label",15),a._uU(5,"Anzahl der Pizzen:"),a.qZA(),a.TgZ(6,"input",16),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaNumber=i)}),a.qZA()()(),a.TgZ(7,"div",13)(8,"div",14)(9,"label",17),a._uU(10,"Pizzateig Gewicht je Pizza:"),a.qZA(),a.TgZ(11,"div",18)(12,"input",19),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaSize=i)}),a.qZA(),a.TgZ(13,"div",20)(14,"div",21),a._uU(15,"g"),a.qZA()()()(),a.TgZ(16,"div",22)(17,"small"),a._uU(18,"200g = kleine Pizza, 300g = gro\xdfe Pizza"),a.qZA()()(),a.TgZ(19,"div",13)(20,"div",14)(21,"label",23),a._uU(22,"Wasseranteil des Teigs:"),a.qZA(),a.TgZ(23,"div",18)(24,"input",24),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaWater=i)}),a.qZA(),a.TgZ(25,"div",20)(26,"div",21),a._uU(27,"%"),a.qZA()()()(),a.TgZ(28,"div",22)(29,"small"),a._uU(30,"Wasseranteil von 60% bis 80%"),a.qZA()()(),a.TgZ(31,"div",13)(32,"div",14)(33,"label",25),a._uU(34,"Pizzateig"),a.qZA(),a.TgZ(35,"div",18)(36,"select",26),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaDough=i)}),a.YNc(37,DV,2,1,"option",27),a.ALo(38,"keyvalue"),a.qZA()()()(),a._UZ(39,"hr"),a.TgZ(40,"div",13)(41,"button",28),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updatePizzaInfos())}),a._uU(42,"Berechnen"),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(6),a.Q6J("ngModel",t.pizzaInfo.pizzaNumber),a.xp6(6),a.Q6J("ngModel",t.pizzaInfo.pizzaSize),a.xp6(12),a.Q6J("ngModel",t.pizzaInfo.pizzaWater),a.xp6(12),a.Q6J("ngModel",t.pizzaInfo.pizzaDough),a.xp6(1),a.Q6J("ngForOf",a.lcZ(38,5,t.doughType))}}function SV(n,e){if(1&n&&(a.TgZ(0,"div"),a._uU(1," Vorteig: "),a.TgZ(2,"h3"),a._uU(3),a.qZA(),a.TgZ(4,"h3"),a._uU(5),a.qZA(),a.TgZ(6,"h3"),a._uU(7),a.qZA(),a._uU(8," Teig: "),a.TgZ(9,"h3"),a._uU(10),a.qZA(),a.TgZ(11,"h3"),a._uU(12),a.qZA(),a.TgZ(13,"h3"),a._uU(14),a.qZA()()),2&n){const t=a.oxw(2);a.xp6(3),a.hij("",(t.pizzaInfo.pizzaNumber*t.pizzaInfo.pizzaSize/8).toFixed(1)," g Mehl"),a.xp6(2),a.hij("",(t.pizzaInfo.pizzaNumber*t.pizzaInfo.pizzaSize/8).toFixed(1)," ml Wasser"),a.xp6(2),a.hij("",t.dough.yeast," g Hefe"),a.xp6(3),a.hij("",(t.dough.flour-t.pizzaInfo.pizzaNumber*t.pizzaInfo.pizzaSize/8).toFixed(1)," g Mehl"),a.xp6(2),a.hij("",(t.dough.water-t.pizzaInfo.pizzaNumber*t.pizzaInfo.pizzaSize/8).toFixed(1)," ml Wasser"),a.xp6(2),a.hij("",t.dough.salt," g Salz")}}function CV(n,e){if(1&n&&(a.TgZ(0,"h3"),a._uU(1),a.qZA()),2&n){const t=a.oxw(3);a.xp6(1),a.hij("",t.dough.levain," g Levain (60/40)")}}function IV(n,e){if(1&n&&(a.TgZ(0,"h3"),a._uU(1),a.qZA()),2&n){const t=a.oxw(3);a.xp6(1),a.hij("",t.dough.yeast," g Hefe")}}function AV(n,e){if(1&n&&(a.TgZ(0,"h3"),a._uU(1),a.qZA(),a.TgZ(2,"h3"),a._uU(3),a.qZA(),a.TgZ(4,"h3"),a._uU(5),a.qZA(),a.YNc(6,CV,2,1,"h3",31),a.YNc(7,IV,2,1,"ng-template",null,33,a.W1O)),2&n){const t=a.MAs(8),r=a.oxw(2);a.xp6(1),a.hij("",r.dough.flour," g Mehl"),a.xp6(2),a.hij("",r.dough.water," ml Wasser"),a.xp6(2),a.hij("",r.dough.salt," g Salz"),a.xp6(1),a.Q6J("ngIf",r.pizzaInfo.pizzaDough.includes("Sauer"))("ngIfElse",t)}}function MV(n,e){if(1&n&&(a.TgZ(0,"div",12)(1,"h2"),a._uU(2),a.qZA(),a._UZ(3,"hr"),a.TgZ(4,"div",30)(5,"div"),a._uU(6,"Anzahl der Pizzen:"),a.qZA(),a.TgZ(7,"div"),a._uU(8),a.qZA()(),a._UZ(9,"hr"),a.YNc(10,SV,15,6,"div",31),a.YNc(11,AV,9,5,"ng-template",null,32,a.W1O),a.qZA()),2&n){const t=a.MAs(12),r=a.oxw();a.xp6(2),a.Oqu(r.pizzaInfo.pizzaDough),a.xp6(6),a.AsE("",r.pizzaInfo.pizzaNumber," x ",r.pizzaInfo.pizzaSize," g"),a.xp6(2),a.Q6J("ngIf",r.pizzaInfo.pizzaDough.includes("Spezial"))("ngIfElse",t)}}let YP=(()=>{class n{constructor(t){this.pizzaService=t,this.doughType=Au,this.pizzaService.currentDough.subscribe(r=>this.dough=r),this.displayRecipe=!1}ngOnInit(){this.pizzaInfo={pizzaNumber:1,pizzaSize:250,pizzaWater:67,pizzaDough:Au.e_standard}}updatePizzaInfos(){this.pizzaService.updateMeasures(this.pizzaInfo),this.carousel.select("recipe"),this.displayRecipe=!0}goBack(){this.carousel.select("calculator"),this.displayRecipe=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(KP))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pizza"]],viewQuery:function(t,r){if(1&t&&a.Gf(bV,5),2&t){let i;a.iGM(i=a.CRH())&&(r.carousel=i.first)}},decls:10,vars:5,consts:[[1,"container","p-1"],[1,"card"],["class","card-header",4,"ngIf","ngIfElse"],["recipe",""],[1,"card-body"],[3,"interval","showNavigationArrows","showNavigationIndicators"],["carousel",""],["ngbSlide","","id","calculator"],["ngbSlide","","id","recipe"],[1,"card-header"],[1,"card-header",3,"click"],[1,"bi","bi-arrow-left"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mt-2"],[1,"w-100"],["for","pizzaNumber"],["name","pizzaNumber","type","number","inputmode","numeric","min","0",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaSize"],[1,"input-group","mb-2"],["name","pizzaSize","type","number","inputmode","numeric","min","200","max","300",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"align-self-end","ml-3"],["for","pizzaWater"],["name","pizzaWater","type","number","inputmode","numeric","min","60","max","80",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaDough"],["name","pizzaDough",1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-dark","mb-3",3,"click"],[3,"ngValue"],[1,"d-flex","justify-content-between"],[4,"ngIf","ngIfElse"],["standard",""],["yeast",""]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,TV,2,0,"div",2),a.YNc(3,wV,2,0,"ng-template",null,3,a.W1O),a.TgZ(5,"div",4)(6,"ngb-carousel",5,6),a.YNc(8,EV,43,7,"ng-template",7),a.YNc(9,MV,13,5,"ng-template",8),a.qZA()()()()),2&t){const i=a.MAs(4);a.xp6(2),a.Q6J("ngIf",!1===r.displayRecipe)("ngIfElse",i),a.xp6(4),a.Q6J("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1)}},dependencies:[rn,An,Sw,Ew,Um,ah,cp,gl,lp,oh,ti,yl,dp,zc,Bm,ap,Wo],styles:["[_ngcontent-%COMP%]:focus{outline:0!important;box-shadow:0 0 #0000!important}"]}),n})();var pe=k(5861),Tr=k(2122),Is=k(2011),QP=k(3942),Cl=k(9681),Yt=k(2090),d_=k(4859);const JP="firebasestorage.googleapis.com",XP="storageBucket";class wr extends Yt.ZR{constructor(e,t,r=0){super(AA(e),`Firebase Storage: ${t} (${AA(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return AA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Zn=(()=>{return(n=Zn||(Zn={})).UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Zn;var n})();function AA(n){return"storage/"+n}function MA(){return new wr(Zn.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function ex(){return new wr(Zn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function tx(){return new wr(Zn.CANCELED,"User canceled the upload/download.")}function nx(){return new wr(Zn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function h_(n){return new wr(Zn.INVALID_ARGUMENT,n)}function rx(){return new wr(Zn.APP_DELETED,"The Firebase app was deleted.")}function ix(n){return new wr(Zn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function mv(n,e){return new wr(Zn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function _v(n){throw new wr(Zn.INTERNAL_ERROR,"Internal error: "+n)}class us{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=us.makeFromUrl(e,t)}catch{return new us(e,"")}if(""===r.path)return r;throw function UV(n){return new wr(Zn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",p=new RegExp("^gs://"+i+"(/(.*))?$","i");function T(Ue){Ue.path_=decodeURIComponent(Ue.path)}const M=t.replace(/[.]/g,"\\."),Ge=[{regex:p,indices:{bucket:1,path:3},postModify:function l(Ue){"/"===Ue.path.charAt(Ue.path.length-1)&&(Ue.path_=Ue.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${t===JP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let Ue=0;Ue<Ge.length;Ue++){const Ke=Ge[Ue],lt=Ke.regex.exec(e);if(lt){let Qt=lt[Ke.indices.path];Qt||(Qt=""),r=new us(lt[Ke.indices.bucket],Qt),Ke.postModify(r);break}}if(null==r)throw function BV(n){return new wr(Zn.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class $V{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function tD(n){return"string"==typeof n||n instanceof String}function sx(n){return NA()&&n instanceof Blob}function NA(){return typeof Blob<"u"&&!(0,Yt.UG)()}function OA(n,e,t,r){if(r<e)throw h_(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw h_(`Invalid value for '${n}'. Expected ${t} or less.`)}function Jc(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function ox(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var wh=(()=>{return(n=wh||(wh={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",wh;var n})();function ax(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),l=-1!==e.indexOf(n);return t||i||l}class YV{constructor(e,t,r,i,l,c,p,_,T,D,M,P=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=p,this.errorCallback_=_,this.timeout_=T,this.progressCallback_=D,this.connectionFactory_=M,this.retry=P,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,K)=>{this.resolve_=L,this.reject_=K,this.start_()})}start_(){const t=(r,i)=>{const l=this.resolve_,c=this.reject_,p=i.connection;if(i.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());!function ZV(n){return void 0!==n}(_)?l():l(_)}catch(_){c(_)}else if(null!==p){const _=MA();_.serverResponse=p.getErrorText(),c(this.errorCallback_?this.errorCallback_(p,_):_)}else c(i.canceled?this.appDelete_?rx():tx():ex())};this.canceled_?t(0,new nD(!1,null,!0)):this.backoffId_=function zV(n,e,t){let r=1,i=null,l=null,c=!1,p=0;function _(){return 2===p}let T=!1;function D(...re){T||(T=!0,e.apply(null,re))}function M(re){i=setTimeout(()=>{i=null,n(L,_())},re)}function P(){l&&clearTimeout(l)}function L(re,...Be){if(T)return void P();if(re)return P(),void D.call(null,re,...Be);if(_()||c)return P(),void D.call(null,re,...Be);let Ge;r<64&&(r*=2),1===p?(p=2,Ge=0):Ge=1e3*(r+Math.random()),M(Ge)}let K=!1;function J(re){K||(K=!0,P(),!T&&(null!==i?(re||(p=2),clearTimeout(i),M(0)):re||(p=1)))}return M(0),l=setTimeout(()=>{c=!0,J(!0)},t),J}((r,i)=>{if(i)return void r(!1,new nD(!1,null,!0));const l=this.connectionFactory_();this.pendingConnection_=l;const c=p=>{null!==this.progressCallback_&&this.progressCallback_(p.loaded,p.lengthComputable?p.total:-1)};null!==this.progressCallback_&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const p=l.getErrorCode()===wh.NO_ERROR,_=l.getStatus();if(!p||ax(_,this.additionalRetryCodes_)&&this.retry){const D=l.getErrorCode()===wh.ABORT;return void r(!1,new nD(!1,null,D))}const T=-1!==this.successCodes_.indexOf(_);r(!0,new nD(T,l))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function WV(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nD{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rG(...n){const e=function nG(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(NA())return new Blob(n);throw new wr(Zn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Fo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class RA{constructor(e,t){this.data=e,this.contentType=t||null}}function PA(n,e){switch(n){case Fo.RAW:return new RA(lx(e));case Fo.BASE64:case Fo.BASE64URL:return new RA(ux(n,e));case Fo.DATA_URL:return new RA(function aG(n){const e=new cx(n);return e.base64?ux(Fo.BASE64,e.rest):function oG(n){let e;try{e=decodeURIComponent(n)}catch{throw mv(Fo.DATA_URL,"Malformed data URL.")}return lx(e)}(e.rest)}(e),function lG(n){return new cx(n).contentType}(e))}throw MA()}function lx(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function ux(n,e){switch(n){case Fo.BASE64:{const i=-1!==e.indexOf("-"),l=-1!==e.indexOf("_");if(i||l)throw mv(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Fo.BASE64URL:{const i=-1!==e.indexOf("+"),l=-1!==e.indexOf("/");if(i||l)throw mv(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function sG(n){if(typeof atob>"u")throw function jV(n){return new wr(Zn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(i){throw i.message.includes("polyfill")?i:mv(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class cx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw mv(Fo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function uG(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class Mu{constructor(e,t){let r=0,i="";sx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(sx(this.data_)){const i=function iG(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new Mu(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new Mu(r,!0)}}static getBlob(...e){if(NA()){const t=e.map(r=>r instanceof Mu?r.data_:r);return new Mu(rG.apply(null,t))}{const t=e.map(c=>tD(c)?PA(Fo.RAW,c).data:c.data_);let r=0;t.forEach(c=>{r+=c.byteLength});const i=new Uint8Array(r);let l=0;return t.forEach(c=>{for(let p=0;p<c.length;p++)i[l++]=c[p]}),new Mu(i,!0)}}uploadData(){return this.data_}}function xA(n){let e;try{e=JSON.parse(n)}catch{return null}return function KV(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function dx(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function hG(n,e){return e}class As{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||hG}}let rD=null;function yv(){if(rD)return rD;const n=[];n.push(new As("bucket")),n.push(new As("generation")),n.push(new As("metageneration")),n.push(new As("name","fullPath",!0));const t=new As("name");t.xform=function e(l,c){return function fG(n){return!tD(n)||n.length<2?n:dx(n)}(c)},n.push(t);const i=new As("size");return i.xform=function r(l,c){return void 0!==c?Number(c):c},n.push(i),n.push(new As("timeCreated")),n.push(new As("updated")),n.push(new As("md5Hash",null,!0)),n.push(new As("cacheControl",null,!0)),n.push(new As("contentDisposition",null,!0)),n.push(new As("contentEncoding",null,!0)),n.push(new As("contentLanguage",null,!0)),n.push(new As("contentType",null,!0)),n.push(new As("metadata","customMetadata",!0)),rD=n,rD}function hx(n,e,t){const r=xA(e);return null===r?null:function gG(n,e,t){const r={type:"file"},i=t.length;for(let l=0;l<i;l++){const c=t[l];r[c.local]=c.xform(r,e[c.server])}return function pG(n,e){Object.defineProperty(n,"ref",{get:function t(){const l=new us(n.bucket,n.fullPath);return e._makeStorageReference(l)}})}(r,n),r}(n,r,t)}function kA(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const l=e[i];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}const fx="prefixes",px="items";class Nu{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ou(n){if(!n)throw MA()}function iD(n,e){return function t(r,i){const l=hx(n,i,e);return Ou(null!==l),l}}function f_(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function FV(){return new wr(Zn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function kV(){return new wr(Zn.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function xV(n){return new wr(Zn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function LV(n){return new wr(Zn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function vv(n){const e=f_(n);return function t(r,i){let l=e(r,i);return 404===r.getStatus()&&(l=function PV(n){return new wr(Zn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),l.serverResponse=i.serverResponse,l}}function gx(n,e,t){const i=Jc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Nu(i,"GET",iD(n,t),c);return p.errorHandler=vv(e),p}function TG(n,e,t,r,i){const l={};l.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(l.delimiter=t),r&&(l.pageToken=r),i&&(l.maxResults=i);const p=Jc(e.bucketOnlyServerUrl(),n.host,n._protocol),T=n.maxOperationRetryTime,D=new Nu(p,"GET",function vG(n,e){return function t(r,i){const l=function yG(n,e,t){const r=xA(t);return null===r?null:function _G(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[fx])for(const i of t[fx]){const l=i.replace(/\/$/,""),c=n._makeStorageReference(new us(e,l));r.prefixes.push(c)}if(t[px])for(const i of t[px]){const l=n._makeStorageReference(new us(e,i.name));r.items.push(l)}return r}(n,e,r)}(n,e,i);return Ou(null!==l),l}}(n,e.bucket),T);return D.urlParams=l,D.errorHandler=f_(e),D}function _x(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function SG(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class sD{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function FA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ou(!1)}return Ou(!!t&&-1!==(e||["active"]).indexOf(t)),t}const MG={STATE_CHANGED:"state_changed"},Ms={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function LA(n){switch(n){case"running":case"pausing":case"canceling":return Ms.RUNNING;case"paused":return Ms.PAUSED;case"success":return Ms.SUCCESS;case"canceled":return Ms.CANCELED;default:return Ms.ERROR}}class NG{constructor(e,t,r){if(function qV(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const l=e;this.next=l.next,this.error=l.error,this.complete=l.complete}}}function p_(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}let bx=null;class OG{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw _v("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const l in i)i.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,i[l].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _v("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _v("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _v("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _v("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class RG extends OG{initXhr(){this.xhr_.responseType="text"}}function Il(){return bx?bx():new RG}class Tx{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=yv(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(Zn.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const l=this.isExponentialBackoffExpired();if(ax(i.status,[])){if(!l)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=ex()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(Zn.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,l)=>{this._resolve=i,this._reject=l,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function CG(n,e,t,r,i){const l=e.bucketOnlyServerUrl(),c=_x(e,r,i),p={name:c.fullPath},_=Jc(l,n.host,n._protocol),D={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},M=kA(c,t),K=new Nu(_,"POST",function L(J){let re;FA(J);try{re=J.getResponseHeader("X-Goog-Upload-URL")}catch{Ou(!1)}return Ou(tD(re)),re},n.maxUploadRetryTime);return K.urlParams=p,K.headers=D,K.body=M,K.errorHandler=f_(e),K}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Il,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._uploadUrl=l,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function IG(n,e,t,r){const _=new Nu(t,"POST",function l(T){const D=FA(T,["active","final"]);let M=null;try{M=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ou(!1)}M||Ou(!1);const P=Number(M);return Ou(!isNaN(P)),new sD(P,r.size(),"final"===D)},n.maxUploadRetryTime);return _.headers={"X-Goog-Upload-Command":"query"},_.errorHandler=f_(e),_}(this._ref.storage,this._ref._location,e,this._blob),l=this._ref.storage._makeRequest(i,Il,t,r);this._request=l,l.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new sD(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,l)=>{let c;try{c=function AG(n,e,t,r,i,l,c,p){const _=new sD(0,0);if(c?(_.current=c.current,_.total=c.total):(_.current=0,_.total=r.size()),r.size()!==_.total)throw function GV(){return new wr(Zn.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const T=_.total-_.current;let D=T;i>0&&(D=Math.min(D,i));const M=_.current;let L="";L=0===D?"finalize":T===D?"upload, finalize":"upload";const K={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":`${_.current}`},J=r.slice(M,M+D);if(null===J)throw nx();const Ge=new Nu(t,"POST",function re(Ue,Ke){const lt=FA(Ue,["active","final"]),zt=_.current+D,Qt=r.size();let Dr;return Dr="final"===lt?iD(e,l)(Ue,Ke):null,new sD(zt,Qt,"final"===lt,Dr)},e.maxUploadRetryTime);return Ge.headers=K,Ge.body=J.uploadData(),Ge.progressCallback=p||null,Ge.errorHandler=f_(n),Ge}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(_){return this._error=_,void this._transition("error")}const p=this._ref.storage._makeRequest(c,Il,i,l,!1);this._request=p,p.getPromise().then(_=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(_.current),_.finalized?(this._metadata=_.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=gx(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Il,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function yx(n,e,t,r,i){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},_=function p(){let Ge="";for(let Ue=0;Ue<2;Ue++)Ge+=Math.random().toString().slice(2);return Ge}();c["Content-Type"]="multipart/related; boundary="+_;const T=_x(e,r,i),D=kA(T,t),L=Mu.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+D+"\r\n--"+_+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===L)throw nx();const K={name:T.fullPath},J=Jc(l,n.host,n._protocol),Be=n.maxUploadRetryTime,ze=new Nu(J,"POST",iD(n,t),Be);return ze.urlParams=K,ze.headers=c,ze.body=L.uploadData(),ze.errorHandler=f_(e),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Il,e,t);this._request=i,i.getPromise().then(l=>{this._request=void 0,this._metadata=l,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=tx(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=LA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const l=new NG(t||void 0,r||void 0,i||void 0);return this._addObserver(l),()=>{this._removeObserver(l)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(LA(this._state)){case Ms.SUCCESS:p_(this._resolve.bind(null,this.snapshot))();break;case Ms.CANCELED:case Ms.ERROR:p_(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(LA(this._state)){case Ms.RUNNING:case Ms.PAUSED:e.next&&p_(e.next.bind(e,this.snapshot))();break;case Ms.SUCCESS:e.complete&&p_(e.complete.bind(e))();break;default:e.error&&p_(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Bp{constructor(e,t){this._service=e,this._location=t instanceof us?t:us.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Bp(e,t)}get root(){const e=new us(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dx(this._location.path)}get storage(){return this._service}get parent(){const e=function cG(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new us(this._location.bucket,e);return new Bp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw ix(e)}}function Dx(n,e,t){return BA.apply(this,arguments)}function BA(){return(BA=(0,pe.Z)(function*(n,e,t){const i=yield Ex(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),null!=i.nextPageToken&&(yield Dx(n,e,i.nextPageToken))})).apply(this,arguments)}function Ex(n,e){null!=e&&"number"==typeof e.maxResults&&OA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=TG(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Il)}function $G(n){n._throwIfRoot("getDownloadURL");const e=function wG(n,e,t){const i=Jc(e.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,p=new Nu(i,"GET",function bG(n,e){return function t(r,i){const l=hx(n,i,e);return Ou(null!==l),function mG(n,e,t,r){const i=xA(e);if(null===i||!tD(i.downloadTokens))return null;const l=i.downloadTokens;if(0===l.length)return null;const c=encodeURIComponent;return l.split(",").map(T=>{const M=n.fullPath;return Jc("/b/"+c(n.bucket)+"/o/"+c(M),t,r)+ox({alt:"media",token:T})})[0]}(l,i,n.host,n._protocol)}}(n,t),c);return p.errorHandler=vv(e),p}(n.storage,n._location,yv());return n.storage.makeRequestWithTokens(e,Il).then(t=>{if(null===t)throw function HV(){return new wr(Zn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function Sx(n,e){const t=function dG(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new us(n._location.bucket,t);return new Bp(n.storage,r)}function Cx(n,e){if(n instanceof UA){const t=n;if(null==t._bucket)throw function VV(){return new wr(Zn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+XP+"' property when initializing the app?")}();const r=new Bp(t,t._bucket);return null!=e?Cx(r,e):r}return void 0!==e?Sx(n,e):n}function qG(n,e){if(e&&function WG(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof UA)return function ZG(n,e){return new Bp(n,e)}(n,e);throw h_("To use ref(service, url), the first argument must be a Storage instance.")}return Cx(n,e)}function Ix(n,e){const t=e?.[XP];return null==t?null:us.makeFromBucketSpec(t,n)}class UA{constructor(e,t,r,i,l){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=l,this._bucket=null,this._host=JP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?us.makeFromBucketSpec(i,this._host):Ix(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?us.makeFromBucketSpec(this._url,e):Ix(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){OA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){OA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bp(this,e)}_makeRequest(e,t,r,i,l=!0){if(this._deleted)return new $V(rx());{const c=function tG(n,e,t,r,i,l,c=!0){const p=ox(n.urlParams),_=n.url+p,T=Object.assign({},n.headers);return function XV(n,e){e&&(n["X-Firebase-GMPID"]=e)}(T,e),function QV(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(T,t),function JV(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(T,l),function eG(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(T,r),new YV(_,n.method,T,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,c)}(e,this._appId,r,i,t,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[i,l]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,l).getPromise()})()}}const Ax="@firebase/storage";function Ox(n,e){return qG(n=(0,Yt.m9)(n),e)}function iH(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new UA(t,r,i,e,Cl.SDK_VERSION)}!function sH(){(0,Cl._registerComponent)(new d_.wA("storage",iH,"PUBLIC").setMultipleInstances(!0)),(0,Cl.registerVersion)(Ax,"0.11.2",""),(0,Cl.registerVersion)(Ax,"0.11.2","esm2017")}();class oD{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class Px{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new oD(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new oD(r,this,this._ref))},t)}on(e,t,r,i){let l;return t&&(l="function"==typeof t?c=>t(new oD(c,this,this._ref)):{next:t.next?c=>t.next(new oD(c,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,l,r||void 0,i||void 0)}}class xx{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Xc(e,this._service))}get items(){return this._delegate.items.map(e=>new Xc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Xc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function rH(n,e){return Sx(n,e)}(this._delegate,e);return new Xc(t,this.storage)}get root(){return new Xc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Xc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Px(function YG(n,e,t){return function UG(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Tx(n,new Mu(e),t)}(n=(0,Yt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=Fo.RAW,r){this._throwIfRoot("putString");const i=PA(t,e),l=Object.assign({},r);return null==l.contentType&&null!=i.contentType&&(l.contentType=i.contentType),new Px(new Tx(this._delegate,new Mu(i.data,!0),l),this)}listAll(){return function eH(n){return function GG(n){const e={prefixes:[],items:[]};return Dx(n,e).then(()=>e)}(n=(0,Yt.m9)(n))}(this._delegate).then(e=>new xx(e,this.storage))}list(e){return function XG(n,e){return Ex(n=(0,Yt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new xx(t,this.storage))}getMetadata(){return function QG(n){return function HG(n){n._throwIfRoot("getMetadata");const e=gx(n.storage,n._location,yv());return n.storage.makeRequestWithTokens(e,Il)}(n=(0,Yt.m9)(n))}(this._delegate)}updateMetadata(e){return function JG(n,e){return function jG(n,e){n._throwIfRoot("updateMetadata");const t=function DG(n,e,t,r){const l=Jc(e.fullServerUrl(),n.host,n._protocol),p=kA(t,r),T=n.maxOperationRetryTime,D=new Nu(l,"PATCH",iD(n,r),T);return D.headers={"Content-Type":"application/json; charset=utf-8"},D.body=p,D.errorHandler=vv(e),D}(n.storage,n._location,e,yv());return n.storage.makeRequestWithTokens(t,Il)}(n=(0,Yt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function tH(n){return $G(n=(0,Yt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function nH(n){return function zG(n){n._throwIfRoot("deleteObject");const e=function EG(n,e){const r=Jc(e.fullServerUrl(),n.host,n._protocol),p=new Nu(r,"DELETE",function c(_,T){},n.maxOperationRetryTime);return p.successCodes=[200,204],p.errorHandler=vv(e),p}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Il)}(n=(0,Yt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw ix(e)}}class kx{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Fx(e))throw h_("ref() expected a child path but got a URL, use refFromURL instead.");return new Xc(Ox(this._delegate,e),this)}refFromURL(e){if(!Fx(e))throw h_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{us.makeFromUrl(e,this._delegate.host)}catch{throw h_("refFromUrl() expected a valid full URL but got an invalid one.")}return new Xc(Ox(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function Rx(n,e,t,r={}){!function KG(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Yt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function Fx(n){return/^[A-Za-z]+:\/\//.test(n)}function uH(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new kx(t,r)}!function cH(n){const e={TaskState:Ms,TaskEvent:MG,StringFormat:Fo,Storage:kx,Reference:Xc};n.INTERNAL.registerComponent(new d_.wA("storage-compat",uH,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.3.2")}(QP.Z),k(259);var Dh=k(1877);const GA=new Map,Bx={activated:!1,tokenObservers:[]},gH={initialized:!1,enabled:!1};function Wi(n){return GA.get(n)||Object.assign({},Bx)}function lD(){return gH}const HA="https://content-firebaseappcheck.googleapis.com/v1",vH="exchangeDebugToken",Ux={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class TH{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Yt.BH,yield function wH(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ns=new Yt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $A(n,e){return zA.apply(this,arguments)}function zA(){return(zA=(0,pe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const l={method:"POST",body:JSON.stringify(e),headers:r};let c,p;try{c=yield fetch(n,l)}catch(M){throw Ns.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==c.status)throw Ns.create("fetch-status-error",{httpStatus:c.status});try{p=yield c.json()}catch(M){throw Ns.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=p.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${p.ttl}`});const T=1e3*Number(_[1]),D=Date.now();return{token:p.token,expireTimeMillis:D+T,issuedAtTimeMillis:D}})).apply(this,arguments)}const IH="firebase-app-check-database",AH=1,bv="firebase-app-check-store";let dD=null;function jx(n,e){return WA.apply(this,arguments)}function WA(){return(WA=(0,pe.Z)(function*(n,e){const r=(yield function Hx(){return dD||(dD=new Promise((n,e)=>{try{const t=indexedDB.open(IH,AH);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ns.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bv,{keyPath:"compositeKey"})}}catch(t){e(Ns.create("storage-open",{originalErrorMessage:t?.message}))}}),dD)}()).transaction(bv,"readwrite"),l=r.objectStore(bv).put({compositeKey:n,value:e});return new Promise((c,p)=>{l.onsuccess=_=>{c()},r.onerror=_=>{var T;p(Ns.create("storage-set",{originalErrorMessage:null===(T=_.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const Tv=new Dh.Yd("@firebase/app-check");function KA(n,e){return(0,Yt.hl)()?function NH(n,e){return jx(function zx(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Tv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Zx(){return QA.apply(this,arguments)}function QA(){return(QA=(0,pe.Z)(function*(){const n=lD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const FH={error:"UNKNOWN_ERROR"};function LH(n){return Yt.US.encodeString(JSON.stringify(n),!1)}function hD(n){return JA.apply(this,arguments)}function JA(){return(JA=(0,pe.Z)(function*(n,e=!1){const t=n.app;!function Vx(n){if(!Wi(n).activated)throw Ns.create("use-before-activation",{appName:n.name})}(t);const r=Wi(t);let l,i=r.token;if(i&&!g_(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(g_(_)?i=_:yield KA(t,void 0))}if(!e&&i&&g_(i))return{token:i.token};let p,c=!1;if(function Wx(){return lD().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=$A(function CH(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HA}/projects/${t}/apps/${r}:${vH}?key=${i}`,body:{debug_token:e}}}(t,yield Zx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield KA(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Wi(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Tv.warn(_.message):Tv.error(_),l=_}return i?l?p=g_(i)?{token:i.token,internalError:l}:Yx(l):(p={token:i.token},r.token=i,yield KA(t,i)):p=Yx(l),c&&function Kx(n,e){const t=Wi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,p),p})).apply(this,arguments)}function eM(n,e){const t=Wi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function qx(n){const{app:e}=n,t=Wi(e);let r=t.tokenRefresher;r||(r=function BH(n){const{app:e}=n;return new TH((0,pe.Z)(function*(){let r;if(r=Wi(e).token?yield hD(n,!0):yield hD(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Wi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Ux.RETRIAL_MIN_WAIT,Ux.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function g_(n){return n.expireTimeMillis-Date.now()>0}function Yx(n){return{token:LH(FH),error:n}}class UH{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Wi(this.app);for(const t of e)eM(this.app,t.next);return Promise.resolve()}}const ik="app-check-internal";!function XH(){(0,Cl._registerComponent)(new d_.wA("app-check",n=>function VH(n,e){return new UH(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ik).initialize()})),(0,Cl._registerComponent)(new d_.wA(ik,n=>function GH(n){return{getToken:e=>hD(n,e),addTokenListener:e=>function XA(n,e,t,r){const{app:i}=n,l=Wi(i);if(l.tokenObservers=[...l.tokenObservers,{next:t,error:r,type:e}],l.token&&g_(l.token)){const p=l.token;Promise.resolve().then(()=>{t({token:p.token}),qx(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>qx(n))}(n,"INTERNAL",e),removeTokenListener:e=>eM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Cl.registerVersion)("@firebase/app-check","0.6.4")}();class pD{constructor(){return(0,Tr.vb)("app-check")}}typeof window<"u"&&window;var ok=k(9260);function ak(n){const e=function i3(n){return new Nn.y(e=>{const t=c=>e.next(c);t(n.snapshot);const l=n.on("state_changed",t);return n.then(c=>{t(c),e.complete()},c=>{t(n.snapshot),(c=>{e.error(c)})(c)}),function(){l()}}).pipe(Vf(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,ct.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function gD(n){return{getDownloadURL:()=>it(void 0).pipe(Tr.fc,On(()=>n.getDownloadURL()),Tr.iC),getMetadata:()=>it(void 0).pipe(Tr.fc,On(()=>n.getMetadata()),Tr.iC),delete:()=>(0,jt.D)(n.delete()),child:e=>gD(n.child(e)),updateMetadata:e=>(0,jt.D)(n.updateMetadata(e)),put:(e,t)=>ak(n.put(e,t)),putString:(e,t,r)=>ak(n.putString(e,t,r)),list:e=>(0,jt.D)(n.list(e)),listAll:()=>(0,jt.D)(n.listAll())}}const s3=new a.OlP("angularfire2.storageBucket"),o3=new a.OlP("angularfire2.storage.maxUploadRetryTime"),a3=new a.OlP("angularfire2.storage.maxOperationRetryTime"),l3=new a.OlP("angularfire2.storage.use-emulator");let lk=(()=>{class n{constructor(t,r,i,l,c,p,_,T,D,M){const P=(0,Is.on)(t,c,r);this.storage=(0,Is.cc)(`${P.name}.storage.${i}`,"AngularFireStorage",P.name,()=>{const L=c.runOutsideAngular(()=>P.storage(i||void 0)),K=D;return K&&L.useEmulator(...K),_&&L.setMaxUploadRetryTime(_),T&&L.setMaxOperationRetryTime(T),L},[_,T])}ref(t){return gD(this.storage.ref(t))}refFromURL(t){return gD(this.storage.refFromURL(t))}upload(t,r,i){return gD(this.storage.ref(t)).put(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Is.Dh),a.LFG(Is.xv,8),a.LFG(s3,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tr.HU),a.LFG(o3,8),a.LFG(a3,8),a.LFG(l3,8),a.LFG(pD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),u3=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),c3=(()=>{class n{constructor(){ok.Z.registerVersion("angularfire",Tr.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[lk],imports:[u3]}),n})();function sM(){return(0,Ln.e)((n,e)=>{let t,r=!1;n.subscribe((0,$.x)(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}k(9800);var Dt,d3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ed={},oM=oM||{},Wt=d3||self;function mD(){}function _D(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wv(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var aM="closure_uid_"+(1e9*Math.random()>>>0),f3=0;function p3(n,e,t){return n.call.apply(n.bind,arguments)}function g3(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function cs(n,e,t){return(cs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p3:g3).apply(null,arguments)}function yD(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,l){for(var c=Array(arguments.length-2),p=2;p<arguments.length;p++)c[p-2]=arguments[p];return e.prototype[i].apply(r,c)}}function Eh(){this.s=this.s,this.o=this.o}Eh.prototype.s=!1,Eh.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function h3(n){Object.prototype.hasOwnProperty.call(n,aM)&&n[aM]||(n[aM]=++f3)}(this)},Eh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const uk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function lM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ck(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(_D(r)){const i=n.length||0,l=r.length||0;n.length=i+l;for(let c=0;c<l;c++)n[i+c]=r[c]}else n.push(r)}}function ds(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ds.prototype.h=function(){this.defaultPrevented=!0};var _3=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",mD,e),Wt.removeEventListener("test",mD,e)}catch{}return n}();function vD(n){return/^[\s\xa0]*$/.test(n)}var dk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function uM(n,e){return n<e?-1:n>e?1:0}function bD(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function Ru(n){return-1!=bD().indexOf(n)}function cM(n){return cM[" "](n),n}cM[" "]=mD;var TD,n,v3=Ru("Opera"),m_=Ru("Trident")||Ru("MSIE"),hk=Ru("Edge"),dM=hk||m_,fk=Ru("Gecko")&&!(-1!=bD().toLowerCase().indexOf("webkit")&&!Ru("Edge"))&&!(Ru("Trident")||Ru("MSIE"))&&!Ru("Edge"),b3=-1!=bD().toLowerCase().indexOf("webkit")&&!Ru("Edge");function pk(){var n=Wt.document;return n?n.documentMode:void 0}e:{var hM="",fM=(n=bD(),fk?/rv:([^\);]+)(\)|;)/.exec(n):hk?/Edge\/([\d\.]+)/.exec(n):m_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):b3?/WebKit\/(\S+)/.exec(n):v3?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fM&&(hM=fM?fM[1]:""),m_){var pM=pk();if(null!=pM&&pM>parseFloat(hM)){TD=String(pM);break e}}TD=hM}var T3={};var D3=Wt.document&&m_&&(pk()||parseInt(TD,10))||void 0;function Dv(n,e){if(ds.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fk){e:{try{cM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:E3[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dv.X.h.call(this)}}Zi(Dv,ds);var E3={2:"touch",3:"pen",4:"mouse"};Dv.prototype.h=function(){Dv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Ev="closure_listenable_"+(1e6*Math.random()|0),S3=0;function C3(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++S3,this.ba=this.ea=!1}function wD(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function mM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function mk(n){const e={};for(const t in n)e[t]=n[t];return e}const _k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yk(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<_k.length;l++)t=_k[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function DD(n){this.src=n,this.g={},this.h=0}function _M(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=uk(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&(wD(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yM(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ba&&l.listener==e&&l.capture==!!t&&l.ha==r)return i}return-1}DD.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var c=yM(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new C3(e,this.src,l,!!r,i)).ea=t,n.push(e)),e};var vM="closure_lm_"+(1e6*Math.random()|0),bM={};function vk(n,e,t,r,i){if(r&&r.once)return Tk(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)vk(n,e[l],t,r,i);return null}return t=EM(t),n&&n[Ev]?n.N(e,t,wv(r)?!!r.capture:!!r,i):bk(n,e,t,!1,r,i)}function bk(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var c=wv(i)?!!i.capture:!!i,p=wM(n);if(p||(n[vM]=p=new DD(n)),(t=p.add(e,t,r,c,l)).proxy)return t;if(r=function I3(){const e=A3;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)_3||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Dk(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Tk(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)Tk(n,e[l],t,r,i);return null}return t=EM(t),n&&n[Ev]?n.O(e,t,wv(r)?!!r.capture:!!r,i):bk(n,e,t,!0,r,i)}function wk(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)wk(n,e[l],t,r,i);else r=wv(r)?!!r.capture:!!r,t=EM(t),n&&n[Ev]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yM(l=n.g[e],t,r,i))&&(wD(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=wM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yM(e,t,r,i)),(t=-1<n?e[n]:null)&&TM(t))}function TM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Ev])_M(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Dk(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=wM(e))?(_M(t,n),0==t.h&&(t.src=null,e[vM]=null)):wD(n)}}}function Dk(n){return n in bM?bM[n]:bM[n]="on"+n}function A3(n,e){if(n.ba)n=!0;else{e=new Dv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&TM(n),n=t.call(r,e)}return n}function wM(n){return(n=n[vM])instanceof DD?n:null}var DM="__closure_events_fn_"+(1e9*Math.random()>>>0);function EM(n){return"function"==typeof n?n:(n[DM]||(n[DM]=function(e){return n.handleEvent(e)}),n[DM])}function Pi(){Eh.call(this),this.i=new DD(this),this.P=this,this.I=null}function qi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ds(e,n);else if(e instanceof ds)e.target=e.target||n;else{var i=e;yk(e=new ds(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var c=e.g=t[l];i=ED(c,r,!0,e)&&i}if(i=ED(c=e.g=n,r,!0,e)&&i,i=ED(c,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=ED(c=e.g=t[l],r,!1,e)&&i}function ED(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var c=e[l];if(c&&!c.ba&&c.capture==t){var p=c.listener,_=c.ha||c.src;c.ea&&_M(n.i,c),i=!1!==p.call(_,r)&&i}}return i&&!r.defaultPrevented}Zi(Pi,Eh),Pi.prototype[Ev]=!0,Pi.prototype.removeEventListener=function(n,e,t,r){wk(this,n,e,t,r)},Pi.prototype.M=function(){if(Pi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wD(t[r]);delete n.g[e],n.h--}}this.I=null},Pi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Pi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var SM=Wt.JSON.stringify;function M3(){var n=Ck;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var CM,Ek=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new O3,n=>n.reset());class O3{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function R3(n){Wt.setTimeout(()=>{throw n},0)}function Sk(n,e){CM||function P3(){var n=Wt.Promise.resolve(void 0);CM=function(){n.then(x3)}}(),IM||(CM(),IM=!0),Ck.add(n,e)}var IM=!1,Ck=new class N3{constructor(){this.h=this.g=null}add(e,t){const r=Ek.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function x3(){for(var n;n=M3();){try{n.h.call(n.g)}catch(t){R3(t)}var e=Ek;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}IM=!1}function SD(n,e){Pi.call(this),this.h=n||1,this.g=e||Wt,this.j=cs(this.lb,this),this.l=Date.now()}function AM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function MM(n,e,t){if("function"==typeof n)t&&(n=cs(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=cs(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function Ik(n){n.g=MM(()=>{n.g=null,n.i&&(n.i=!1,Ik(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zi(SD,Pi),(Dt=SD.prototype).ca=!1,Dt.R=null,Dt.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),qi(this,"tick"),this.ca&&(AM(this),this.start()))}},Dt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.M=function(){SD.X.M.call(this),AM(this),delete this.g};class k3 extends Eh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ik(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Sv(n){Eh.call(this),this.h=n,this.g={}}Zi(Sv,Eh);var Ak=[];function Mk(n,e,t,r){Array.isArray(t)||(t&&(Ak[0]=t.toString()),t=Ak);for(var i=0;i<t.length;i++){var l=vk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Nk(n){mM(n.g,function(e,t){this.g.hasOwnProperty(t)&&TM(e)},n),n.g={}}function CD(){this.g=!0}function __(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function U3(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var c=1;c<i.length;c++)i[c]=""}}}return SM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Sv.prototype.M=function(){Sv.X.M.call(this),Nk(this)},Sv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},CD.prototype.Aa=function(){this.g=!1},CD.prototype.info=function(){};var Up={},Ok=null;function ID(){return Ok=Ok||new Pi}function Rk(n){ds.call(this,Up.Pa,n)}function Cv(n){const e=ID();qi(e,new Rk(e))}function Pk(n,e){ds.call(this,Up.STAT_EVENT,n),this.stat=e}function Os(n){const e=ID();qi(e,new Pk(e,n))}function xk(n,e){ds.call(this,Up.Qa,n),this.size=e}function Iv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Up.Pa="serverreachability",Zi(Rk,ds),Up.STAT_EVENT="statevent",Zi(Pk,ds),Up.Qa="timingevent",Zi(xk,ds);var AD={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},kk={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function NM(){}function Lk(){}NM.prototype.h=null;var PM,Av={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function OM(){ds.call(this,"d")}function RM(){ds.call(this,"c")}function MD(){}function Mv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Sv(this),this.O=V3,this.T=new SD(n=dM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Bk}function Bk(){this.i=null,this.g="",this.h=!1}Zi(OM,ds),Zi(RM,ds),Zi(MD,NM),MD.prototype.g=function(){return new XMLHttpRequest},MD.prototype.i=function(){return{}},PM=new MD;var V3=45e3,xM={},ND={};function kM(n,e,t){n.K=1,n.v=xD(td(e)),n.s=t,n.P=!0,Uk(n,null)}function Uk(n,e){n.F=Date.now(),Nv(n),n.A=td(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),Kk(t.i,"t",r),n.C=0,t=n.l.H,n.h=new Bk,n.g=vF(n.l,t?e:null,!n.s),0<n.N&&(n.L=new k3(cs(n.La,n,n.g),n.N)),Mk(n.S,n.g,"readystatechange",n.ib),e=n.H?mk(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Cv(),function F3(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var c="",p=l.split("&"),_=0;_<p.length;_++){var T=p[_].split("=");if(1<T.length){var D=T[0];T=T[1];var M=D.split("_");c=2<=M.length&&"type"==M[1]?c+(D+"=")+T+"&":c+(D+"=redacted&")}}else c=null;else c=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function Vk(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function Gk(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=G3(n,t),i==ND){4==e&&(n.o=4,Os(14),r=!1),__(n.j,n.m,null,"[Incomplete Response]");break}if(i==xM){n.o=4,Os(15),__(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}__(n.j,n.m,i,null),FM(n,i)}Vk(n)&&i!=ND&&i!=xM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Os(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),$M(e),e.K=!0,Os(11))):(__(n.j,n.m,t,"[Invalid Chunked Response]"),Vp(n),Ov(n))}function G3(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?ND:(t=Number(e.substring(t,r)),isNaN(t)?xM:(r+=1)+t>e.length?ND:(e=e.substr(r,t),n.C=r+t,e))}function Nv(n){n.V=Date.now()+n.O,Hk(n,n.O)}function Hk(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Iv(cs(n.gb,n),e)}function OD(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Ov(n){0==n.l.G||n.I||gF(n.l,n)}function Vp(n){OD(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,AM(n.T),Nk(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function FM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||LM(t.h,n)))if(!n.J&&LM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;VD(t),BD(t)}jM(t),Os(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Iv(cs(t.cb,t),6e3));if(1>=Jk(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Hp(t,11)}else if((n.J||t.g==n)&&VD(t),!vD(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let T=i[e];if(t.T=T[0],T=T[1],2==t.G)if("c"==T[0]){t.I=T[1],t.ka=T[2];const D=T[3];null!=D&&(t.ma=D,t.j.info("VER="+t.ma));const M=T[4];null!=M&&(t.Ca=M,t.j.info("SVER="+t.Ca));const P=T[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const K=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(K){var l=r.h;l.g||-1==K.indexOf("spdy")&&-1==K.indexOf("quic")&&-1==K.indexOf("h2")||(l.j=l.l,l.g=new Set,l.h&&(BM(l,l.h),l.h=null))}if(r.D){const J=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.za=J,pr(r.F,r.D,J))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=yF(r,r.H?r.ka:null,r.V),c.J){Xk(r.h,c);var p=c,_=r.J;_&&p.setTimeout(_),p.B&&(OD(p),Nv(p)),r.g=c}else fF(r);0<t.i.length&&UD(t)}else"stop"!=T[0]&&"close"!=T[0]||Hp(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?Hp(t,7):HM(t):"noop"!=T[0]&&t.l&&t.l.wa(T),t.A=0)}Cv()}catch{}}function jk(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(_D(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function j3(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(_D(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function H3(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(_D(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}(Dt=Mv.prototype).setTimeout=function(n){this.O=n},Dt.ib=function(n){n=n.target;const e=this.L;e&&3==nd(n)?e.l():this.La(n)},Dt.La=function(n){try{if(n==this.g)e:{const D=nd(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>D)&&(3!=D||dM||this.g&&(this.h.h||this.g.fa()||aF(this.g)))){this.I||4!=D||7==e||Cv(),OD(this);var t=this.g.aa();this.Y=t;t:if(Vk(this)){var r=aF(this.g);n="";var i=r.length,l=4==nd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vp(this),Ov(this);var c="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function L3(n,e,t,r,i,l,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+c})}(this.j,this.u,this.A,this.m,this.U,D,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var p,_=this.g;if((p=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vD(p)){var T=p;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,Os(12),Vp(this),Ov(this);break e}__(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,FM(this,t)}this.P?(Gk(this,D,c),dM&&this.i&&3==D&&(Mk(this.S,this.T,"tick",this.hb),this.T.start())):(__(this.j,this.m,c,null),FM(this,c)),4==D&&Vp(this),this.i&&!this.I&&(4==D?gF(this.l,this):(this.i=!1,Nv(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Os(12)):(this.o=0,Os(13)),Vp(this),Ov(this)}}}catch{}},Dt.hb=function(){if(this.g){var n=nd(this.g),e=this.g.fa();this.C<e.length&&(OD(this),Gk(this,n,e),this.i&&4!=n&&Nv(this))}},Dt.cancel=function(){this.I=!0,Vp(this)},Dt.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function B3(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Cv(),Os(17)),Vp(this),this.o=2,Ov(this)):Hk(this,this.V-n)};var $k=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gp(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Gp){this.h=void 0!==e?e:n.h,RD(this,n.j),this.s=n.s,this.g=n.g,PD(this,n.m),this.l=n.l,e=n.i;var t=new xv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zk(this,t),this.o=n.o}else n&&(t=String(n).match($k))?(this.h=!!e,RD(this,t[1]||"",!0),this.s=Rv(t[2]||""),this.g=Rv(t[3]||"",!0),PD(this,t[4]),this.l=Rv(t[5]||"",!0),zk(this,t[6]||"",!0),this.o=Rv(t[7]||"")):(this.h=!!e,this.i=new xv(null,this.h))}function td(n){return new Gp(n)}function RD(n,e,t){n.j=t?Rv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function PD(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zk(n,e,t){e instanceof xv?(n.i=e,function Y3(n,e){e&&!n.j&&(Sh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(Zk(this,r),Kk(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Pv(e,q3)),n.i=new xv(e,n.h))}function pr(n,e,t){n.i.set(e,t)}function xD(n){return pr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Rv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,z3),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function z3(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Gp.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Pv(e,Wk,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Pv(e,Wk,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Pv(t,"/"==t.charAt(0)?Z3:W3,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Pv(t,K3)),n.join("")};var Wk=/[#\/\?@]/g,W3=/[#\?:]/g,Z3=/[#\?]/g,q3=/[#\?@]/g,K3=/#/g;function xv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Sh(n){n.g||(n.g=new Map,n.h=0,n.i&&function $3(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Zk(n,e){Sh(n),e=y_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function qk(n,e){return Sh(n),e=y_(n,e),n.g.has(e)}function Kk(n,e,t){Zk(n,e),0<t.length&&(n.i=null,n.g.set(y_(n,e),lM(t)),n.h+=t.length)}function y_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Yk(n){this.l=n||J3,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ga&&Wt.g.Ga()&&Wt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=xv.prototype).add=function(n,e){Sh(this),this.i=null,n=y_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){Sh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Dt.oa=function(){Sh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let l=0;l<i.length;l++)t.push(e[r])}return t},Dt.W=function(n){Sh(this);let e=[];if("string"==typeof n)qk(this,n)&&(e=e.concat(this.g.get(y_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return Sh(this),this.i=null,qk(this,n=y_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const l=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=l;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var J3=10;function Qk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Jk(n){return n.h?1:n.g?n.g.size:0}function LM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function BM(n,e){n.g?n.g.add(e):n.h=e}function Xk(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function eF(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return lM(n.i)}function UM(){}function X3(){this.g=new UM}function ej(n,e,t){const r=t||"";try{jk(n,function(i,l){let c=i;wv(i)&&(c=SM(i)),e.push(r+l+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kD(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function kv(n){this.l=n.ac||null,this.j=n.jb||!1}function FD(n,e){Pi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=VM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Yk.prototype.cancel=function(){if(this.i=eF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},UM.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},UM.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Zi(kv,NM),kv.prototype.g=function(){return new FD(this.l,this.j)},kv.prototype.i=function(n){return function(){return n}}({}),Zi(FD,Pi);var VM=0;function tF(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Fv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Lv(n)}function Lv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=FD.prototype).open=function(n,e){if(this.readyState!=VM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Lv(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fv(this)),this.readyState=VM},Dt.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Lv(this)),this.g&&(this.readyState=3,Lv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;tF(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Dt.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Fv(this):Lv(this),3==this.readyState&&tF(this)}},Dt.Va=function(n){this.g&&(this.response=this.responseText=n,Fv(this))},Dt.Ua=function(n){this.g&&(this.response=n,Fv(this))},Dt.ga=function(){this.g&&Fv(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(FD.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var nj=Wt.JSON.parse;function Ar(n){Pi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nF,this.K=this.L=!1}Zi(Ar,Pi);var nF="",rj=/^https?$/i,ij=["POST","PUT"];function rF(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,iF(n),LD(n)}function iF(n){n.D||(n.D=!0,qi(n,"complete"),qi(n,"error"))}function sF(n){if(n.h&&typeof oM<"u"&&(!n.C[1]||4!=nd(n)||2!=n.aa()))if(n.v&&4==nd(n))MM(n.Ha,0,n);else if(qi(n,"readystatechange"),4==nd(n)){n.h=!1;try{const p=n.aa();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===p){var i=String(n.H).match($k)[1]||null;if(!i&&Wt.self&&Wt.self.location){var l=Wt.self.location.protocol;i=l.substr(0,l.length-1)}r=!rj.test(i?i.toLowerCase():"")}t=r}if(t)qi(n,"complete"),qi(n,"success");else{n.m=6;try{var c=2<nd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",iF(n)}}finally{LD(n)}}}function LD(n,e){if(n.g){oF(n);const t=n.g,r=n.C[0]?mD:null;n.g=null,n.C=null,e||qi(n,"ready");try{t.onreadystatechange=r}catch{}}}function oF(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function nd(n){return n.g?n.g.readyState:0}function aF(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case nF:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lF(n){let e="";return mM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function GM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=lF(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pr(n,e,t))}function Bv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function uF(n){this.Ca=0,this.i=[],this.j=new CD,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Bv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Bv("baseRetryDelayMs",5e3,n),this.bb=Bv("retryDelaySeedMs",1e4,n),this.$a=Bv("forwardChannelMaxRetries",2,n),this.ta=Bv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new Yk(n&&n.concurrentRequestLimit),this.Fa=new X3,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function HM(n){if(cF(n),3==n.G){var e=n.U++,t=td(n.F);pr(t,"SID",n.I),pr(t,"RID",e),pr(t,"TYPE","terminate"),Uv(n,t),(e=new Mv(n,n.j,e,void 0)).K=2,e.v=xD(td(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=vF(e.l,null),e.g.da(e.v)),e.F=Date.now(),Nv(e)}_F(n)}function BD(n){n.g&&($M(n),n.g.cancel(),n.g=null)}function cF(n){BD(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),VD(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function UD(n){Qk(n.h)||n.m||(n.m=!0,Sk(n.Ja,n),n.C=0)}function dF(n,e){var t;t=e?e.m:n.U++;const r=td(n.F);pr(r,"SID",n.I),pr(r,"RID",t),pr(r,"AID",n.T),Uv(n,r),n.o&&n.s&&GM(r,n.o,n.s),t=new Mv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=hF(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),BM(n.h,t),kM(t,r,e)}function Uv(n,e){n.ia&&mM(n.ia,function(t,r){pr(e,r,t)}),n.l&&jk({},function(t,r){pr(e,r,t)})}function hF(n,e,t){t=Math.min(n.i.length,t);var r=n.l?cs(n.l.Ra,n.l,n):null;e:{var i=n.i;let l=-1;for(;;){const c=["count="+t];-1==l?0<t?(l=i[0].h,c.push("ofs="+l)):l=0:c.push("ofs="+l);let p=!0;for(let _=0;_<t;_++){let T=i[_].h;const D=i[_].g;if(T-=l,0>T)l=Math.max(0,i[_].h-100),p=!1;else try{ej(D,c,"req"+T+"_")}catch{r&&r(D)}}if(p){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function fF(n){n.g||n.u||(n.Z=1,Sk(n.Ia,n),n.A=0)}function jM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Iv(cs(n.Ia,n),mF(n,n.A)),n.A++,0))}function $M(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function pF(n){n.g=new Mv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=td(n.sa);pr(e,"RID","rpc"),pr(e,"SID",n.I),pr(e,"CI",n.L?"0":"1"),pr(e,"AID",n.T),pr(e,"TYPE","xmlhttp"),Uv(n,e),n.o&&n.s&&GM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=xD(td(e)),t.s=null,t.P=!0,Uk(t,n)}function VD(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function gF(n,e){var t=null;if(n.g==e){VD(n),$M(n),n.g=null;var r=2}else{if(!LM(n.h,e))return;t=e.D,Xk(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;qi(r=ID(),new xk(r,t)),UD(n)}else fF(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function oj(n,e){return!(Jk(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Iv(cs(n.Ja,n,e),mF(n,n.C)),n.C++,0)))}(n,e)||2==r&&jM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Hp(n,5);break;case 4:Hp(n,10);break;case 3:Hp(n,6);break;default:Hp(n,2)}}function mF(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Hp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=cs(n.kb,n);t||(t=new Gp("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||RD(t,"https"),xD(t)),function tj(n,e){const t=new CD;if(Wt.Image){const r=new Image;r.onload=yD(kD,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yD(kD,t,r,"TestLoadImage: error",!1,e),r.onabort=yD(kD,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yD(kD,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Os(2);n.G=0,n.l&&n.l.va(e),_F(n),cF(n)}function _F(n){if(n.G=0,n.la=[],n.l){const e=eF(n.h);(0!=e.length||0!=n.i.length)&&(ck(n.la,e),ck(n.la,n.i),n.h.i.length=0,lM(n.i),n.i.length=0),n.l.ua()}}function yF(n,e,t){var r=t instanceof Gp?td(t):new Gp(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),PD(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var l=new Gp(null,void 0);r&&RD(l,r),e&&(l.g=e),i&&PD(l,i),t&&(l.l=t),r=l}return e=n.za,(t=n.D)&&e&&pr(r,t,e),pr(r,"VER",n.ma),Uv(n,r),r}function vF(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ar(t&&n.Da&&!n.ra?new kv({jb:!0}):n.ra)).Ka(n.H),e}function bF(){}function GD(){if(m_&&!(10<=Number(D3)))throw Error("Environmental error: no available transport.")}function Lo(n,e){Pi.call(this),this.g=new uF(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!vD(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!vD(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new v_(this)}function TF(n){OM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function wF(){RM.call(this),this.status=1}function v_(n){this.g=n}(Dt=Ar.prototype).Ka=function(n){this.L=n},Dt.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PM.g(),this.C=function Fk(n){return n.h||(n.h=n.i())}(this.u?this.u:PM),this.g.onreadystatechange=cs(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void rF(this,l)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const l of r.keys())t.set(l,r.get(l))}r=Array.from(t.keys()).find(l=>"content-type"==l.toLowerCase()),i=Wt.FormData&&n instanceof Wt.FormData,!(0<=uk(ij,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[l,c]of t)this.g.setRequestHeader(l,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{oF(this),0<this.B&&((this.K=function sj(n){return m_&&function w3(){return function y3(n){var e=T3;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=dk(String(TD)).split("."),t=dk("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",l=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=uM(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||uM(0==i[2].length,0==l[2].length)||uM(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=cs(this.qa,this)):this.A=MM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){rF(this,l)}},Dt.qa=function(){typeof oM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,qi(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,qi(this,"complete"),qi(this,"abort"),LD(this))},Dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),LD(this,!0)),Ar.X.M.call(this)},Dt.Ha=function(){this.s||(this.F||this.v||this.l?sF(this):this.fb())},Dt.fb=function(){sF(this)},Dt.aa=function(){try{return 2<nd(this)?this.g.status:-1}catch{return-1}},Dt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),nj(e)}},Dt.Ea=function(){return this.m},Dt.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=uF.prototype).ma=8,Dt.G=1,Dt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new Mv(this,this.j,n,void 0);let l=this.s;if(this.S&&(l?(l=mk(l),yk(l,this.S)):l=this.S),null!==this.o||this.N||(i.H=l,l=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=hF(this,i,e),pr(t=td(this.F),"RID",n),pr(t,"CVER",22),this.D&&pr(t,"X-HTTP-Session-Id",this.D),Uv(this,t),l&&(this.N?e="headers="+encodeURIComponent(String(lF(l)))+"&"+e:this.o&&GM(t,this.o,l)),BM(this.h,i),this.Ya&&pr(t,"TYPE","init"),this.O?(pr(t,"$req",e),pr(t,"SID","null"),i.Z=!0,kM(i,t,null)):kM(i,t,e),this.G=2}}else 3==this.G&&(n?dF(this,n):0==this.i.length||Qk(this.h)||dF(this))},Dt.Ia=function(){if(this.u=null,pF(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Iv(cs(this.eb,this),n)}},Dt.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Os(10),BD(this),pF(this))},Dt.cb=function(){null!=this.v&&(this.v=null,BD(this),jM(this),Os(19))},Dt.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Os(2)):(this.j.info("Failed to ping google.com"),Os(1))},(Dt=bF.prototype).xa=function(){},Dt.wa=function(){},Dt.va=function(){},Dt.ua=function(){},Dt.Ra=function(){},GD.prototype.g=function(n,e){return new Lo(n,e)},Zi(Lo,Pi),Lo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Os(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=yF(n,null,n.V),UD(n)},Lo.prototype.close=function(){HM(this.g)},Lo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=SM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&UD(e)},Lo.prototype.M=function(){this.g.l=null,delete this.j,HM(this.g),delete this.g,Lo.X.M.call(this)},Zi(TF,OM),Zi(wF,RM),Zi(v_,bF),v_.prototype.xa=function(){qi(this.g,"a")},v_.prototype.wa=function(n){qi(this.g,new TF(n))},v_.prototype.va=function(n){qi(this.g,new wF)},v_.prototype.ua=function(){qi(this.g,"b")},GD.prototype.createWebChannel=GD.prototype.g,Lo.prototype.send=Lo.prototype.u,Lo.prototype.open=Lo.prototype.m,Lo.prototype.close=Lo.prototype.close,AD.NO_ERROR=0,AD.TIMEOUT=8,AD.HTTP_ERROR=6,kk.COMPLETE="complete",Lk.EventType=Av,Av.OPEN="a",Av.CLOSE="b",Av.ERROR="c",Av.MESSAGE="d",Pi.prototype.listen=Pi.prototype.N,Ar.prototype.listenOnce=Ar.prototype.O,Ar.prototype.getLastError=Ar.prototype.Oa,Ar.prototype.getLastErrorCode=Ar.prototype.Ea,Ar.prototype.getStatus=Ar.prototype.aa,Ar.prototype.getResponseJson=Ar.prototype.Sa,Ar.prototype.getResponseText=Ar.prototype.fa,Ar.prototype.send=Ar.prototype.da,Ar.prototype.setWithCredentials=Ar.prototype.Ka;var aj=ed.createWebChannelTransport=function(){return new GD},lj=ed.getStatEventTarget=function(){return ID()},zM=ed.ErrorCode=AD,uj=ed.EventType=kk,cj=ed.Event=Up,DF=ed.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},dj=ed.FetchXmlHttpFactory=kv,HD=ed.WebChannel=Lk,hj=ed.XhrIo=Ar;const EF="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let b_="9.19.0";const Ch=new Dh.Yd("@firebase/firestore");function WM(){return Ch.logLevel}function Pe(n,...e){if(Ch.logLevel<=Dh.in.DEBUG){const t=e.map(ZM);Ch.debug(`Firestore (${b_}): ${n}`,...t)}}function jr(n,...e){if(Ch.logLevel<=Dh.in.ERROR){const t=e.map(ZM);Ch.error(`Firestore (${b_}): ${n}`,...t)}}function Pu(n,...e){if(Ch.logLevel<=Dh.in.WARN){const t=e.map(ZM);Ch.warn(`Firestore (${b_}): ${n}`,...t)}}function ZM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const e=`FIRESTORE (${b_}) INTERNAL ASSERTION FAILED: `+n;throw jr(e),new Error(e)}function Et(n,e){n||ft()}function tt(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Yt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class SF{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class mj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _j{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=T=>this.i!==i?(i=this.i,t(T)):Promise.resolve();let c=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new mi,e.enqueueRetryable(()=>l(this.currentUser))};const p=()=>{const T=c;e.enqueueRetryable((0,pe.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},_=T=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(T=>_(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?_(T):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new mi)}},0),p()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Et("string"==typeof r.accessToken),new SF(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Et(null===e||"string"==typeof e),new xi(e)}}class yj{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class vj{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new yj(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CF{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=l=>{null!=l.error&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.T;return this.T=l.token,Pe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const i=l=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.I.onInit(l=>i(l)),setTimeout(()=>{if(!this.appCheck){const l=this.I.getImmediate({optional:!0});l?i(l):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Et("string"==typeof t.token),this.T=t.token,new CF(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Tj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class IF{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Tj(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function T_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function AF(n){return n+"\0"}class gr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ne(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new gr(0,0))}static max(){return new It(new gr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vv{constructor(e,t,r){void 0===t?t=0:t>e.length&&ft(),void 0===r?r=e.length-t:r>e.length-t&&ft(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vv.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vv?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),c=t.get(i);if(l<c)return-1;if(l>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fn extends Vv{construct(e,t,r){return new fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new fn(t)}static emptyPath(){return new fn([])}}const wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Vv{construct(e,t,r){return new Mr(e,t,r)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Mr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Ne(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const p=e[i];if("\\"===p){if(i+1===e.length)throw new Ne(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ne(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===p?(c=!c,i++):"."!==p||c?(r+=p,i++):(l(),i++)}if(l(),c)throw new Ne(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(fn.fromString(e))}static fromName(e){return new Xe(fn.fromString(e).popFirst(5))}static empty(){return new Xe(fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new fn(e.slice()))}}class jD{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function qM(n){return n.fields.find(e=>2===e.kind)}function jp(n){return n.fields.filter(e=>2!==e.kind)}jD.UNKNOWN_ID=-1;class $D{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gv{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gv(0,Bo.min())}}function MF(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=It.fromTimestamp(1e9===r?new gr(t+1,0):new gr(t,r));return new Bo(i,Xe.empty(),e)}function NF(n){return new Bo(n.readTime,n.key,-1)}class Bo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Bo(It.min(),Xe.empty(),-1)}static max(){return new Bo(It.max(),Xe.empty(),-1)}}function KM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const OF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ih(n){return YM.apply(this,arguments)}function YM(){return YM=(0,pe.Z)(function*(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==OF)throw n;Pe("LocalStore","Unexpectedly lost primary lease")}),YM.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let i=0,l=0,c=!1;e.forEach(p=>{++i,p.next(()=>{++l,c&&l===i&&t()},_=>r(_))}),c=!0,l===i&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(i=>i?oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,i)=>{const l=e.length,c=new Array(l);let p=0;for(let _=0;_<l;_++){const T=_;t(e[T]).next(D=>{c[T]=D,++p,p===l&&r(c)},D=>i(D))}})}static doWhile(e,t){return new oe((r,i)=>{const l=()=>{!0===e()?t().next(()=>{l()},i):r()};l()})}}class zD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new mi,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Hv(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=QM(r.target.error);this.R.reject(new Hv(e,i))}}static open(e,t,r,i){try{return new zD(t,e.transaction(i,r))}catch(l){throw new Hv(t,l)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Cj(t)}}class Al{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Al.S((0,Yt.z$)())&&jr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Yt.hl)())return!1;if(Al.C())return!0;const e=(0,Yt.z$)(),t=Al.S(e),r=0<t&&t<10,i=Al.N(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static O(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,pe.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=c=>{r(c.target.result)},l.onblocked=()=>{i(new Hv(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=c=>{const p=c.target.error;i("VersionError"===p.name?new Ne(ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===p.name?new Ne(ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+p):new Hv(e,p))},l.onupgradeneeded=c=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.M(c.target.result,l.transaction,c.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,pe.Z)(function*(){const c="readonly"===t;let p=0;for(;;){++p;try{l.db=yield l.$(e);const _=zD.open(l.db,e,c?"readonly":"readwrite",r),T=i(_).next(D=>(_.P(),D)).catch(D=>(_.abort(D),oe.reject(D))).toPromise();return T.catch(()=>{}),yield _.v,T}catch(_){const T=_,D="FirebaseError"!==T.name&&p<3;if(Pe("SimpleDb","Transaction failed with error:",T.message,"Retrying:",D),l.close(),!D)return Promise.reject(T)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Sj{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return $p(this.L.delete())}}class Hv extends Ne{constructor(e,t){super(ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ah(n){return"IndexedDbTransactionError"===n.name}class Cj{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$p(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}get(e){return $p(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),$p(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),l=[];return this.W(i,(c,p)=>{l.push(p)}).next(()=>l)}{const i=this.store.getAll(r.range);return new oe((l,c)=>{i.onerror=p=>{c(p.target.error)},i.onsuccess=p=>{l(p.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((i,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(l,c,p)=>p.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}X(e){const t=this.cursor({});return new oe((r,i)=>{t.onerror=l=>{const c=QM(l.target.error);i(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next(p=>{p?c.continue():r()}):r()}})}W(e,t){const r=[];return new oe((i,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const p=c.target.result;if(!p)return void i();const _=new Sj(p),T=t(p.primaryKey,p.value,_);if(T instanceof oe){const D=T.catch(M=>(_.done(),oe.reject(M)));r.push(D)}_.isDone?i():null===_.K?p.continue():p.continue(_.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $p(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=QM(r.target.error);t(i)}})}let PF=!1;function QM(n){const e=Al.S((0,Yt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return PF||(PF=!0,setTimeout(()=>{throw r},0)),r}}return n}class Ij{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Pe("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{Pe("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ah(r)?Pe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ih(r)}yield t.et(6e4)}))}}class Aj{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,l=!0;return oe.doWhile(()=>!0===l&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Pe("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(p=>{i-=p,r.add(c)});l=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,l)).next(p=>(Pe("IndexBackiller",`Updating offset: ${p}`),this.localStore.indexManager.updateCollectionGroup(e,t,p))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,l)=>{const c=NF(l);KM(c,r)>0&&(r=c)}),new Bo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Uo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function jv(n){return null==n}function $v(n){return 0===n&&1/n==-1/0}function xF(n){return"number"==typeof n&&Number.isInteger(n)&&!$v(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Rs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=kF(e)),e=Mj(n.get(t),e);return kF(e)}function Mj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function kF(n){return n+"\x01\x01"}function xu(n){const e=n.length;if(Et(e>=2),2===e)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),fn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const c=n.indexOf("\x01",l);switch((c<0||c>t)&&ft(),n.charAt(c+1)){case"\x01":const p=n.substring(l,c);let _;0===i.length?_=p:(i+=p,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(l,c),i+="\0";break;case"\x11":i+=n.substring(l,c+1);break;default:ft()}l=c+2}return new fn(r)}const FF=["userId","batchId"];function WD(n,e){return[n,Rs(e)]}function LF(n,e,t){return[n,Rs(e),t]}const Nj={},Oj=["prefixPath","collectionGroup","readTime","documentId"],Rj=["prefixPath","collectionGroup","documentId"],Pj=["collectionGroup","readTime","prefixPath","documentId"],xj=["canonicalId","targetId"],kj=["targetId","path"],Fj=["path","targetId"],Lj=["collectionId","parent"],Bj=["indexId","uid"],Uj=["uid","sequenceNumber"],Vj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Gj=["indexId","uid","orderedDocumentKey"],Hj=["userId","collectionPath","documentId"],jj=["userId","collectionPath","largestBatchId"],$j=["userId","collectionGroup","largestBatchId"],BF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],zj=[...BF,"documentOverlays"],UF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],VF=UF,Wj=[...VF,"indexConfiguration","indexState","indexEntries"];class JM extends RF{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function ki(n,e){const t=tt(n);return Al.O(t.at,e)}function GF(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function HF(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Nr{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ZD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ZD(this.root,e,this.comparator,!1)}getReverseIterator(){return new ZD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ZD(this.root,e,this.comparator,!0)}}class ZD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=l??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Ki(e??this.key,t??this.value,r??this.color,i??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const e=this.left.check();if(e!==this.right.check())throw ft();return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Ki(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jF(this.data.getIterator())}getIteratorFrom(e){return new jF(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class jF{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function w_(n){return n.hasNext()?n.getNext():void 0}class uo{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new uo([])}unionWith(e){let t=new Bn(Mr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return T_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Zj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class _i{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Zj("Invalid base64 string: "+i):i}}(e);return new _i(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new _i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const Kj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mh(n){if(Et(!!n),"string"==typeof n){let e=0;const t=Kj.exec(n);if(Et(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wp(n){return"string"==typeof n?_i.fromBase64String(n):_i.fromUint8Array(n)}function XM(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $F(n){const e=n.mapValue.fields.__previous_value__;return XM(e)?$F(e):e}function zv(n){const e=Mh(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}class Yj{constructor(e,t,r,i,l,c,p,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=p,this.useFetchStreams=_}}class Nh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Nh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Nh&&e.projectId===this.projectId&&e.database===this.database}}const Oh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},qD={nullValue:"NULL_VALUE"};function Zp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?XM(n)?4:qF(n)?9007199254740991:10:ft()}function ku(n,e){if(n===e)return!0;const t=Zp(n);if(t!==Zp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zv(n).isEqual(zv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=Mh(r.timestampValue),c=Mh(i.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wp(n.bytesValue).isEqual(Wp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Or(r.geoPointValue.latitude)===Or(i.geoPointValue.latitude)&&Or(r.geoPointValue.longitude)===Or(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Or(r.integerValue)===Or(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=Or(r.doubleValue),c=Or(i.doubleValue);return l===c?$v(l)===$v(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return T_(n.arrayValue.values||[],e.arrayValue.values||[],ku);case 10:return function(r,i){const l=r.mapValue.fields||{},c=i.mapValue.fields||{};if(GF(l)!==GF(c))return!1;for(const p in l)if(l.hasOwnProperty(p)&&(void 0===c[p]||!ku(l[p],c[p])))return!1;return!0}(n,e);default:return ft()}var i}function Wv(n,e){return void 0!==(n.values||[]).find(t=>ku(t,e))}function Rh(n,e){if(n===e)return 0;const t=Zp(n),r=Zp(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const c=Or(i.integerValue||i.doubleValue),p=Or(l.integerValue||l.doubleValue);return c<p?-1:c>p?1:c===p?0:isNaN(c)?isNaN(p)?0:-1:1}(n,e);case 3:return zF(n.timestampValue,e.timestampValue);case 4:return zF(zv(n),zv(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,l){const c=Wp(i),p=Wp(l);return c.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const c=i.split("/"),p=l.split("/");for(let _=0;_<c.length&&_<p.length;_++){const T=Zt(c[_],p[_]);if(0!==T)return T}return Zt(c.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const c=Zt(Or(i.latitude),Or(l.latitude));return 0!==c?c:Zt(Or(i.longitude),Or(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const c=i.values||[],p=l.values||[];for(let _=0;_<c.length&&_<p.length;++_){const T=Rh(c[_],p[_]);if(T)return T}return Zt(c.length,p.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){if(i===Oh.mapValue&&l===Oh.mapValue)return 0;if(i===Oh.mapValue)return 1;if(l===Oh.mapValue)return-1;const c=i.fields||{},p=Object.keys(c),_=l.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let D=0;D<p.length&&D<T.length;++D){const M=Zt(p[D],T[D]);if(0!==M)return M;const P=Rh(c[p[D]],_[T[D]]);if(0!==P)return P}return Zt(p.length,T.length)}(n.mapValue,e.mapValue);default:throw ft()}}function zF(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Mh(n),r=Mh(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function D_(n){return eN(n)}function eN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Mh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wp(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const c of r.values||[])l?l=!1:i+=",",i+=eN(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",c=!0;for(const p of i)c?c=!1:l+=",",l+=`${p}:${eN(r.fields[p])}`;return l+"}"}(n.mapValue):ft();var e}function qp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tN(n){return!!n&&"integerValue"in n}function Zv(n){return!!n&&"arrayValue"in n}function WF(n){return!!n&&"nullValue"in n}function ZF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function KD(n){return!!n&&"mapValue"in n}function qv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qF(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function Qj(n){return"nullValue"in n?qD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qp(Nh.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function Jj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qp(Nh.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Oh:ft()}function KF(n,e){const t=Rh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function YF(n,e){const t=Rh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Fi{constructor(e){this.value=e}static empty(){return new Fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!KD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qv(t)}setAll(e){let t=Mr.emptyPath(),r={},i=[];e.forEach((c,p)=>{if(!t.isImmediateParentOf(p)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=p.popLast()}c?r[p.lastSegment()]=qv(c):i.push(p.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());KD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ku(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];KD(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){zp(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new Fi(qv(this.value))}}function QF(n){const e=[];return zp(n.fields,(t,r)=>{const i=new Mr([t]);if(KD(r)){const l=QF(r.mapValue).fields;if(0===l.length)e.push(i);else for(const c of l)e.push(i.child(c))}else e.push(i)}),new uo(e)}class tr{constructor(e,t,r,i,l,c,p){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=l,this.data=c,this.documentState=p}static newInvalidDocument(e){return new tr(e,0,It.min(),It.min(),It.min(),Fi.empty(),0)}static newFoundDocument(e,t,r,i){return new tr(e,1,t,It.min(),r,i,0)}static newNoDocument(e,t){return new tr(e,2,t,It.min(),It.min(),Fi.empty(),0)}static newUnknownDocument(e,t){return new tr(e,3,t,It.min(),It.min(),Fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function JF(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],c=n.position[i];if(r=l.field.isKeyField()?Xe.comparator(Xe.fromName(c.referenceValue),t.key):Rh(c,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return r}function XF(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ku(n.position[t],e.position[t]))return!1;return!0}class E_{constructor(e,t="asc"){this.field=e,this.dir=t}}function Xj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class eL{}class un extends eL{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new e6(e,t,r):"array-contains"===t?new r6(e,r):"in"===t?new oL(e,r):"not-in"===t?new i6(e,r):"array-contains-any"===t?new s6(e,r):new un(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new t6(e,r):new n6(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rh(t,this.value)):null!==t&&Zp(this.value)===Zp(t)&&this.matchesComparison(Rh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ft()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends eL{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Rn(e,t)}matches(e){return S_(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function S_(n){return"and"===n.op}function nN(n){return"or"===n.op}function rN(n){return tL(n)&&S_(n)}function tL(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}function iN(n){if(n instanceof un)return n.field.canonicalString()+n.op.toString()+D_(n.value);if(rN(n))return n.filters.map(e=>iN(e)).join(",");{const e=n.filters.map(t=>iN(t)).join(",");return`${n.op}(${e})`}}function nL(n,e){return n instanceof un?(t=n,(r=e)instanceof un&&t.op===r.op&&t.field.isEqual(r.field)&&ku(t.value,r.value)):n instanceof Rn?function(t,r){return r instanceof Rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,l,c)=>i&&nL(l,r.filters[c]),!0)}(n,e):void ft();var t,r}function rL(n,e){const t=n.filters.concat(e);return Rn.create(t,n.op)}function iL(n){return n instanceof un?`${(e=n).field.canonicalString()} ${e.op} ${D_(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(iL).join(" ,")+"}"}(n):"Filter";var e}class e6 extends un{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class t6 extends un{constructor(e,t){super(e,"in",t),this.keys=sL(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class n6 extends un{constructor(e,t){super(e,"not-in",t),this.keys=sL(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function sL(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class r6 extends un{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Zv(t)&&Wv(t.arrayValue,this.value)}}class oL extends un{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wv(this.value.arrayValue,t)}}class i6 extends un{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wv(this.value.arrayValue,t)}}class s6 extends un{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Zv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wv(this.value.arrayValue,r))}}class o6{constructor(e,t=null,r=[],i=[],l=null,c=null,p=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=c,this.endAt=p,this.ft=null}}function sN(n,e=null,t=[],r=[],i=null,l=null,c=null){return new o6(n,e,t,r,i,l,c)}function Kp(n){const e=tt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>iN(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),jv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>D_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>D_(r)).join(",")),e.ft=t}return e.ft}function Kv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Xj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!nL(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!XF(n.startAt,e.startAt)&&XF(n.endAt,e.endAt)}function YD(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function QD(n,e){return n.filters.filter(t=>t instanceof un&&t.field.isEqual(e))}function aL(n,e,t){let r=qD,i=!0;for(const l of QD(n,e)){let c=qD,p=!0;switch(l.op){case"<":case"<=":c=Qj(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,p=!1;break;case"!=":case"not-in":c=qD}KF({value:r,inclusive:i},{value:c,inclusive:p})<0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];KF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function lL(n,e,t){let r=Oh,i=!0;for(const l of QD(n,e)){let c=Oh,p=!0;switch(l.op){case">=":case">":c=Jj(l.value),p=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,p=!1;break;case"!=":case"not-in":c=Oh}YF({value:r,inclusive:i},{value:c,inclusive:p})>0&&(r=c,i=p)}if(null!==t)for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(e)){const c=t.position[l];YF({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class rd{constructor(e,t=null,r=[],i=[],l=null,c="F",p=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=c,this.startAt=p,this.endAt=_,this.dt=null,this.wt=null}}function uL(n,e,t,r,i,l,c,p){return new rd(n,e,t,r,i,l,c,p)}function C_(n){return new rd(n)}function cL(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function oN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function JD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function aN(n){return null!==n.collectionGroup}function Yp(n){const e=tt(n);if(null===e.dt){e.dt=[];const t=JD(e),r=oN(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new E_(t)),e.dt.push(new E_(Mr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.dt.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new E_(Mr.keyField(),l))}}}return e.dt}function Ps(n){const e=tt(n);if(!e.wt)if("F"===e.limitType)e.wt=sN(e.path,e.collectionGroup,Yp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Yp(e))t.push(new E_(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Ph(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ph(e.startAt.position,e.startAt.inclusive):null;e.wt=sN(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function lN(n,e){e.getFirstInequalityField(),JD(n);const t=n.filters.concat([e]);return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function XD(n,e,t){return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Yv(n,e){return Kv(Ps(n),Ps(e))&&n.limitType===e.limitType}function dL(n){return`${Kp(Ps(n))}|lt:${n.limitType}`}function uN(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>iL(r)).join(", ")}]`),jv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>D_(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>D_(r)).join(",")),`Target(${t})`}(Ps(n))}; limitType=${n.limitType})`}function Qv(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Yp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,l,c){const p=JF(i,l,c);return i.inclusive?p<=0:p<0}(t.startAt,Yp(t),r)||t.endAt&&!function(i,l,c){const p=JF(i,l,c);return i.inclusive?p>=0:p>0}(t.endAt,Yp(t),r)));var t,r}function hL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fL(n){return(e,t)=>{let r=!1;for(const i of Yp(n)){const l=a6(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function a6(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,l,c){const p=l.data.field(i),_=c.data.field(i);return null!==p&&null!==_?Rh(p,_):ft()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ft()}}class xh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zp(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return HF(this.inner)}size(){return this.innerSize}}const l6=new Nr(Xe.comparator);function co(){return l6}const pL=new Nr(Xe.comparator);function Jv(...n){let e=pL;for(const t of n)e=e.insert(t.key,t);return e}function gL(n){let e=pL;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fu(){return Xv()}function mL(){return Xv()}function Xv(){return new xh(n=>n.toString(),(n,e)=>n.isEqual(e))}const u6=new Nr(Xe.comparator),c6=new Bn(Xe.comparator);function Xt(...n){let e=c6;for(const t of n)e=e.add(t);return e}const d6=new Bn(Zt);function eE(){return d6}function _L(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$v(e)?"-0":e}}function yL(n){return{integerValue:""+n}}function vL(n,e){return xF(e)?yL(e):_L(n,e)}class tE{constructor(){this._=void 0}}function h6(n,e,t){return n instanceof I_?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Qp?TL(n,e):n instanceof Jp?wL(n,e):function(r,i){const l=bL(r,i),c=DL(l)+DL(r._t);return tN(l)&&tN(r._t)?yL(c):_L(r.serializer,c)}(n,e)}function f6(n,e,t){return n instanceof Qp?TL(n,e):n instanceof Jp?wL(n,e):t}function bL(n,e){return n instanceof A_?tN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class I_ extends tE{}class Qp extends tE{constructor(e){super(),this.elements=e}}function TL(n,e){const t=EL(e);for(const r of n.elements)t.some(i=>ku(i,r))||t.push(r);return{arrayValue:{values:t}}}class Jp extends tE{constructor(e){super(),this.elements=e}}function wL(n,e){let t=EL(e);for(const r of n.elements)t=t.filter(i=>!ku(i,r));return{arrayValue:{values:t}}}class A_ extends tE{constructor(e,t){super(),this.serializer=e,this._t=t}}function DL(n){return Or(n.integerValue||n.doubleValue)}function EL(n){return Zv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class eb{constructor(e,t){this.field=e,this.transform=t}}class g6{constructor(e,t){this.version=e,this.transformResults=t}}class mr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class rE{}function SL(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new N_(n.key,mr.none()):new M_(n.key,n.data,mr.none());{const t=n.data,r=Fi.empty();let i=new Bn(Mr.comparator);for(let l of e.fields)if(!i.has(l)){let c=t.field(l);null===c&&l.length>1&&(l=l.popLast(),c=t.field(l)),null===c?r.delete(l):r.set(l,c),i=i.add(l)}return new id(n.key,r,new uo(i.toArray()),mr.none())}}function m6(n,e,t){n instanceof M_?function(r,i,l){const c=r.value.clone(),p=AL(r.fieldTransforms,i,l.transformResults);c.setAll(p),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof id?function(r,i,l){if(!nE(r.precondition,i))return void i.convertToUnknownDocument(l.version);const c=AL(r.fieldTransforms,i,l.transformResults),p=i.data;p.setAll(IL(r)),p.setAll(c),i.convertToFoundDocument(l.version,p).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tb(n,e,t,r){return n instanceof M_?function(i,l,c,p){if(!nE(i.precondition,l))return c;const _=i.value.clone(),T=ML(i.fieldTransforms,p,l);return _.setAll(T),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof id?function(i,l,c,p){if(!nE(i.precondition,l))return c;const _=ML(i.fieldTransforms,p,l),T=l.data;return T.setAll(IL(i)),T.setAll(_),l.convertToFoundDocument(l.version,T).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(D=>D.field))}(n,e,t,r):(c=t,nE(n.precondition,l=e)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c);var l,c}function _6(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=bL(r.transform,i||null);null!=l&&(null===t&&(t=Fi.empty()),t.set(r.field,l))}return t||null}function CL(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&T_(t,r,(i,l)=>function p6(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Qp&&r instanceof Qp||t instanceof Jp&&r instanceof Jp?T_(t.elements,r.elements,ku):t instanceof A_&&r instanceof A_?ku(t._t,r._t):t instanceof I_&&r instanceof I_);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class M_ extends rE{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class id extends rE{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function IL(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function AL(n,e,t){const r=new Map;Et(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],c=l.transform,p=e.data.field(l.field);r.set(l.field,f6(c,p,t[i]))}return r}function ML(n,e,t){const r=new Map;for(const i of n){const l=i.transform,c=t.data.field(i.field);r.set(i.field,h6(l,c,e))}return r}class N_ extends rE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cN extends rE{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dN{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&m6(l,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=tb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=tb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mL();return this.mutations.forEach(i=>{const l=e.get(i.key),c=l.overlayedDocument;let p=this.applyToLocalView(c,l.mutatedFields);p=t.has(i.key)?null:p;const _=SL(c,p);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(It.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Xt())}isEqual(e){return this.batchId===e.batchId&&T_(this.mutations,e.mutations,(t,r)=>CL(t,r))&&T_(this.baseMutations,e.baseMutations,(t,r)=>CL(t,r))}}class hN{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Et(e.mutations.length===r.length);let i=u6;const l=e.mutations;for(let c=0;c<l.length;c++)i=i.insert(l[c].key,r[c].version);return new hN(e,t,r,i)}}class fN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class b6{constructor(e){this.count=e}}var ni,pn;function NL(n){switch(n){default:return ft();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0}}function OL(n){if(void 0===n)return jr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case ni.OK:return ae.OK;case ni.CANCELLED:return ae.CANCELLED;case ni.UNKNOWN:return ae.UNKNOWN;case ni.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case ni.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case ni.INTERNAL:return ae.INTERNAL;case ni.UNAVAILABLE:return ae.UNAVAILABLE;case ni.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case ni.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case ni.NOT_FOUND:return ae.NOT_FOUND;case ni.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case ni.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case ni.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case ni.ABORTED:return ae.ABORTED;case ni.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case ni.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case ni.DATA_LOSS:return ae.DATA_LOSS;default:return ft()}}(pn=ni||(ni={}))[pn.OK=0]="OK",pn[pn.CANCELLED=1]="CANCELLED",pn[pn.UNKNOWN=2]="UNKNOWN",pn[pn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pn[pn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pn[pn.NOT_FOUND=5]="NOT_FOUND",pn[pn.ALREADY_EXISTS=6]="ALREADY_EXISTS",pn[pn.PERMISSION_DENIED=7]="PERMISSION_DENIED",pn[pn.UNAUTHENTICATED=16]="UNAUTHENTICATED",pn[pn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pn[pn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pn[pn.ABORTED=10]="ABORTED",pn[pn.OUT_OF_RANGE=11]="OUT_OF_RANGE",pn[pn.UNIMPLEMENTED=12]="UNIMPLEMENTED",pn[pn.INTERNAL=13]="INTERNAL",pn[pn.UNAVAILABLE=14]="UNAVAILABLE",pn[pn.DATA_LOSS=15]="DATA_LOSS";class gN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return iE}static getOrCreateInstance(){return null===iE&&(iE=new gN),iE}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let iE=null;class nb{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,rb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new nb(It.min(),i,eE(),co(),Xt())}}class rb{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new rb(r,t,Xt(),Xt(),Xt())}}class sE{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class RL{constructor(e,t){this.targetId=e,this.Et=t}}class PL{constructor(e,t,r=_i.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class xL{constructor(){this.At=0,this.Rt=FL(),this.vt=_i.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=Xt(),t=Xt(),r=Xt();return this.Rt.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ft()}}),new rb(this.vt,this.bt,e,t,r)}xt(){this.Pt=!1,this.Rt=FL()}Nt(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class T6{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=co(),this.qt=kL(),this.Ut=new Bn(Zt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}zt(e){this.forEachTarget(e,t=>{const r=this.jt(t);switch(e.state){case 0:this.Wt(t)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(t);break;case 3:this.Wt(t)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:ft()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.Wt(i)&&t(i)})}Jt(e){var t;const r=e.targetId,i=e.Et.count,l=this.Yt(r);if(l){const c=l.target;if(YD(c))if(0===i){const p=new Xe(c.path);this.Qt(r,p,tr.newNoDocument(p,It.min()))}else Et(1===i);else{const p=this.Zt(r);p!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(t=gN.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:p,existenceFilterCount:e.Et.count}))}}}Xt(e){const t=new Map;this.Bt.forEach((l,c)=>{const p=this.Yt(c);if(p){if(l.current&&YD(p.target)){const _=new Xe(p.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,tr.newNoDocument(_,e))}l.St&&(t.set(c,l.Ct()),l.xt())}});let r=Xt();this.qt.forEach((l,c)=>{let p=!0;c.forEachWhile(_=>{const T=this.Yt(_);return!T||2===T.purpose||(p=!1,!1)}),p&&(r=r.add(l))}),this.Lt.forEach((l,c)=>c.setReadTime(e));const i=new nb(e,t,this.Ut,this.Lt,r);return this.Lt=co(),this.qt=kL(),this.Ut=new Bn(Zt),i}Gt(e,t){if(!this.Wt(e))return;const r=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let t=this.Bt.get(e);return t||(t=new xL,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Bn(Zt),this.qt=this.qt.insert(e,t)),t}Wt(e){const t=null!==this.Yt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new xL),this.Ft.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}function kL(){return new Nr(Xe.comparator)}function FL(){return new Nr(Xe.comparator)}const w6={asc:"ASCENDING",desc:"DESCENDING"},D6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E6={and:"AND",or:"OR"};class S6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function O_(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LL(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function C6(n,e){return O_(n,e.toTimestamp())}function $r(n){return Et(!!n),It.fromTimestamp(function(e){const t=Mh(e);return new gr(t.seconds,t.nanos)}(n))}function mN(n,e){return(t=n,new fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function BL(n){const e=fn.fromString(n);return Et(ZL(e)),e}function ib(n,e){return mN(n.databaseId,e.path)}function Lu(n,e){const t=BL(e);if(t.get(1)!==n.databaseId.projectId)throw new Ne(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ne(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(VL(t))}function _N(n,e){return mN(n.databaseId,e)}function UL(n){const e=BL(n);return 4===e.length?fn.emptyPath():VL(e)}function sb(n){return new fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function VL(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function GL(n,e,t){return{name:ib(n,e),fields:t.value.mapValue.fields}}function HL(n,e,t){const r=Lu(n,e.name),i=$r(e.updateTime),l=e.createTime?$r(e.createTime):It.min(),c=new Fi({mapValue:{fields:e.fields}}),p=tr.newFoundDocument(r,i,l,c);return t&&p.setHasCommittedMutations(),t?p.setHasCommittedMutations():p}function ob(n,e){let t;if(e instanceof M_)t={update:GL(n,e.key,e.value)};else if(e instanceof N_)t={delete:ib(n,e.key)};else if(e instanceof id)t={update:GL(n,e.key,e.data),updateMask:x6(e.fieldMask)};else{if(!(e instanceof cN))return ft();t={verify:ib(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const c=l.transform;if(c instanceof I_)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Qp)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Jp)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof A_)return{fieldPath:l.field.canonicalString(),increment:c._t};throw ft()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:C6(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:ft()),t;var i}function yN(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?mr.updateTime($r(i.updateTime)):void 0!==i.exists?mr.exists(i.exists):mr.none():mr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,c){let p=null;"setToServerValue"in c?(Et("REQUEST_TIME"===c.setToServerValue),p=new I_):"appendMissingElements"in c?p=new Qp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?p=new Jp(c.removeAllFromArray.values||[]):"increment"in c?p=new A_(l,c.increment):ft();const _=Mr.fromServerFormat(c.fieldPath);return new eb(_,p)}(n,i)):[];var i;if(e.update){const i=Lu(n,e.update.name),l=new Fi({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new uo((e.updateMask.fieldPaths||[]).map(T=>Mr.fromServerFormat(T)));return new id(i,l,c,t,r)}return new M_(i,l,t,r)}if(e.delete){const i=Lu(n,e.delete);return new N_(i,t)}if(e.verify){const i=Lu(n,e.verify);return new cN(i,t)}return ft()}function jL(n,e){return{documents:[_N(n,e.path)]}}function vN(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=_N(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=_N(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return WL(Rn.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const l=function(_){if(0!==_.length)return _.map(T=>{return{field:kh((D=T).field),direction:O6(D.dir)};var D})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=(T=e.limit,n.useProto3Json||jv(T)?T:{value:T});var T,p,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(p=e.startAt).inclusive,values:p.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function $L(n){let e=UL(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Et(1===r);const D=t.from[0];D.allDescendants?i=D.collectionId:e=e.child(D.collectionId)}let l=[];t.where&&(l=function(D){const M=zL(D);return M instanceof Rn&&rN(M)?M.getFilters():[M]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(D=>{return new E_(R_((M=D).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let p=null;t.limit&&(p=function(D){let M;return M="object"==typeof D?D.value:D,jv(M)?null:M}(t.limit));let _=null;var D;t.startAt&&(_=new Ph((D=t.startAt).values||[],!!D.before));let T=null;return t.endAt&&(T=function(D){return new Ph(D.values||[],!D.before)}(t.endAt)),uL(e,i,c,l,p,"F",_,T)}function zL(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=R_(e.unaryFilter.field);return un.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=R_(e.unaryFilter.field);return un.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=R_(e.unaryFilter.field);return un.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=R_(e.unaryFilter.field);return un.create(l,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}(n):void 0!==n.fieldFilter?un.create(R_((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(t=>zL(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ft()}}(e.compositeFilter.op))}(n):ft();var e}function O6(n){return w6[n]}function R6(n){return D6[n]}function P6(n){return E6[n]}function kh(n){return{fieldPath:n.canonicalString()}}function R_(n){return Mr.fromServerFormat(n.fieldPath)}function WL(n){return n instanceof un?function(e){if("=="===e.op){if(ZF(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NAN"}};if(WF(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ZF(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NAN"}};if(WF(e.value))return{unaryFilter:{field:kh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kh(e.field),op:R6(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const t=e.getFilters().map(r=>WL(r));return 1===t.length?t[0]:{compositeFilter:{op:P6(e.op),filters:t}}}(n):ft()}function x6(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function ZL(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Fh{constructor(e,t,r,i,l=It.min(),c=It.min(),p=_i.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=p}withSequenceNumber(e){return new Fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class qL{constructor(e){this.se=e}}function KL(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:oE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:ib(i=n.se,(l=e).key),fields:l.data.value.mapValue.fields,updateTime:O_(i,l.version.toTimestamp()),createTime:O_(i,l.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Xp(e.version)};else{if(!e.isUnknownDocument())return ft();r.unknownDocument={path:t.path.toArray(),version:Xp(e.version)}}var i,l;return r}function oE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Xp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function eg(n){const e=new gr(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function tg(n,e){const t=(e.baseMutations||[]).map(l=>yN(n.se,l));for(let l=0;l<e.mutations.length-1;++l)l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(e.mutations[l].updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l);const r=e.mutations.map(l=>yN(n.se,l)),i=gr.fromMillis(e.localWriteTimeMs);return new dN(e.batchId,i,t,r)}function ab(n){const e=eg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?eg(n.lastLimboFreeSnapshotVersion):It.min();let r;var i;return void 0!==n.query.documents?(Et(1===(i=n.query).documents.length),r=Ps(C_(UL(i.documents[0])))):r=Ps($L(n.query)),new Fh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,_i.fromBase64String(n.resumeToken))}function YL(n,e){const t=Xp(e.snapshotVersion),r=Xp(e.lastLimboFreeSnapshotVersion);let i;i=YD(e.target)?jL(n.se,e.target):vN(n.se,e.target);const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Kp(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function bN(n){const e=$L({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?XD(e,e.limit,"L"):e}function TN(n,e){return new fN(e.largestBatchId,yN(n.se,e.overlayMutation))}function QL(n,e){const t=e.path.lastSegment();return[n,Rs(e.path.popLast()),t]}function JL(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Xp(r.readTime),documentKey:Rs(r.documentKey.path),largestBatchId:r.largestBatchId}}class F6{getBundleMetadata(e,t){return XL(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:eg(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return XL(e).put({bundleId:(r=t).id,createTime:Xp($r(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return e2(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:bN(i.bundledQuery),readTime:eg(i.readTime)};var i})}saveNamedQuery(e,t){return e2(e).put({name:(r=t).name,readTime:Xp($r(r.readTime)),bundledQuery:r.bundledQuery});var r}}function XL(n){return ki(n,"bundles")}function e2(n){return ki(n,"namedQueries")}class aE{constructor(e,t){this.serializer=e,this.userId=t}static ie(e,t){return new aE(e,t.uid||"")}getOverlay(e,t){return lb(e).get(QL(this.userId,t)).next(r=>r?TN(this.serializer,r):null)}getOverlays(e,t){const r=Fu();return oe.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((l,c)=>{const p=new fN(t,c);i.push(this.re(e,p))}),oe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Rs(c.getCollectionPath())));const l=[];return i.forEach(c=>{const p=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(lb(e).J("collectionPathOverlayIndex",p))}),oe.waitFor(l)}getOverlaysForCollection(e,t,r){const i=Fu(),l=Rs(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return lb(e).j("collectionPathOverlayIndex",c).next(p=>{for(const _ of p){const T=TN(this.serializer,_);i.set(T.getKey(),T)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const l=Fu();let c;const p=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return lb(e).Z({index:"collectionGroupOverlayIndex",range:p},(_,T,D)=>{const M=TN(this.serializer,T);l.size()<i||M.largestBatchId===c?(l.set(M.getKey(),M),c=M.largestBatchId):D.done()}).next(()=>l)}re(e,t){return lb(e).put(function(r,i,l){const[c,p,_]=QL(i,l.mutation.key);return{userId:i,collectionPath:p,documentId:_,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:ob(r.se,l.mutation)}}(this.serializer,this.userId,t))}}function lb(n){return ki(n,"documentOverlays")}class ng{constructor(){}oe(e,t){this.ue(e,t),t.ce()}ue(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(Or(e.integerValue));else if("doubleValue"in e){const r=Or(e.doubleValue);isNaN(r)?this.ae(t,13):(this.ae(t,15),$v(r)?t.he(0):t.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le(`${r.seconds||""}`),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(Wp(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(t,45),t.he(r.latitude||0),t.he(r.longitude||0)}else"mapValue"in e?qF(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):ft()}fe(e,t){this.ae(t,25),this.ye(e,t)}ye(e,t){t.le(e)}me(e,t){const r=e.fields||{};this.ae(t,55);for(const i of Object.keys(r))this.fe(i,t),this.ue(r[i],t)}ge(e,t){const r=e.values||[];this.ae(t,50);for(const i of r)this.ue(i,t)}_e(e,t){this.ae(t,37),Xe.fromName(e).path.forEach(r=>{this.ae(t,60),this.ye(r,t)})}ae(e,t){e.he(t)}de(e){e.he(2)}}function L6(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function t2(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const l=L6(255&t[i]);if(r+=l,8!==l)break}return r}(n);return Math.ceil(e/8)}ng.pe=new ng;class B6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ie(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Te(r.value),r=t.next();this.Ee()}Ae(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.ve()}be(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Te(r);else if(r<2048)this.Te(960|r>>>6),this.Te(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Te(480|r>>>12),this.Te(128|63&r>>>6),this.Te(128|63&r);else{const i=t.codePointAt(0);this.Te(240|i>>>18),this.Te(128|63&i>>>12),this.Te(128|63&i>>>6),this.Te(128|63&i)}}this.Ee()}Pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{const i=t.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.ve()}Ve(e){const t=this.Se(e),r=t2(t);this.De(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ce(e){const t=this.Se(e),r=t2(t);this.De(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}xe(){this.Ne(255),this.Ne(255)}ke(){this.Oe(255),this.Oe(255)}reset(){this.position=0}seed(e){this.De(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Se(e){const t=function(i){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,i,!1),new Uint8Array(l.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Te(e){const t=255&e;0===t?(this.Ne(0),this.Ne(255)):255===t?(this.Ne(255),this.Ne(0)):this.Ne(t)}Re(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(e)}Ee(){this.Ne(0),this.Ne(1)}ve(){this.Oe(0),this.Oe(1)}Ne(e){this.De(1),this.buffer[this.position++]=e}Oe(e){this.De(1),this.buffer[this.position++]=~e}De(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class U6{constructor(e){this.Me=e}we(e){this.Me.Ie(e)}le(e){this.Me.be(e)}he(e){this.Me.Ve(e)}ce(){this.Me.xe()}}class V6{constructor(e){this.Me=e}we(e){this.Me.Ae(e)}le(e){this.Me.Pe(e)}he(e){this.Me.Ce(e)}ce(){this.Me.ke()}}class ub{constructor(){this.Me=new B6,this.Fe=new U6(this.Me),this.Be=new V6(this.Me)}seed(e){this.Me.seed(e)}Le(e){return 0===e?this.Fe:this.Be}$e(){return this.Me.$e()}reset(){this.Me.reset()}}class rg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}qe(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new rg(this.indexId,this.documentKey,this.arrayValue,r)}}function Lh(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=n2(n.arrayValue,e.arrayValue),0!==t?t:(t=n2(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function n2(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class G6{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.Ke=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ge=r:this.Ke.push(r)}}Qe(e){Et(e.collectionGroup===this.collectionId);const t=qM(e);if(void 0!==t&&!this.ze(t))return!1;const r=jp(e);let i=0,l=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ge){const c=r[i];if(!this.je(this.Ge,c)||!this.We(this.Ue[l++],c))return!1;++i}for(;i<r.length;++i)if(l>=this.Ue.length||!this.We(this.Ue[l++],r[i]))return!1;return!0}ze(e){for(const t of this.Ke)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function r2(n){var e,t;if(Et(n instanceof un||n instanceof Rn),n instanceof un){if(n instanceof oL){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(l=>un.create(n.field,"==",l)))||[];return Rn.create(i,"or")}return n}const r=n.filters.map(i=>r2(i));return Rn.create(r,n.op)}function H6(n){if(0===n.getFilters().length)return[];const e=EN(r2(n));return Et(i2(e)),wN(e)||DN(e)?[e]:e.getFilters()}function wN(n){return n instanceof un}function DN(n){return n instanceof Rn&&rN(n)}function i2(n){return wN(n)||DN(n)||function(e){if(e instanceof Rn&&nN(e)){for(const t of e.getFilters())if(!wN(t)&&!DN(t))return!1;return!0}return!1}(n)}function EN(n){if(Et(n instanceof un||n instanceof Rn),n instanceof un)return n;if(1===n.filters.length)return EN(n.filters[0]);const e=n.filters.map(r=>EN(r));let t=Rn.create(e,n.op);return t=lE(t),i2(t)?t:(Et(t instanceof Rn),Et(S_(t)),Et(t.filters.length>1),t.filters.reduce((r,i)=>SN(r,i)))}function SN(n,e){let t;return Et(n instanceof un||n instanceof Rn),Et(e instanceof un||e instanceof Rn),t=n instanceof un?e instanceof un?Rn.create([n,e],"and"):s2(n,e):e instanceof un?s2(e,n):function(r,i){if(Et(r.filters.length>0&&i.filters.length>0),S_(r)&&S_(i))return rL(r,i.getFilters());const l=nN(r)?r:i,c=nN(r)?i:r,p=l.filters.map(_=>SN(_,c));return Rn.create(p,"or")}(n,e),lE(t)}function s2(n,e){if(S_(e))return rL(e,n.getFilters());{const t=e.filters.map(r=>SN(n,r));return Rn.create(t,"or")}}function lE(n){if(Et(n instanceof un||n instanceof Rn),n instanceof un)return n;const e=n.getFilters();if(1===e.length)return lE(e[0]);if(tL(n))return n;const t=e.map(i=>lE(i)),r=[];return t.forEach(i=>{i instanceof un?r.push(i):i instanceof Rn&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Rn.create(r,n.op)}class j6{constructor(){this.He=new CN}addToCollectionParentIndex(e,t){return this.He.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.He.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(Bo.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class CN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bn(fn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bn(fn.comparator)).toArray()}}const uE=new Uint8Array(0);class $6{constructor(e,t){this.user=e,this.databaseId=t,this.Je=new CN,this.Ye=new xh(r=>Kp(r),(r,i)=>Kv(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Je.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Je.add(t)});const l={collectionId:r,parent:Rs(i)};return o2(e).put(l)}return oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[AF(t),""],!1,!0);return o2(e).j(i).next(l=>{for(const c of l){if(c.collectionId!==t)break;r.push(xu(c.parent))}return r})}addFieldIndex(e,t){const r=cE(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(p=>[p.fieldPath.canonicalString(),p.kind])};var c;delete i.indexId;const l=r.add(i);if(t.indexState){const c=db(e);return l.next(p=>{c.put(JL(p,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return l.next()}deleteFieldIndex(e,t){const r=cE(e),i=db(e),l=cb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=cb(e);let i=!0;const l=new Map;return oe.forEach(this.Ze(t),c=>this.Xe(e,c).next(p=>{i&&(i=!!p),l.set(c,p)})).next(()=>{if(i){let c=Xt();const p=[];return oe.forEach(l,(_,T)=>{var D;Pe("IndexedDbIndexManager",`Using index ${D=_,`id=${D.indexId}|cg=${D.collectionGroup}|f=${D.fields.map(Ge=>`${Ge.fieldPath}:${Ge.kind}`).join(",")}`} to execute ${Kp(t)}`);const M=function(Ge,Ue){const Ke=qM(Ue);if(void 0===Ke)return null;for(const lt of QD(Ge,Ke.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null}(T,_),P=function(Ge,Ue){const Ke=new Map;for(const lt of jp(Ue))for(const zt of QD(Ge,lt.fieldPath))switch(zt.op){case"==":case"in":Ke.set(lt.fieldPath.canonicalString(),zt.value);break;case"not-in":case"!=":return Ke.set(lt.fieldPath.canonicalString(),zt.value),Array.from(Ke.values())}return null}(T,_),L=function(Ge,Ue){const Ke=[];let lt=!0;for(const zt of jp(Ue)){const Qt=0===zt.kind?aL(Ge,zt.fieldPath,Ge.startAt):lL(Ge,zt.fieldPath,Ge.startAt);Ke.push(Qt.value),lt&&(lt=Qt.inclusive)}return new Ph(Ke,lt)}(T,_),K=function(Ge,Ue){const Ke=[];let lt=!0;for(const zt of jp(Ue)){const Qt=0===zt.kind?lL(Ge,zt.fieldPath,Ge.endAt):aL(Ge,zt.fieldPath,Ge.endAt);Ke.push(Qt.value),lt&&(lt=Qt.inclusive)}return new Ph(Ke,lt)}(T,_),J=this.tn(_,T,L),re=this.tn(_,T,K),Be=this.en(_,T,P),ze=this.nn(_.indexId,M,J,L.inclusive,re,K.inclusive,Be);return oe.forEach(ze,Ge=>r.H(Ge,t.limit).next(Ue=>{Ue.forEach(Ke=>{const lt=Xe.fromSegments(Ke.documentKey);c.has(lt)||(c=c.add(lt),p.push(lt))})}))}).next(()=>p)}return oe.resolve(null)})}Ze(e){let t=this.Ye.get(e);return t||(t=0===e.filters.length?[e]:H6(Rn.create(e.filters,"and")).map(r=>sN(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Ye.set(e,t),t)}nn(e,t,r,i,l,c,p){const _=(null!=t?t.length:1)*Math.max(r.length,l.length),T=_/(null!=t?t.length:1),D=[];for(let M=0;M<_;++M){const P=t?this.sn(t[M/T]):uE,L=this.rn(e,P,r[M%T],i),K=this.on(e,P,l[M%T],c),J=p.map(re=>this.rn(e,P,re,!0));D.push(...this.createRange(L,K,J))}return D}rn(e,t,r,i){const l=new rg(e,Xe.empty(),t,r);return i?l:l.qe()}on(e,t,r,i){const l=new rg(e,Xe.empty(),t,r);return i?l.qe():l}Xe(e,t){const r=new G6(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(l=>{let c=null;for(const p of l)r.Qe(p)&&(!c||p.fields.length>c.fields.length)&&(c=p);return c})}getIndexType(e,t){let r=2;const i=this.Ze(t);return oe.forEach(i,l=>this.Xe(e,l).next(c=>{c?0!==r&&c.fields.length<function(p){let _=new Bn(Mr.comparator),T=!1;for(const D of p.filters)for(const M of D.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?T=!0:_=_.add(M.field));for(const D of p.orderBy)D.field.isKeyField()||(_=_.add(D.field));return _.size+(T?1:0)}(l)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}un(e,t){const r=new ub;for(const i of jp(e)){const l=t.data.field(i.fieldPath);if(null==l)return null;const c=r.Le(i.kind);ng.pe.oe(l,c)}return r.$e()}sn(e){const t=new ub;return ng.pe.oe(e,t.Le(0)),t.$e()}cn(e,t){const r=new ub;return ng.pe.oe(qp(this.databaseId,t),r.Le(function(i){const l=jp(i);return 0===l.length?0:l[l.length-1].kind}(e))),r.$e()}en(e,t,r){if(null===r)return[];let i=[];i.push(new ub);let l=0;for(const c of jp(e)){const p=r[l++];for(const _ of i)if(this.an(t,c.fieldPath)&&Zv(p))i=this.hn(i,c,p);else{const T=_.Le(c.kind);ng.pe.oe(p,T)}}return this.ln(i)}tn(e,t,r){return this.en(e,t,r.position)}ln(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}hn(e,t,r){const i=[...e],l=[];for(const c of r.arrayValue.values||[])for(const p of i){const _=new ub;_.seed(p.$e()),ng.pe.oe(c,_.Le(t.kind)),l.push(_)}return l}an(e,t){return!!e.filters.find(r=>r instanceof un&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=cE(e),i=db(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(l=>{const c=[];return oe.forEach(l,p=>i.get([p.indexId,this.uid]).next(_=>{c.push(function(T,D){const M=D?new Gv(D.sequenceNumber,new Bo(eg(D.readTime),new Xe(xu(D.documentKey)),D.largestBatchId)):Gv.empty(),P=T.fields.map(([L,K])=>new $D(Mr.fromServerFormat(L),K));return new jD(T.indexId,T.collectionGroup,P,M)}(p,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const l=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==l?l:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=cE(e),l=db(e);return this.fn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(p=>oe.forEach(p,_=>l.put(JL(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(i,l)=>{const c=r.get(i.collectionGroup);return(c?oe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(p=>(r.set(i.collectionGroup,p),oe.forEach(p,_=>this.dn(e,i,_).next(T=>{const D=this.wn(l,_);return T.isEqual(D)?oe.resolve():this._n(e,l,_,T,D)}))))})}mn(e,t,r,i){return cb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.cn(r,t.key),documentKey:t.key.path.toArray()})}gn(e,t,r,i){return cb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.cn(r,t.key),t.key.path.toArray()])}dn(e,t,r){const i=cb(e);let l=new Bn(Lh);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.cn(r,t)])},(c,p)=>{l=l.add(new rg(r.indexId,t,p.arrayValue,p.directionalValue))}).next(()=>l)}wn(e,t){let r=new Bn(Lh);const i=this.un(t,e);if(null==i)return r;const l=qM(t);if(null!=l){const c=e.data.field(l.fieldPath);if(Zv(c))for(const p of c.arrayValue.values||[])r=r.add(new rg(t.indexId,e.key,this.sn(p),i))}else r=r.add(new rg(t.indexId,e.key,uE,i));return r}_n(e,t,r,i,l){Pe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(p,_,T,D,M){const P=p.getIterator(),L=_.getIterator();let K=w_(P),J=w_(L);for(;K||J;){let re=!1,Be=!1;if(K&&J){const ze=T(K,J);ze<0?Be=!0:ze>0&&(re=!0)}else null!=K?Be=!0:re=!0;re?(D(J),J=w_(L)):Be?(M(K),K=w_(P)):(K=w_(P),J=w_(L))}}(i,l,Lh,p=>{c.push(this.mn(e,t,r,p))},p=>{c.push(this.gn(e,t,r,p))}),oe.waitFor(c)}fn(e){let t=1;return db(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,l)=>{l.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,p)=>Lh(c,p)).filter((c,p,_)=>!p||0!==Lh(c,_[p-1]));const i=[];i.push(e);for(const c of r){const p=Lh(c,e),_=Lh(c,t);if(0===p)i[0]=e.qe();else if(p>0&&_<0)i.push(c),i.push(c.qe());else if(_>0)break}i.push(t);const l=[];for(let c=0;c<i.length;c+=2){if(this.yn(i[c],i[c+1]))return[];l.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,uE,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,uE,[]]))}return l}yn(e,t){return Lh(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(a2)}getMinOffset(e,t){return oe.mapArray(this.Ze(t),r=>this.Xe(e,r).next(i=>i||ft())).next(a2)}}function o2(n){return ki(n,"collectionParents")}function cb(n){return ki(n,"indexEntries")}function cE(n){return ki(n,"indexConfiguration")}function db(n){return ki(n,"indexState")}function a2(n){Et(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;KM(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Bo(e.readTime,e.documentKey,t)}const l2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function u2(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),l=[],c=IDBKeyRange.only(t.batchId);let p=0;const _=r.Z({range:c},(D,M,P)=>(p++,P.delete()));l.push(_.next(()=>{Et(1===p)}));const T=[];for(const D of t.mutations){const M=LF(e,D.key.path,t.batchId);l.push(i.delete(M)),T.push(D.key)}return oe.waitFor(l).next(()=>T)}function dE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ft();e=n.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class hE{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.pn={}}static ie(e,t,r,i){Et(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new hE(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).Z({index:"userMutationsIndex",range:r},(i,l,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=P_(e),c=Bh(e);return c.add({}).next(p=>{Et("number"==typeof p);const _=new dN(p,t,r,i),T=function(P,L,K){const J=K.baseMutations.map(Be=>ob(P.se,Be)),re=K.mutations.map(Be=>ob(P.se,Be));return{userId:L,batchId:K.batchId,localWriteTimeMs:K.localWriteTime.toMillis(),baseMutations:J,mutations:re}}(this.serializer,this.userId,_),D=[];let M=new Bn((P,L)=>Zt(P.canonicalString(),L.canonicalString()));for(const P of i){const L=LF(this.userId,P.key.path,p);M=M.add(P.key.path.popLast()),D.push(c.put(T)),D.push(l.put(L,Nj))}return M.forEach(P=>{D.push(this.indexManager.addToCollectionParentIndex(e,P))}),e.addOnCommittedListener(()=>{this.pn[p]=_.keys()}),oe.waitFor(D).next(()=>_)})}lookupMutationBatch(e,t){return Bh(e).get(t).next(r=>r?(Et(r.userId===this.userId),tg(this.serializer,r)):null)}In(e,t){return this.pn[t]?oe.resolve(this.pn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.pn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Bh(e).Z({index:"userMutationsIndex",range:i},(c,p,_)=>{p.userId===this.userId&&(Et(p.batchId>=r),l=tg(this.serializer,p)),_.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Bh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,l,c)=>{r=l.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Bh(e).j("userMutationsIndex",t).next(r=>r.map(i=>tg(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=WD(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return P_(e).Z({range:i},(c,p,_)=>{const[T,D,M]=c,P=xu(D);if(T===this.userId&&t.path.isEqual(P))return Bh(e).get(M).next(L=>{if(!L)throw ft();Et(L.userId===this.userId),l.push(tg(this.serializer,L))});_.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(Zt);const i=[];return t.forEach(l=>{const c=WD(this.userId,l.path),p=IDBKeyRange.lowerBound(c),_=P_(e).Z({range:p},(T,D,M)=>{const[P,L,K]=T,J=xu(L);P===this.userId&&l.path.isEqual(J)?r=r.add(K):M.done()});i.push(_)}),oe.waitFor(i).next(()=>this.Tn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=WD(this.userId,r),c=IDBKeyRange.lowerBound(l);let p=new Bn(Zt);return P_(e).Z({range:c},(_,T,D)=>{const[M,P,L]=_,K=xu(P);M===this.userId&&r.isPrefixOf(K)?K.length===i&&(p=p.add(L)):D.done()}).next(()=>this.Tn(e,p))}Tn(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Bh(e).get(l).next(c=>{if(null===c)throw ft();Et(c.userId===this.userId),r.push(tg(this.serializer,c))}))}),oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return u2(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.En(t.batchId)}),oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}En(e){delete this.pn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return P_(e).Z({range:r},(l,c,p)=>{if(l[0]===this.userId){const _=xu(l[1]);i.push(_)}else p.done()}).next(()=>{Et(0===i.length)})})}containsKey(e,t){return c2(e,this.userId,t)}An(e){return d2(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c2(n,e,t){const r=WD(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return P_(n).Z({range:l,Y:!0},(p,_,T)=>{const[D,M,P]=p;D===e&&M===i&&(c=!0),T.done()}).next(()=>c)}function Bh(n){return ki(n,"mutations")}function P_(n){return ki(n,"documentMutations")}function d2(n){return ki(n,"mutationQueues")}class ig{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new ig(0)}static bn(){return new ig(-1)}}class z6{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Pn(e).next(t=>{const r=new ig(t.highestTargetId);return t.highestTargetId=r.next(),this.Vn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Pn(e).next(t=>It.fromTimestamp(new gr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Pn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Vn(e,i)))}addTargetData(e,t){return this.Sn(e,t).next(()=>this.Pn(e).next(r=>(r.targetCount+=1,this.Dn(t,r),this.Vn(e,r))))}updateTargetData(e,t){return this.Sn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>x_(e).delete(t.targetId)).next(()=>this.Pn(e)).next(r=>(Et(r.targetCount>0),r.targetCount-=1,this.Vn(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return x_(e).Z((c,p)=>{const _=ab(p);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,l.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return x_(e).Z((r,i)=>{const l=ab(i);t(l)})}Pn(e){return h2(e).get("targetGlobalKey").next(t=>(Et(null!==t),t))}Vn(e,t){return h2(e).put("targetGlobalKey",t)}Sn(e,t){return x_(e).put(YL(this.serializer,t))}Dn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Kp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return x_(e).Z({range:i,index:"queryTargetsIndex"},(c,p,_)=>{const T=ab(p);Kv(t,T.target)&&(l=T,_.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Uh(e);return t.forEach(c=>{const p=Rs(c.path);i.push(l.put({targetId:r,path:p})),i.push(this.referenceDelegate.addReference(e,r,c))}),oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Uh(e);return oe.forEach(t,l=>{const c=Rs(l.path);return oe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Uh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Uh(e);let l=Xt();return i.Z({range:r,Y:!0},(c,p,_)=>{const T=xu(c[1]),D=new Xe(T);l=l.add(D)}).next(()=>l)}containsKey(e,t){const r=Rs(t.path),i=IDBKeyRange.bound([r],[AF(r)],!1,!0);let l=0;return Uh(e).Z({index:"documentTargetsIndex",Y:!0,range:i},([c,p],_,T)=>{0!==c&&(l++,T.done())}).next(()=>l>0)}ne(e,t){return x_(e).get(t).next(r=>r?ab(r):null)}}function x_(n){return ki(n,"targets")}function h2(n){return ki(n,"targetGlobal")}function Uh(n){return ki(n,"targetDocuments")}function f2([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class W6{constructor(e){this.Cn=e,this.buffer=new Bn(f2),this.xn=0}Nn(){return++this.xn}kn(e){const t=[e,this.Nn()];if(this.buffer.size<this.Cn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();f2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Z6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.$n(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}$n(e){var t=this;Pe("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.On=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ah(r)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ih(r)}yield t.$n(3e5)}))}}class q6{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.Fn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Uo.ct);const r=new W6(t);return this.Mn.forEachTarget(e,i=>r.kn(i.sequenceNumber)).next(()=>this.Mn.Bn(e,i=>r.kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Mn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(l2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),l2):this.Ln(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}Ln(e,t){let r,i,l,c,p,_,T;const D=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,p=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),WM()<=Dh.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-D}ms\n\tDetermined least recently used ${i} in `+(p-c)+`ms\n\tRemoved ${l} targets in `+(_-p)+`ms\n\tRemoved ${M} documents in `+(T-_)+`ms\nTotal Duration: ${T-D}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class K6{constructor(e,t){this.db=e,this.garbageCollector=new q6(this,t)}Fn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Bn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Bn(e,t){return this.Un(e,(r,i)=>t(i))}addReference(e,t,r){return fE(e,r)}removeReference(e,t,r){return fE(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return fE(e,t)}Kn(e,t){return function(r,i){let l=!1;return d2(r).X(c=>c2(r,c,i).next(p=>(p&&(l=!0),oe.resolve(!p)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Un(e,(c,p)=>{if(p<=t){const _=this.Kn(e,c).next(T=>{if(!T)return l++,r.getEntry(e,c).next(()=>(r.removeEntry(c,It.min()),Uh(e).delete([0,Rs(c.path)])))});i.push(_)}}).next(()=>oe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return fE(e,t)}Un(e,t){const r=Uh(e);let i,l=Uo.ct;return r.Z({index:"documentTargetsIndex"},([c,p],{path:_,sequenceNumber:T})=>{0===c?(l!==Uo.ct&&t(new Xe(xu(i)),l),l=T,i=_):l=Uo.ct}).next(()=>{l!==Uo.ct&&t(new Xe(xu(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function fE(n,e){return Uh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Rs(e.path),sequenceNumber:r}));var r}class p2{constructor(){this.changes=new xh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Y6{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return sg(e).put(r)}removeEntry(e,t,r){return sg(e).delete(function(i,l){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],oE(l),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Gn(e,r)))}getEntry(e,t){let r=tr.newInvalidDocument(t);return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,l)=>{r=this.Qn(t,l)}).next(()=>r)}zn(e,t){let r={size:0,document:tr.newInvalidDocument(t)};return sg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(hb(t))},(i,l)=>{r={document:this.Qn(t,l),size:dE(l)}}).next(()=>r)}getEntries(e,t){let r=co();return this.jn(e,t,(i,l)=>{const c=this.Qn(i,l);r=r.insert(i,c)}).next(()=>r)}Wn(e,t){let r=co(),i=new Nr(Xe.comparator);return this.jn(e,t,(l,c)=>{const p=this.Qn(l,c);r=r.insert(l,p),i=i.insert(l,dE(c))}).next(()=>({documents:r,Hn:i}))}jn(e,t,r){if(t.isEmpty())return oe.resolve();let i=new Bn(y2);t.forEach(_=>i=i.add(_));const l=IDBKeyRange.bound(hb(i.first()),hb(i.last())),c=i.getIterator();let p=c.getNext();return sg(e).Z({index:"documentKeyIndex",range:l},(_,T,D)=>{const M=Xe.fromSegments([...T.prefixPath,T.collectionGroup,T.documentId]);for(;p&&y2(p,M)<0;)r(p,null),p=c.getNext();p&&p.isEqual(M)&&(r(p,T),p=c.hasNext()?c.getNext():null),p?D.G(hb(p)):D.done()}).next(()=>{for(;p;)r(p,null),p=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),oE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],p=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return sg(e).j(IDBKeyRange.bound(c,p,!0)).next(_=>{let T=co();for(const D of _){const M=this.Qn(Xe.fromSegments(D.prefixPath.concat(D.collectionGroup,D.documentId)),D);M.isFoundDocument()&&(Qv(t,M)||i.has(M.key))&&(T=T.insert(M.key,M))}return T})}getAllFromCollectionGroup(e,t,r,i){let l=co();const c=_2(t,r),p=_2(t,Bo.max());return sg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,p,!0)},(_,T,D)=>{const M=this.Qn(Xe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);l=l.insert(M.key,M),l.size===i&&D.done()}).next(()=>l)}newChangeBuffer(e){return new Q6(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return m2(e).get("remoteDocumentGlobalKey").next(t=>(Et(!!t),t))}Gn(e,t){return m2(e).put("remoteDocumentGlobalKey",t)}Qn(e,t){if(t){const r=function k6(n,e){let t;if(e.document)t=HL(n.se,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=eg(e.noDocument.readTime);t=tr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ft();{const r=Xe.fromSegments(e.unknownDocument.path),i=eg(e.unknownDocument.version);t=tr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new gr(r[0],r[1]);return It.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(It.min()))return r}return tr.newInvalidDocument(e)}}function g2(n){return new Y6(n)}class Q6 extends p2{constructor(e,t){super(),this.Jn=e,this.trackRemovals=t,this.Yn=new xh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Bn((l,c)=>Zt(l.canonicalString(),c.canonicalString()));return this.changes.forEach((l,c)=>{const p=this.Yn.get(l);if(t.push(this.Jn.removeEntry(e,l,p.readTime)),c.isValidDocument()){const _=KL(this.Jn.serializer,c);i=i.add(l.path.popLast());const T=dE(_);r+=T-p.size,t.push(this.Jn.addEntry(e,l,_))}else if(r-=p.size,this.trackRemovals){const _=KL(this.Jn.serializer,c.convertToNoDocument(It.min()));t.push(this.Jn.addEntry(e,l,_))}}),i.forEach(l=>{t.push(this.Jn.indexManager.addToCollectionParentIndex(e,l))}),t.push(this.Jn.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.Jn.zn(e,t).next(r=>(this.Yn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Jn.Wn(e,t).next(({documents:r,Hn:i})=>(i.forEach((l,c)=>{this.Yn.set(l,{size:c,readTime:r.get(l).readTime})}),r))}}function m2(n){return ki(n,"remoteDocumentGlobal")}function sg(n){return ki(n,"remoteDocumentsV14")}function hb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function _2(n,e){const t=e.documentKey.path.toArray();return[n,oE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function y2(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(i=Zt(t[l],r[l]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class J6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class v2{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&tb(r.mutation,i,uo.empty(),gr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Xt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Xt()){const i=Fu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(l=>{let c=Jv();return l.forEach((p,_)=>{c=c.insert(p,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Xt()))}populateOverlays(e,t,r){const i=[];return r.forEach(l=>{t.has(l)||i.push(l)}),this.documentOverlayCache.getOverlays(e,i).next(l=>{l.forEach((c,p)=>{t.set(c,p)})})}computeViews(e,t,r,i){let l=co();const c=Xv(),p=Xv();return t.forEach((_,T)=>{const D=r.get(T.key);i.has(T.key)&&(void 0===D||D.mutation instanceof id)?l=l.insert(T.key,T):void 0!==D?(c.set(T.key,D.mutation.getFieldMask()),tb(D.mutation,T,D.mutation.getFieldMask(),gr.now())):c.set(T.key,uo.empty())}),this.recalculateAndSaveOverlays(e,l).next(_=>(_.forEach((T,D)=>c.set(T,D)),t.forEach((T,D)=>{var M;return p.set(T,new J6(D,null!==(M=c.get(T))&&void 0!==M?M:null))}),p))}recalculateAndSaveOverlays(e,t){const r=Xv();let i=new Nr((c,p)=>c-p),l=Xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const p of c)p.keys().forEach(_=>{const T=t.get(_);if(null===T)return;let D=r.get(_)||uo.empty();D=p.applyToLocalView(T,D),r.set(_,D);const M=(i.get(p.batchId)||Xt()).add(_);i=i.insert(p.batchId,M)})}).next(()=>{const c=[],p=i.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),T=_.key,D=_.value,M=mL();D.forEach(P=>{if(!l.has(P)){const L=SL(t.get(P),r.get(P));null!==L&&M.set(P,L),l=l.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,T,M))}return oe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):aN(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(l=>{const c=i-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-l.size):oe.resolve(Fu());let p=-1,_=l;return c.next(T=>oe.forEach(T,(D,M)=>(p<M.largestBatchId&&(p=M.largestBatchId),l.get(D)?oe.resolve():this.remoteDocumentCache.getEntry(e,D).next(P=>{_=_.insert(D,P)}))).next(()=>this.populateOverlays(e,T,l)).next(()=>this.computeViews(e,_,T,Xt())).next(D=>({batchId:p,changes:gL(D)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let i=Jv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let l=Jv();return this.indexManager.getCollectionParents(e,i).next(c=>oe.forEach(c,p=>{const _=(T=t,D=p.child(i),new rd(D,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,D;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(T=>{T.forEach((D,M)=>{l=l.insert(D,M)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(l=>{i.forEach((p,_)=>{const T=_.getKey();null===l.get(T)&&(l=l.insert(T,tr.newInvalidDocument(T)))});let c=Jv();return l.forEach((p,_)=>{const T=i.get(p);void 0!==T&&tb(T.mutation,_,uo.empty(),gr.now()),Qv(t,_)&&(c=c.insert(p,_))}),c})}}class X6{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return oe.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:$r(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:bN(r.bundledQuery),readTime:$r(r.readTime)}),oe.resolve();var r}}class e${constructor(){this.overlays=new Nr(Xe.comparator),this.ts=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fu();return oe.forEach(t,i=>this.getOverlay(e,i).next(l=>{null!==l&&r.set(i,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,l)=>{this.re(e,t,l)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ts.get(r);return void 0!==i&&(i.forEach(l=>this.overlays=this.overlays.remove(l)),this.ts.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const i=Fu(),l=t.length+1,c=new Xe(t.child("")),p=this.overlays.getIteratorFrom(c);for(;p.hasNext();){const _=p.getNext().value,T=_.getKey();if(!t.isPrefixOf(T.path))break;T.path.length===l&&_.largestBatchId>r&&i.set(_.getKey(),_)}return oe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let l=new Nr((T,D)=>T-D);const c=this.overlays.getIterator();for(;c.hasNext();){const T=c.getNext().value;if(T.getKey().getCollectionGroup()===t&&T.largestBatchId>r){let D=l.get(T.largestBatchId);null===D&&(D=Fu(),l=l.insert(T.largestBatchId,D)),D.set(T.getKey(),T)}}const p=Fu(),_=l.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((T,D)=>p.set(T,D)),!(p.size()>=i)););return oe.resolve(p)}re(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new fN(t,r));let l=this.ts.get(t);void 0===l&&(l=Xt(),this.ts.set(t,l)),this.ts.set(t,l.add(r.key))}}class IN{constructor(){this.es=new Bn(Li.ns),this.ss=new Bn(Li.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,t){const r=new Li(e,t);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.us(new Li(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}hs(e){const t=new Xe(new fn([])),r=new Li(t,e),i=new Li(t,e+1),l=[];return this.ss.forEachInRange([r,i],c=>{this.us(c),l.push(c.key)}),l}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const t=new Xe(new fn([])),r=new Li(t,e),i=new Li(t,e+1);let l=Xt();return this.ss.forEachInRange([r,i],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Li(e,0),r=this.es.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Li{constructor(e,t){this.key=e,this.ds=t}static ns(e,t){return Xe.comparator(e.key,t.key)||Zt(e.ds,t.ds)}static rs(e,t){return Zt(e.ds,t.ds)||Xe.comparator(e.key,t.key)}}class t${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this._s=new Bn(Li.ns)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const l=this.ws;this.ws++;const c=new dN(l,t,r,i);this.mutationQueue.push(c);for(const p of i)this._s=this._s.add(new Li(p.key,l)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return oe.resolve(c)}lookupMutationBatch(e,t){return oe.resolve(this.gs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ys(t+1),l=i<0?0:i;return oe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Li(t,0),i=new Li(t,Number.POSITIVE_INFINITY),l=[];return this._s.forEachInRange([r,i],c=>{const p=this.gs(c.ds);l.push(p)}),oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(Zt);return t.forEach(i=>{const l=new Li(i,0),c=new Li(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([l,c],p=>{r=r.add(p.ds)})}),oe.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;Xe.isDocumentKey(l)||(l=l.child(""));const c=new Li(new Xe(l),0);let p=new Bn(Zt);return this._s.forEachWhile(_=>{const T=_.key.path;return!!r.isPrefixOf(T)&&(T.length===i&&(p=p.add(_.ds)),!0)},c),oe.resolve(this.ps(p))}ps(e){const t=[];return e.forEach(r=>{const i=this.gs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Et(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return oe.forEach(t.mutations,i=>{const l=new Li(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,t){const r=new Li(t,0),i=this._s.firstAfterOrEqual(r);return oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return oe.resolve()}Is(e,t){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class n${constructor(e){this.Ts=e,this.docs=new Nr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),l=i?i.size:0,c=this.Ts(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():tr.newInvalidDocument(t))}getEntries(e,t){let r=co();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():tr.newInvalidDocument(i))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let l=co();const c=t.path,p=new Xe(c.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:T,value:{document:D}}=_.getNext();if(!c.isPrefixOf(T.path))break;T.path.length>c.length+1||KM(NF(D),r)<=0||(i.has(D.key)||Qv(t,D))&&(l=l.insert(D.key,D.mutableCopy()))}return oe.resolve(l)}getAllFromCollectionGroup(e,t,r,i){ft()}Es(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new r$(this)}getSize(e){return oe.resolve(this.size)}}class r$ extends p2{constructor(e){super(),this.Jn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.Jn.getEntry(e,t)}getAllFromCache(e,t){return this.Jn.getEntries(e,t)}}class i${constructor(e){this.persistence=e,this.As=new xh(t=>Kp(t),Kv),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Rs=0,this.vs=new IN,this.targetCount=0,this.bs=ig.vn()}forEachTarget(e,t){return this.As.forEach((r,i)=>t(i)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Rs&&(this.Rs=t),oe.resolve()}Sn(e){this.As.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new ig(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,t){return this.Sn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Sn(t),oe.resolve()}removeTargetData(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.As.forEach((c,p)=>{p.sequenceNumber<=t&&null===r.get(p.targetId)&&(this.As.delete(c),l.push(this.removeMatchingKeysForTargetId(e,p.targetId)),i++)}),oe.waitFor(l).next(()=>i)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.As.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.vs.os(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.vs.cs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(c=>{l.push(i.markPotentiallyOrphaned(e,c))}),oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.vs.hs(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.vs.fs(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.vs.containsKey(t))}}class b2{constructor(e,t){this.Ps={},this.overlays={},this.Vs=new Uo(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new i$(this),this.indexManager=new j6,this.remoteDocumentCache=new n$(r=>this.referenceDelegate.Cs(r)),this.serializer=new qL(t),this.xs=new X6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new e$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ps[e.toKey()];return r||(r=new t$(t,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new s$(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(l=>this.referenceDelegate.ks(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Os(e,t){return oe.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class s$ extends RF{constructor(e){super(),this.currentSequenceNumber=e}}class pE{constructor(e){this.persistence=e,this.$s=new IN,this.Ms=null}static Fs(e){return new pE(e)}get Bs(){if(this.Ms)return this.Ms;throw ft()}addReference(e,t,r){return this.$s.addReference(r,t),this.Bs.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.$s.removeReference(r,t),this.Bs.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Bs.add(t.toString()),oe.resolve()}removeTarget(e,t){this.$s.hs(t.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.Bs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Ns(){this.Ms=new Set}ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Bs,r=>{const i=Xe.fromPath(r);return this.Ls(e,i).next(l=>{l||t.removeEntry(i,It.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ls(e,t).next(r=>{r?this.Bs.delete(t.toString()):this.Bs.add(t.toString())})}Cs(e){return 0}Ls(e,t){return oe.or([()=>oe.resolve(this.$s.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Os(e,t)])}}class o${constructor(e){this.serializer=e}M(e,t,r,i){const l=new zD("createOrUpgrade",t);var p;r<1&&i>=1&&(e.createObjectStore("owner"),(p=e).createObjectStore("mutationQueues",{keyPath:"userId"}),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FF,{unique:!0}),p.createObjectStore("documentMutations"),T2(e),function(p){p.createObjectStore("remoteDocuments")}(e));let c=oe.resolve();return r<3&&i>=3&&(0!==r&&(function(p){p.deleteObjectStore("targetDocuments"),p.deleteObjectStore("targets"),p.deleteObjectStore("targetGlobal")}(e),T2(e)),c=c.next(()=>function(p){const _=p.store("targetGlobal"),T={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",T)}(l))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(p,_){return _.store("mutations").j().next(T=>{p.deleteObjectStore("mutations"),p.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",FF,{unique:!0});const D=_.store("mutations"),M=T.map(P=>D.put(P));return oe.waitFor(M)})}(e,l))),c=c.next(()=>{!function(p){p.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.qs(l))),r<6&&i>=6&&(c=c.next(()=>(function(p){p.createObjectStore("remoteDocumentGlobal")}(e),this.Us(l)))),r<7&&i>=7&&(c=c.next(()=>this.Ks(l))),r<8&&i>=8&&(c=c.next(()=>this.Gs(e,l))),r<9&&i>=9&&(c=c.next(()=>{!function(p){p.objectStoreNames.contains("remoteDocumentChanges")&&p.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.Qs(l))),r<11&&i>=11&&(c=c.next(()=>{(function(p){p.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(p){p.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(p){const _=p.createObjectStore("documentOverlays",{keyPath:Hj});_.createIndex("collectionPathOverlayIndex",jj,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",$j,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(p){const _=p.createObjectStore("remoteDocumentsV14",{keyPath:Oj});_.createIndex("documentKeyIndex",Rj),_.createIndex("collectionGroupIndex",Pj)}(e)).next(()=>this.zs(e,l)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.js(e,l))),r<15&&i>=15&&(c=c.next(()=>function(p){p.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),p.createObjectStore("indexState",{keyPath:Bj}).createIndex("sequenceNumberIndex",Uj,{unique:!1}),p.createObjectStore("indexEntries",{keyPath:Vj}).createIndex("documentKeyIndex",Gj,{unique:!1})}(e))),c}Us(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=dE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>oe.forEach(i,l=>{const c=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(p=>oe.forEach(p,_=>{Et(_.userId===l.userId);const T=tg(this.serializer,_);return u2(e,l.userId,T).next(()=>{})}))}))}Ks(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const l=[];return r.Z((c,p)=>{const _=new fn(c),T=[0,Rs(_)];l.push(t.get(T).next(D=>D?oe.resolve():t.put({targetId:0,path:Rs(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>oe.waitFor(l))})}Gs(e,t){e.createObjectStore("collectionParents",{keyPath:Lj});const r=t.store("collectionParents"),i=new CN,l=c=>{if(i.add(c)){const p=c.lastSegment(),_=c.popLast();return r.put({collectionId:p,parent:Rs(_)})}};return t.store("remoteDocuments").Z({Y:!0},(c,p)=>{const _=new fn(c);return l(_.popLast())}).next(()=>t.store("documentMutations").Z({Y:!0},([c,p,_],T)=>{const D=xu(p);return l(D.popLast())}))}Qs(e){const t=e.store("targets");return t.Z((r,i)=>{const l=ab(i),c=YL(this.serializer,l);return t.put(c)})}zs(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((l,c)=>{const p=t.store("remoteDocumentsV14"),_=(T=c,T.document?new Xe(fn.fromString(T.document.name).popFirst(5)):T.noDocument?Xe.fromSegments(T.noDocument.path):T.unknownDocument?Xe.fromSegments(T.unknownDocument.path):ft()).path.toArray();var T;const D={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(p.put(D))}).next(()=>oe.waitFor(i))}js(e,t){const r=t.store("mutations"),i=g2(this.serializer),l=new b2(pE.Fs,this.serializer.se);return r.j().next(c=>{const p=new Map;return c.forEach(_=>{var T;let D=null!==(T=p.get(_.userId))&&void 0!==T?T:Xt();tg(this.serializer,_).keys().forEach(M=>D=D.add(M)),p.set(_.userId,D)}),oe.forEach(p,(_,T)=>{const D=new xi(T),M=aE.ie(this.serializer,D),P=l.getIndexManager(D),L=hE.ie(D,this.serializer,P,l.referenceDelegate);return new v2(i,L,M,P).recalculateAndSaveOverlaysForDocumentKeys(new JM(t,Uo.ct),_).next()})})}}function T2(n){n.createObjectStore("targetDocuments",{keyPath:kj}).createIndex("documentTargetsIndex",Fj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xj,{unique:!0}),n.createObjectStore("targetGlobal")}const AN="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class MN{constructor(e,t,r,i,l,c,p,_,T,D,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ws=l,this.window=c,this.document=p,this.Hs=T,this.Js=D,this.Ys=M,this.Vs=null,this.Ss=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.Xs=null,this.ti=null,this.ei=Number.NEGATIVE_INFINITY,this.ni=P=>Promise.resolve(),!MN.D())throw new Ne(ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new K6(this,i),this.si=t+"main",this.serializer=new qL(_),this.ii=new Al(this.si,this.Ys,new o$(this.serializer)),this.Ds=new z6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=g2(this.serializer),this.xs=new F6,this.window&&this.window.localStorage?this.ri=this.window.localStorage:(this.ri=null,!1===D&&jr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.oi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(ae.FAILED_PRECONDITION,AN);return this.ui(),this.ci(),this.ai(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ds.getHighestSequenceNumber(e))}).then(e=>{this.Vs=new Uo(e,this.Hs)}).then(()=>{this.Ss=!0}).catch(e=>(this.ii&&this.ii.close(),Promise.reject(e)))}hi(e){var t=this;return this.ni=function(){var r=(0,pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ii.B(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Ws.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.oi())})))}oi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>gE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.li(e).next(t=>{t||(this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)))})}).next(()=>this.fi(e)).next(t=>this.isPrimary&&!t?this.di(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ah(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ws.enqueueRetryable(()=>this.ni(e)),this.isPrimary=e})}li(e){return fb(e).get("owner").next(t=>oe.resolve(this._i(t)))}mi(e){return gE(e).delete(this.clientId)}gi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.yi(e.ei,18e5)){e.ei=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=ki(r,"clientMetadata");return i.j().next(l=>{const c=e.pi(l,18e5),p=l.filter(_=>-1===c.indexOf(_));return oe.forEach(p,_=>i.delete(_.clientId)).next(()=>p)})}).catch(()=>[]);if(e.ri)for(const r of t)e.ri.removeItem(e.Ii(r.clientId))}})()}ai(){this.ti=this.Ws.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.oi().then(()=>this.gi()).then(()=>this.ai()))}_i(e){return!!e&&e.ownerId===this.clientId}fi(e){return this.Js?oe.resolve(!0):fb(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)){if(this._i(t)&&this.networkEnabled)return!0;if(!this._i(t)){if(!t.allowTabSynchronization)throw new Ne(ae.FAILED_PRECONDITION,AN);return!1}}return!(!this.networkEnabled||!this.inForeground)||gE(e).j().next(r=>void 0===this.pi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ss=!1,e.Ei(),e.ti&&(e.ti.cancel(),e.ti=null),e.Ai(),e.Ri(),yield e.ii.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new JM(t,Uo.ct);return e.di(r).next(()=>e.mi(r))}),e.ii.close(),e.vi()})()}pi(e,t){return e.filter(r=>this.yi(r.updateTimeMs,t)&&!this.Ti(r.clientId))}bi(){return this.runTransaction("getActiveClients","readonly",e=>gE(e).j().next(t=>this.pi(t,18e5).map(r=>r.clientId)))}get started(){return this.Ss}getMutationQueue(e,t){return hE.ie(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new $6(e,this.serializer.se.databaseId)}getDocumentOverlayCache(e){return aE.ie(this.serializer,e)}getBundleCache(){return this.xs}runTransaction(e,t,r){Pe("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",l=15===(c=this.Ys)?Wj:14===c?VF:13===c?UF:12===c?zj:11===c?BF:void ft();var c;let p;return this.ii.runTransaction(e,i,l,_=>(p=new JM(_,this.Vs?this.Vs.next():Uo.ct),"readwrite-primary"===t?this.li(p).next(T=>!!T||this.fi(p)).next(T=>{if(!T)throw jr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ws.enqueueRetryable(()=>this.ni(!1)),new Ne(ae.FAILED_PRECONDITION,OF);return r(p)}).next(T=>this.wi(p).next(()=>T)):this.Pi(p).next(()=>r(p)))).then(_=>(p.raiseOnCommittedEvent(),_))}Pi(e){return fb(e).get("owner").next(t=>{if(null!==t&&this.yi(t.leaseTimestampMs,5e3)&&!this.Ti(t.ownerId)&&!this._i(t)&&!(this.Js||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ne(ae.FAILED_PRECONDITION,AN)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return fb(e).put("owner",t)}static D(){return Al.D()}di(e){const t=fb(e);return t.get("owner").next(r=>this._i(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}yi(e,t){const r=Date.now();return!(e<r-t||e>r&&(jr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ui(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Xs=()=>{this.Ws.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.oi()))},this.document.addEventListener("visibilitychange",this.Xs),this.inForeground="visible"===this.document.visibilityState)}Ai(){this.Xs&&(this.document.removeEventListener("visibilitychange",this.Xs),this.Xs=null)}ci(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ei();const t=/(?:Version|Mobile)\/1[456]/;(0,Yt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ws.enterRestrictedMode(!0),this.Ws.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}Ri(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ti(e){var t;try{const r=null!==(null===(t=this.ri)||void 0===t?void 0:t.getItem(this.Ii(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return jr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ei(){if(this.ri)try{this.ri.setItem(this.Ii(this.clientId),String(Date.now()))}catch(e){jr("Failed to set zombie client id.",e)}}vi(){if(this.ri)try{this.ri.removeItem(this.Ii(this.clientId))}catch{}}Ii(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function fb(n){return ki(n,"owner")}function gE(n){return ki(n,"clientMetadata")}function NN(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class ON{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Vi=r,this.Si=i}static Di(e,t){let r=Xt(),i=Xt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new ON(e,t.fromCache,r,i)}}class w2{constructor(){this.Ci=!1}initialize(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ni(e,t).next(l=>l||this.ki(e,t,i,r)).next(l=>l||this.Oi(e,t))}Ni(e,t){if(cL(t))return oe.resolve(null);let r=Ps(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=XD(t,null,"F"),r=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Xt(...l);return this.xi.getDocuments(e,c).next(p=>this.indexManager.getMinOffset(e,r).next(_=>{const T=this.$i(t,p);return this.Mi(t,T,c,_.readTime)?this.Ni(e,XD(t,null,"F")):this.Fi(e,T,t,_)}))})))}ki(e,t,r,i){return cL(t)||i.isEqual(It.min())?this.Oi(e,t):this.xi.getDocuments(e,r).next(l=>{const c=this.$i(t,l);return this.Mi(t,c,r,i)?this.Oi(e,t):(WM()<=Dh.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uN(t)),this.Fi(e,c,t,MF(i,-1)))})}$i(e,t){let r=new Bn(fL(e));return t.forEach((i,l)=>{Qv(e,l)&&(r=r.add(l))}),r}Mi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const l="F"===e.limitType?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Oi(e,t){return WM()<=Dh.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",uN(t)),this.xi.getDocumentsMatchingQuery(e,t,Bo.min())}Fi(e,t,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}class a${constructor(e,t,r,i){this.persistence=e,this.Bi=t,this.serializer=i,this.Li=new Nr(Zt),this.qi=new xh(l=>Kp(l),Kv),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new v2(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Li))}}function D2(n,e,t,r){return new a$(n,e,t,r)}function E2(n,e){return RN.apply(this,arguments)}function RN(){return RN=(0,pe.Z)(function*(n,e){const t=tt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(l=>(i=l,t.Gi(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],p=[];let _=Xt();for(const T of i){c.push(T.batchId);for(const D of T.mutations)_=_.add(D.key)}for(const T of l){p.push(T.batchId);for(const D of T.mutations)_=_.add(D.key)}return t.localDocuments.getDocuments(r,_).next(T=>({Qi:T,removedBatchIds:c,addedBatchIds:p}))})})}),RN.apply(this,arguments)}function S2(n){const e=tt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ds.getLastRemoteSnapshotVersion(t))}function C2(n,e,t){let r=Xt(),i=Xt();return t.forEach(l=>r=r.add(l)),e.getEntries(n,r).next(l=>{let c=co();return t.forEach((p,_)=>{const T=l.get(p);_.isFoundDocument()!==T.isFoundDocument()&&(i=i.add(p)),_.isNoDocument()&&_.version.isEqual(It.min())?(e.removeEntry(p,_.readTime),c=c.insert(p,_)):!T.isValidDocument()||_.version.compareTo(T.version)>0||0===_.version.compareTo(T.version)&&T.hasPendingWrites?(e.addEntry(_),c=c.insert(p,_)):Pe("LocalStore","Ignoring outdated watch update for ",p,". Current version:",T.version," Watch version:",_.version)}),{zi:c,ji:i}})}function c$(n,e){const t=tt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function k_(n,e){const t=tt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ds.getTargetData(r,e).next(l=>l?(i=l,oe.resolve(i)):t.Ds.allocateTargetId(r).next(c=>(i=new Fh(e,c,0,r.currentSequenceNumber),t.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Li.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Li=t.Li.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function F_(n,e,t){return PN.apply(this,arguments)}function PN(){return PN=(0,pe.Z)(function*(n,e,t){const r=tt(n),i=r.Li.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Ah(c))throw c;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}),PN.apply(this,arguments)}function mE(n,e,t){const r=tt(n);let i=It.min(),l=Xt();return r.persistence.runTransaction("Execute query","readonly",c=>function(p,_,T){const D=tt(p),M=D.qi.get(T);return void 0!==M?oe.resolve(D.Li.get(M)):D.Ds.getTargetData(_,T)}(r,c,Ps(e)).next(p=>{if(p)return i=p.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(c,p.targetId).next(_=>{l=_})}).next(()=>r.Bi.getDocumentsMatchingQuery(c,e,t?i:It.min(),t?l:Xt())).next(p=>(M2(r,hL(e),p),{documents:p,Wi:l})))}function I2(n,e){const t=tt(n),r=tt(t.Ds),i=t.Li.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.ne(l,e).next(c=>c?c.target:null))}function A2(n,e){const t=tt(n),r=t.Ui.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Ki.getAllFromCollectionGroup(i,e,MF(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(M2(t,e,i),i))}function M2(n,e,t){let r=n.Ui.get(e)||It.min();t.forEach((i,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),n.Ui.set(e,r)}function xN(){return xN=(0,pe.Z)(function*(n,e,t,r){const i=tt(n);let l=Xt(),c=co();for(const T of t){const D=e.Hi(T.metadata.name);T.document&&(l=l.add(D));const M=e.Ji(T);M.setReadTime(e.Yi(T.metadata.readTime)),c=c.insert(D,M)}const p=i.Ki.newChangeBuffer({trackRemovals:!0}),_=yield k_(i,(T=r,Ps(C_(fn.fromString(`__bundle__/docs/${T}`)))));var T;return i.persistence.runTransaction("Apply bundle documents","readwrite",T=>C2(T,p,c).next(D=>(p.apply(T),D)).next(D=>i.Ds.removeMatchingKeysForTargetId(T,_.targetId).next(()=>i.Ds.addMatchingKeys(T,l,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(T,D.zi,D.ji)).next(()=>D.zi)))}),xN.apply(this,arguments)}function h$(n,e){return kN.apply(this,arguments)}function kN(){return kN=(0,pe.Z)(function*(n,e,t=Xt()){const r=yield k_(n,Ps(bN(e.bundledQuery))),i=tt(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const c=$r(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.xs.saveNamedQuery(l,e);const p=r.withResumeToken(_i.EMPTY_BYTE_STRING,c);return i.Li=i.Li.insert(p.targetId,p),i.Ds.updateTargetData(l,p).next(()=>i.Ds.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.Ds.addMatchingKeys(l,t,r.targetId)).next(()=>i.xs.saveNamedQuery(l,e))})}),kN.apply(this,arguments)}function N2(n,e){return`firestore_clients_${n}_${e}`}function O2(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function FN(n,e){return`firestore_targets_${n}_${e}`}class _E{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let l,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(l=new Ne(i.error.code,i.error.message))),c?new _E(e,t,i.state,l):(jr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Ne(r.error.code,r.error.message))),l?new pb(e,r.state,i):(jr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Xi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class yE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=eE();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=xF(r.activeTargetIds[c]),l=l.add(r.activeTargetIds[c]);return i?new yE(e,l):(jr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class LN{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new LN(t.clientId,t.onlineState):(jr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class BN{constructor(){this.activeTargetIds=eE()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UN{constructor(e,t,r,i,l){this.window=e,this.Ws=t,this.persistenceKey=r,this.nr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.sr=this.ir.bind(this),this.rr=new Nr(Zt),this.started=!1,this.ur=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.cr=N2(this.persistenceKey,this.nr),this.ar=`firestore_sequence_number_${this.persistenceKey}`,this.rr=this.rr.insert(this.nr,new BN),this.hr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.lr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.dr=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this._r=function(p){return`firestore_bundle_loaded_v2_${p}`}(this.persistenceKey),this.window.addEventListener("storage",this.sr)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.bi();for(const i of t){if(i===e.nr)continue;const l=e.getItem(N2(e.persistenceKey,i));if(l){const c=yE.Zi(i,l);c&&(e.rr=e.rr.insert(c.clientId,c))}}e.mr();const r=e.storage.getItem(e.wr);if(r){const i=e.gr(r);i&&e.yr(i)}for(const i of e.ur)e.ir(i);e.ur=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ar,JSON.stringify(e))}getAllActiveQueryTargets(){return this.pr(this.rr)}isActiveQueryTarget(e){let t=!1;return this.rr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ir(e,"pending")}updateMutationState(e,t,r){this.Ir(e,t,r),this.Tr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(FN(this.persistenceKey,e));if(r){const i=pb.Zi(e,r);i&&(t=i.state)}}return this.Er.tr(e),this.mr(),t}removeLocalQueryTarget(e){this.Er.er(e),this.mr()}isLocalQueryTarget(e){return this.Er.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(FN(this.persistenceKey,e))}updateQueryState(e,t,r){this.Ar(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Tr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Rr(e)}notifyBundleLoaded(e){this.vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.sr),this.removeItem(this.cr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ir(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.cr)return void jr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ws.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.hr.test(r.key)){if(null==r.newValue){const i=t.br(r.key);return t.Pr(i,null)}{const i=t.Vr(r.key,r.newValue);if(i)return t.Pr(i.clientId,i)}}else if(t.lr.test(r.key)){if(null!==r.newValue){const i=t.Sr(r.key,r.newValue);if(i)return t.Dr(i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Cr(r.key,r.newValue);if(i)return t.Nr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.gr(r.newValue);if(i)return t.yr(i)}}else if(r.key===t.ar){const i=function(l){let c=Uo.ct;if(null!=l)try{const p=JSON.parse(l);Et("number"==typeof p),c=p}catch(p){jr("SharedClientState","Failed to read sequence number from WebStorage",p)}return c}(r.newValue);i!==Uo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t._r){const i=t.kr(r.newValue);yield Promise.all(i.map(l=>t.syncEngine.Or(l)))}}else t.ur.push(r)}))}}get Er(){return this.rr.get(this.nr)}mr(){this.setItem(this.cr,this.Er.Xi())}Ir(e,t,r){const i=new _E(this.currentUser,e,t,r),l=O2(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Xi())}Tr(e){const t=O2(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Rr(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.nr,onlineState:e}))}Ar(e,t,r){const i=FN(this.persistenceKey,e),l=new pb(e,t,r);this.setItem(i,l.Xi())}vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}br(e){const t=this.hr.exec(e);return t?t[1]:null}Vr(e,t){const r=this.br(e);return yE.Zi(r,t)}Sr(e,t){const r=this.lr.exec(e),i=Number(r[1]);return _E.Zi(new xi(void 0!==r[2]?r[2]:null),i,t)}Cr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return pb.Zi(i,t)}gr(e){return LN.Zi(e)}kr(e){return JSON.parse(e)}Dr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Nr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}Pr(e,t){const r=t?this.rr.insert(e,t):this.rr.remove(e),i=this.pr(this.rr),l=this.pr(r),c=[],p=[];return l.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{l.has(_)||p.push(_)}),this.syncEngine.Fr(c,p).then(()=>{this.rr=r})}yr(e){this.rr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}pr(e){let t=eE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class R2{constructor(){this.Br=new BN,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,t,r){this.Lr[e]=t}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new BN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class f${qr(e){}shutdown(){}}class P2{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let vE=null;function VN(){return null===vE?vE=268435456+Math.round(2147483648*Math.random()):vE++,"0x"+vE.toString(16)}const p$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class g${constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const hs="WebChannelConnection";class m$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,t,r,i,l){const c=VN(),p=this.ao(e,t);Pe("RestConnection",`Sending RPC '${e}' ${c}:`,p,r);const _={};return this.ho(_,i,l),this.lo(e,p,_,r).then(T=>(Pe("RestConnection",`Received RPC '${e}' ${c}: `,T),T),T=>{throw Pu("RestConnection",`RPC '${e}' ${c} failed with error: `,T,"url: ",p,"request:",r),T})}fo(e,t,r,i,l,c){return this.co(e,t,r,i,l)}ho(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+b_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}ao(e,t){return`${this.ro}/v1/${t}:${p$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,t,r,i){const l=VN();return new Promise((c,p)=>{const _=new hj;_.setWithCredentials(!0),_.listenOnce(uj.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case zM.NO_ERROR:const D=_.getResponseJson();Pe(hs,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(D)),c(D);break;case zM.TIMEOUT:Pe(hs,`RPC '${e}' ${l} timed out`),p(new Ne(ae.DEADLINE_EXCEEDED,"Request time out"));break;case zM.HTTP_ERROR:const M=_.getStatus();if(Pe(hs,`RPC '${e}' ${l} failed with status:`,M,"response text:",_.getResponseText()),M>0){let P=_.getResponseJson();Array.isArray(P)&&(P=P[0]);const L=P?.error;if(L&&L.status&&L.message){const K=function(J){const re=J.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(re)>=0?re:ae.UNKNOWN}(L.status);p(new Ne(K,L.message))}else p(new Ne(ae.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new Ne(ae.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{Pe(hs,`RPC '${e}' ${l} completed.`)}});const T=JSON.stringify(i);Pe(hs,`RPC '${e}' ${l} sending request:`,i),_.send(t,"POST",T,r,15)})}wo(e,t,r){const i=VN(),l=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=aj(),p=lj(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new dj({})),this.ho(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=l.join("");Pe(hs,`Creating RPC '${e}' stream ${i}: ${T}`,_);const D=c.createWebChannel(T,_);let M=!1,P=!1;const L=new g$({Wr:J=>{P?Pe(hs,`Not sending because RPC '${e}' stream ${i} is closed:`,J):(M||(Pe(hs,`Opening RPC '${e}' stream ${i} transport.`),D.open(),M=!0),Pe(hs,`RPC '${e}' stream ${i} sending:`,J),D.send(J))},Hr:()=>D.close()}),K=(J,re,Be)=>{J.listen(re,ze=>{try{Be(ze)}catch(Ge){setTimeout(()=>{throw Ge},0)}})};return K(D,HD.EventType.OPEN,()=>{P||Pe(hs,`RPC '${e}' stream ${i} transport opened.`)}),K(D,HD.EventType.CLOSE,()=>{P||(P=!0,Pe(hs,`RPC '${e}' stream ${i} transport closed`),L.so())}),K(D,HD.EventType.ERROR,J=>{P||(P=!0,Pu(hs,`RPC '${e}' stream ${i} transport errored:`,J),L.so(new Ne(ae.UNAVAILABLE,"The operation could not be completed")))}),K(D,HD.EventType.MESSAGE,J=>{var re;if(!P){const Be=J.data[0];Et(!!Be);const Ge=Be.error||(null===(re=Be[0])||void 0===re?void 0:re.error);if(Ge){Pe(hs,`RPC '${e}' stream ${i} received error:`,Ge);const Ue=Ge.status;let Ke=function(zt){const Qt=ni[zt];if(void 0!==Qt)return OL(Qt)}(Ue),lt=Ge.message;void 0===Ke&&(Ke=ae.INTERNAL,lt="Unknown error status: "+Ue+" with message "+Ge.message),P=!0,L.so(new Ne(Ke,lt)),D.close()}else Pe(hs,`RPC '${e}' stream ${i} received:`,Be),L.io(Be)}}),K(p,cj.STAT_EVENT,J=>{J.stat===DF.PROXY?Pe(hs,`RPC '${e}' stream ${i} detected buffering proxy`):J.stat===DF.NOPROXY&&Pe(hs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.no()},0),L}}function x2(){return typeof window<"u"?window:null}function bE(){return typeof document<"u"?document:null}function gb(n){return new S6(n,!0)}class GN{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Ws=e,this.timerId=t,this._o=r,this.mo=i,this.yo=l,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const t=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,t-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class k2{constructor(e,t,r,i,l,c,p,_){this.Ws=e,this.bo=r,this.Po=i,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new GN(e,t)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,pe.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,pe.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):t&&t.code===ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),t=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===t&&this.Ko(r,i)},r=>{e(()=>{const i=new Ne(ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,t){const r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){var e=this;this.state=5,this.Co.Ao((0,pe.Z)(function*(){e.state=0,e.start()}))}Go(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return t=>{this.Ws.enqueueAndForget(()=>this.Vo===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _$ extends k2{constructor(e,t,r,i,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=l}Qo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Co.reset();const t=function A6(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:ft(),i=e.targetChange.targetIds||[],l=function(_,T){return _.useProto3Json?(Et(void 0===T||"string"==typeof T),_i.fromBase64String(T||"")):(Et(void 0===T||T instanceof Uint8Array),_i.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,p=c&&function(_){const T=void 0===_.code?ae.UNKNOWN:OL(_.code);return new Ne(T,_.message||"")}(c);t=new PL(r,i,l,p||null)}else if("documentChange"in e){const r=e.documentChange,i=Lu(n,r.document.name),l=$r(r.document.updateTime),c=r.document.createTime?$r(r.document.createTime):It.min(),p=new Fi({mapValue:{fields:r.document.fields}}),_=tr.newFoundDocument(i,l,c,p);t=new sE(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Lu(n,r.document),l=r.readTime?$r(r.readTime):It.min(),c=tr.newNoDocument(i,l);t=new sE([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Lu(n,r.document);t=new sE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ft();{const r=e.filter,l=new b6(r.count||0);t=new RL(r.targetId,l)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return It.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?It.min():l.readTime?$r(l.readTime):It.min()}(e);return this.listener.zo(t,r)}jo(e){const t={};t.database=sb(this.serializer),t.addTarget=function(i,l){let c;const p=l.target;return c=YD(p)?{documents:jL(i,p)}:{query:vN(i,p)},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?c.resumeToken=LL(i,l.resumeToken):l.snapshotVersion.compareTo(It.min())>0&&(c.readTime=O_(i,l.snapshotVersion.toTimestamp())),c}(this.serializer,e);const r=function N6(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Fo(t)}Wo(e){const t={};t.database=sb(this.serializer),t.removeTarget=e,this.Fo(t)}}class y$ extends k2{constructor(e,t,r,i,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=l,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const t=function M6(n,e){return n&&n.length>0?(Et(void 0!==e),n.map(t=>function(r,i){let l=$r(r.updateTime?r.updateTime:i);return l.isEqual(It.min())&&(l=$r(i)),new g6(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.Zo(r,t)}return Et(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=sb(this.serializer),this.Fo(e)}Yo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ob(this.serializer,r))};this.Fo(t)}}class v$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new Ne(ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.co(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(ae.UNKNOWN,i.toString())})}fo(e,t,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.fo(e,t,r,l,c,i)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(ae.UNKNOWN,l.toString())})}terminate(){this.eu=!0}}class T${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(jr(t),this.ru=!1):Pe("OnlineStateTracker",t)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class w${constructor(e,t,r,i,l){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=l,this._u.qr(p=>{r.enqueueAndForget((0,pe.Z)(function*(){var _;sd(c)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,pe.Z)(function*(T){const D=tt(T);D.du.add(4),yield L_(D),D.mu.set("Unknown"),D.du.delete(4),yield mb(D)}),function(T){return _.apply(this,arguments)})(c))}))}),this.mu=new T$(r,i)}}function mb(n){return jN.apply(this,arguments)}function jN(){return jN=(0,pe.Z)(function*(n){if(sd(n))for(const e of n.wu)yield e(!0)}),jN.apply(this,arguments)}function L_(n){return $N.apply(this,arguments)}function $N(){return $N=(0,pe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),$N.apply(this,arguments)}function TE(n,e){const t=tt(n);t.fu.has(e.targetId)||(t.fu.set(e.targetId,e),ZN(t)?WN(t):U_(t).No()&&zN(t,e))}function _b(n,e){const t=tt(n),r=U_(t);t.fu.delete(e),r.No()&&F2(t,e),0===t.fu.size&&(r.No()?r.$o():sd(t)&&t.mu.set("Unknown"))}function zN(n,e){n.gu.Ot(e.targetId),U_(n).jo(e)}function F2(n,e){n.gu.Ot(e),U_(n).Wo(e)}function WN(n){n.gu=new T6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.fu.get(e)||null}),U_(n).start(),n.mu.ou()}function ZN(n){return sd(n)&&!U_(n).xo()&&n.fu.size>0}function sd(n){return 0===tt(n).du.size}function L2(n){n.gu=void 0}function D$(n){return qN.apply(this,arguments)}function qN(){return qN=(0,pe.Z)(function*(n){n.fu.forEach((e,t)=>{zN(n,e)})}),qN.apply(this,arguments)}function E$(n,e){return KN.apply(this,arguments)}function KN(){return KN=(0,pe.Z)(function*(n,e){L2(n),ZN(n)?(n.mu.au(e),WN(n)):n.mu.set("Unknown")}),KN.apply(this,arguments)}function S$(n,e,t){return YN.apply(this,arguments)}function YN(){return YN=(0,pe.Z)(function*(n,e,t){if(n.mu.set("Online"),e instanceof PL&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(i,l){const c=l.cause;for(const p of l.targetIds)i.fu.has(p)&&(yield i.remoteSyncer.rejectListen(p,c),i.fu.delete(p),i.gu.removeTarget(p))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wE(n,r)}else if(e instanceof sE?n.gu.Kt(e):e instanceof RL?n.gu.Jt(e):n.gu.zt(e),!t.isEqual(It.min()))try{const r=yield S2(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const c=i.gu.Xt(l);return c.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=i.fu.get(_);T&&i.fu.set(_,T.withResumeToken(p.resumeToken,l))}}),c.targetMismatches.forEach(p=>{const _=i.fu.get(p);if(!_)return;i.fu.set(p,_.withResumeToken(_i.EMPTY_BYTE_STRING,_.snapshotVersion)),F2(i,p);const T=new Fh(_.target,p,1,_.sequenceNumber);zN(i,T)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield wE(n,r)}var r}),YN.apply(this,arguments)}function wE(n,e,t){return QN.apply(this,arguments)}function QN(){return QN=(0,pe.Z)(function*(n,e,t){if(!Ah(e))throw e;n.du.add(1),yield L_(n),n.mu.set("Offline"),t||(t=()=>S2(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.du.delete(1),yield mb(n)}))}),QN.apply(this,arguments)}function B2(n,e){return e().catch(t=>wE(n,t,e))}function B_(n){return JN.apply(this,arguments)}function JN(){return JN=(0,pe.Z)(function*(n){const e=tt(n),t=Vh(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;C$(e);)try{const i=yield c$(e.localStore,r);if(null===i){0===e.lu.length&&t.$o();break}r=i.batchId,I$(e,i)}catch(i){yield wE(e,i)}U2(e)&&V2(e)}),JN.apply(this,arguments)}function C$(n){return sd(n)&&n.lu.length<10}function I$(n,e){n.lu.push(e);const t=Vh(n);t.No()&&t.Jo&&t.Yo(e.mutations)}function U2(n){return sd(n)&&!Vh(n).xo()&&n.lu.length>0}function V2(n){Vh(n).start()}function A$(n){return XN.apply(this,arguments)}function XN(){return XN=(0,pe.Z)(function*(n){Vh(n).tu()}),XN.apply(this,arguments)}function M$(n){return eO.apply(this,arguments)}function eO(){return eO=(0,pe.Z)(function*(n){const e=Vh(n);for(const t of n.lu)e.Yo(t.mutations)}),eO.apply(this,arguments)}function N$(n,e,t){return tO.apply(this,arguments)}function tO(){return tO=(0,pe.Z)(function*(n,e,t){const r=n.lu.shift(),i=hN.from(r,e,t);yield B2(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield B_(n)}),tO.apply(this,arguments)}function O$(n,e){return nO.apply(this,arguments)}function nO(){return nO=(0,pe.Z)(function*(n,e){var t;e&&Vh(n).Jo&&(yield(t=(0,pe.Z)(function*(r,i){if(NL(l=i.code)&&l!==ae.ABORTED){const c=r.lu.shift();Vh(r).Oo(),yield B2(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield B_(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),U2(n)&&V2(n)}),nO.apply(this,arguments)}function G2(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,pe.Z)(function*(n,e){const t=tt(n);t.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=sd(t);t.du.add(3),yield L_(t),r&&t.mu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.du.delete(3),yield mb(t)}),rO.apply(this,arguments)}function iO(n,e){return sO.apply(this,arguments)}function sO(){return sO=(0,pe.Z)(function*(n,e){const t=tt(n);e?(t.du.delete(2),yield mb(t)):e||(t.du.add(2),yield L_(t),t.mu.set("Unknown"))}),sO.apply(this,arguments)}function U_(n){return n.yu||(n.yu=function(e,t,r){const i=tt(e);return i.nu(),new _$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:D$.bind(null,n),Zr:E$.bind(null,n),zo:S$.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.yu.Oo(),ZN(n)?WN(n):n.mu.set("Unknown")):(yield n.yu.stop(),L2(n))});return function(t){return e.apply(this,arguments)}}())),n.yu}function Vh(n){return n.pu||(n.pu=function(e,t,r){const i=tt(e);return i.nu(),new y$(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{Jr:A$.bind(null,n),Zr:O$.bind(null,n),Xo:M$.bind(null,n),Zo:N$.bind(null,n)}),n.wu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.pu.Oo(),yield B_(n)):(yield n.pu.stop(),n.lu.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.lu.length} pending writes`),n.lu=[]))});return function(t){return e.apply(this,arguments)}}())),n.pu}class oO{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,l){const c=Date.now()+r,p=new oO(e,t,c,i,l);return p.start(r),p}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function V_(n,e){if(jr("AsyncQueue",`${e}: ${n}`),Ah(n))return new Ne(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class G_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=Jv(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new G_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof G_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new G_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class H2{constructor(){this.Iu=new Nr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Iu.get(t);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(t):1===e.type&&2===r.type?this.Iu=this.Iu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):ft():this.Iu=this.Iu.insert(t,e)}Tu(){const e=[];return this.Iu.inorderTraversal((t,r)=>{e.push(r)}),e}}class H_{constructor(e,t,r,i,l,c,p,_,T){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=T}static fromInitialDocuments(e,t,r,i,l){const c=[];return t.forEach(p=>{c.push({type:0,doc:p})}),new H_(e,t,G_.emptySet(t),c,r,i,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class R${constructor(){this.Eu=void 0,this.listeners=[]}}class P${constructor(){this.queries=new xh(e=>dL(e),Yv),this.onlineState="Unknown",this.Au=new Set}}function aO(n,e){return lO.apply(this,arguments)}function lO(){return lO=(0,pe.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new R$),i)try{l.Eu=yield t.onListen(r)}catch(c){const p=V_(c,`Initialization of query '${uN(e.query)}' failed`);return void e.onError(p)}t.queries.set(r,l),l.listeners.push(e),e.Ru(t.onlineState),l.Eu&&e.vu(l.Eu)&&dO(t)}),lO.apply(this,arguments)}function uO(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,pe.Z)(function*(n,e){const t=tt(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const c=l.listeners.indexOf(e);c>=0&&(l.listeners.splice(c,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),cO.apply(this,arguments)}function x$(n,e){const t=tt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const p of c.listeners)p.vu(i)&&(r=!0);c.Eu=i}}r&&dO(t)}function k$(n,e,t){const r=tt(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function dO(n){n.Au.forEach(e=>{e.next()})}class hO{constructor(e,t,r){this.query=e,this.bu=t,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new H_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),t=!0):this.Du(e,this.onlineState)&&(this.Cu(e),t=!0),this.Vu=e,t}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}Du(e,t){return!e.fromCache||(!this.options.xu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=H_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class F${constructor(e,t){this.Nu=e,this.byteLength=t}ku(){return"metadata"in this.Nu}}class j2{constructor(e){this.serializer=e}Hi(e){return Lu(this.serializer,e)}Ji(e){return e.metadata.exists?HL(this.serializer,e.document,!1):tr.newNoDocument(this.Hi(e.metadata.name),this.Yi(e.metadata.readTime))}Yi(e){return $r(e)}}class L${constructor(e,t,r){this.Ou=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=$2(e)}$u(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Nu.namedQuery)this.queries.push(e.Nu.namedQuery);else if(e.Nu.documentMetadata){this.documents.push({metadata:e.Nu.documentMetadata}),e.Nu.documentMetadata.exists||++t;const r=fn.fromString(e.Nu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Nu.document&&(this.documents[this.documents.length-1].document=e.Nu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Mu(e){const t=new Map,r=new j2(this.serializer);for(const i of e)if(i.metadata.queries){const l=r.Hi(i.metadata.name);for(const c of i.metadata.queries){const p=(t.get(c)||Xt()).add(l);t.set(c,p)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function d$(n,e,t,r){return xN.apply(this,arguments)}(e.localStore,new j2(e.serializer),e.documents,e.Ou.id),r=e.Mu(e.documents);for(const i of e.queries)yield h$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Fu:e.collectionGroups,Bu:t}})()}}function $2(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class z2{constructor(e){this.key=e}}class W2{constructor(e){this.key=e}}class Z2{constructor(e,t){this.query=e,this.Lu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Xt(),this.mutatedKeys=Xt(),this.Ku=fL(e),this.Gu=new G_(this.Ku)}get Qu(){return this.Lu}zu(e,t){const r=t?t.ju:new H2,i=t?t.Gu:this.Gu;let l=t?t.mutatedKeys:this.mutatedKeys,c=i,p=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,T="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((D,M)=>{const P=i.get(D),L=Qv(this.query,M)?M:null,K=!!P&&this.mutatedKeys.has(P.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let re=!1;P&&L?P.data.isEqual(L.data)?K!==J&&(r.track({type:3,doc:L}),re=!0):this.Wu(P,L)||(r.track({type:2,doc:L}),re=!0,(_&&this.Ku(L,_)>0||T&&this.Ku(L,T)<0)&&(p=!0)):!P&&L?(r.track({type:0,doc:L}),re=!0):P&&!L&&(r.track({type:1,doc:P}),re=!0,(_||T)&&(p=!0)),re&&(L?(c=c.add(L),l=J?l.add(D):l.delete(D)):(c=c.delete(D),l=l.delete(D)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const D="F"===this.query.limitType?c.last():c.first();c=c.delete(D.key),l=l.delete(D.key),r.track({type:1,doc:D})}return{Gu:c,ju:r,Mi:p,mutatedKeys:l}}Wu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const l=e.ju.Tu();l.sort((T,D)=>function(M,P){const L=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return L(M)-L(P)}(T.type,D.type)||this.Ku(T.doc,D.doc)),this.Hu(r);const c=t?this.Ju():[],p=0===this.Uu.size&&this.current?1:0,_=p!==this.qu;return this.qu=p,0!==l.length||_?{snapshot:new H_(this.query,e.Gu,i,l,e.mutatedKeys,0===p,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:c}:{Yu:c}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new H2,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(t=>this.Lu=this.Lu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Lu=this.Lu.delete(t)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=Xt(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const t=[];return e.forEach(r=>{this.Uu.has(r)||t.push(new W2(r))}),this.Uu.forEach(r=>{e.has(r)||t.push(new z2(r))}),t}Xu(e){this.Lu=e.Wi,this.Uu=Xt();const t=this.zu(e.documents);return this.applyChanges(t,!0)}tc(){return H_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class B${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class U${constructor(e){this.key=e,this.ec=!1}}class V${constructor(e,t,r,i,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new xh(p=>dL(p),Yv),this.ic=new Map,this.rc=new Set,this.oc=new Nr(Xe.comparator),this.uc=new Map,this.cc=new IN,this.ac={},this.hc=new Map,this.lc=ig.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function G$(n,e){return fO.apply(this,arguments)}function fO(){return fO=(0,pe.Z)(function*(n,e){const t=FO(n);let r,i;const l=t.sc.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.tc();else{const c=yield k_(t.localStore,Ps(e));t.isPrimaryClient&&TE(t.remoteStore,c);const p=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield pO(t,e,r,"current"===p,c.resumeToken)}return i}),fO.apply(this,arguments)}function pO(n,e,t,r,i){return gO.apply(this,arguments)}function gO(){return gO=(0,pe.Z)(function*(n,e,t,r,i){n.dc=(M,P,L)=>{return(K=(0,pe.Z)(function*(J,re,Be,ze){let Ge=re.view.zu(Be);Ge.Mi&&(Ge=yield mE(J.localStore,re.query,!1).then(({documents:lt})=>re.view.zu(lt,Ge)));const Ue=ze&&ze.targetChanges.get(re.targetId),Ke=re.view.applyChanges(Ge,J.isPrimaryClient,Ue);return SO(J,re.targetId,Ke.Yu),Ke.snapshot}),function(J,re,Be,ze){return K.apply(this,arguments)})(n,M,P,L);var K};const l=yield mE(n.localStore,e,!0),c=new Z2(e,l.Wi),p=c.zu(l.documents),_=rb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),T=c.applyChanges(p,n.isPrimaryClient,_);SO(n,t,T.Yu);const D=new B$(e,t,c);return n.sc.set(e,D),n.ic.has(t)?n.ic.get(t).push(e):n.ic.set(t,[e]),T.snapshot}),gO.apply(this,arguments)}function H$(n,e){return mO.apply(this,arguments)}function mO(){return mO=(0,pe.Z)(function*(n,e){const t=tt(n),r=t.sc.get(e),i=t.ic.get(r.targetId);if(i.length>1)return t.ic.set(r.targetId,i.filter(l=>!Yv(l,e))),void t.sc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield F_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),_b(t.remoteStore,r.targetId),j_(t,r.targetId)}).catch(Ih))):(j_(t,r.targetId),yield F_(t.localStore,r.targetId,!0))}),mO.apply(this,arguments)}function _O(){return _O=(0,pe.Z)(function*(n,e,t){const r=LO(n);try{const i=yield function(l,c){const p=tt(l),_=gr.now(),T=c.reduce((P,L)=>P.add(L.key),Xt());let D,M;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=co(),K=Xt();return p.Ki.getEntries(P,T).next(J=>{L=J,L.forEach((re,Be)=>{Be.isValidDocument()||(K=K.add(re))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,L)).next(J=>{D=J;const re=[];for(const Be of c){const ze=_6(Be,D.get(Be.key).overlayedDocument);null!=ze&&re.push(new id(Be.key,ze,QF(ze.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,re,c)}).next(J=>{M=J;const re=J.applyToLocalDocumentSet(D,K);return p.documentOverlayCache.saveOverlays(P,J.batchId,re)})}).then(()=>({batchId:M.batchId,changes:gL(D)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,p){let _=l.ac[l.currentUser.toKey()];_||(_=new Nr(Zt)),_=_.insert(c,p),l.ac[l.currentUser.toKey()]=_}(r,i.batchId,t),yield od(r,i.changes),yield B_(r.remoteStore)}catch(i){const l=V_(i,"Failed to persist write");t.reject(l)}}),_O.apply(this,arguments)}function q2(n,e){return yO.apply(this,arguments)}function yO(){return yO=(0,pe.Z)(function*(n,e){const t=tt(n);try{const r=yield function u$(n,e){const t=tt(n),r=e.snapshotVersion;let i=t.Li;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.Ki.newChangeBuffer({trackRemovals:!0});i=t.Li;const p=[];e.targetChanges.forEach((D,M)=>{const P=i.get(M);if(!P)return;p.push(t.Ds.removeMatchingKeys(l,D.removedDocuments,M).next(()=>t.Ds.addMatchingKeys(l,D.addedDocuments,M)));let L=P.withSequenceNumber(l.currentSequenceNumber);var K,J,re;e.targetMismatches.has(M)?L=L.withResumeToken(_i.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):D.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(D.resumeToken,r)),i=i.insert(M,L),J=L,re=D,(0===(K=P).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=3e8||re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0)&&p.push(t.Ds.updateTargetData(l,L))});let _=co(),T=Xt();if(e.documentUpdates.forEach(D=>{e.resolvedLimboDocuments.has(D)&&p.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),p.push(C2(l,c,e.documentUpdates).next(D=>{_=D.zi,T=D.ji})),!r.isEqual(It.min())){const D=t.Ds.getLastRemoteSnapshotVersion(l).next(M=>t.Ds.setTargetsMetadata(l,l.currentSequenceNumber,r));p.push(D)}return oe.waitFor(p).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,_,T)).next(()=>_)}).then(l=>(t.Li=i,l))}(t.localStore,e);e.targetChanges.forEach((i,l)=>{const c=t.uc.get(l);c&&(Et(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.ec=!0:i.modifiedDocuments.size>0?Et(c.ec):i.removedDocuments.size>0&&(Et(c.ec),c.ec=!1))}),yield od(t,r,e)}catch(r){yield Ih(r)}}),yO.apply(this,arguments)}function K2(n,e,t){const r=tt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.sc.forEach((l,c)=>{const p=c.view.Ru(e);p.snapshot&&i.push(p.snapshot)}),function(l,c){const p=tt(l);p.onlineState=c;let _=!1;p.queries.forEach((T,D)=>{for(const M of D.listeners)M.Ru(c)&&(_=!0)}),_&&dO(p)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function $$(n,e,t){return vO.apply(this,arguments)}function vO(){return vO=(0,pe.Z)(function*(n,e,t){const r=tt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.uc.get(e),l=i&&i.key;if(l){let c=new Nr(Xe.comparator);c=c.insert(l,tr.newNoDocument(l,It.min()));const p=Xt().add(l),_=new nb(It.min(),new Map,new Bn(Zt),c,p);yield q2(r,_),r.oc=r.oc.remove(l),r.uc.delete(e),CO(r)}else yield F_(r.localStore,e,!1).then(()=>j_(r,e,t)).catch(Ih)}),vO.apply(this,arguments)}function z$(n,e){return bO.apply(this,arguments)}function bO(){return bO=(0,pe.Z)(function*(n,e){const t=tt(n),r=e.batch.batchId;try{const i=yield function l$(n,e){const t=tt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Ki.newChangeBuffer({trackRemovals:!0});return function(c,p,_,T){const D=_.batch,M=D.keys();let P=oe.resolve();return M.forEach(L=>{P=P.next(()=>T.getEntry(p,L)).next(K=>{const J=_.docVersions.get(L);Et(null!==J),K.version.compareTo(J)<0&&(D.applyToRemoteDocument(K,_),K.isValidDocument()&&(K.setReadTime(_.commitVersion),T.addEntry(K)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(p,D))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let p=Xt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(p=p.add(c.batch.mutations[_].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);EO(t,r,null),DO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield od(t,i)}catch(i){yield Ih(i)}}),bO.apply(this,arguments)}function W$(n,e,t){return TO.apply(this,arguments)}function TO(){return TO=(0,pe.Z)(function*(n,e,t){const r=tt(n);try{const i=yield function(l,c){const p=tt(l);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,c).next(D=>(Et(null!==D),T=D.keys(),p.mutationQueue.removeMutationBatch(_,D))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,c)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(r.localStore,e);EO(r,e,t),DO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield od(r,i)}catch(i){yield Ih(i)}}),TO.apply(this,arguments)}function wO(){return wO=(0,pe.Z)(function*(n,e){const t=tt(n);sd(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const c=tt(l);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>c.mutationQueue.getHighestUnacknowledgedBatchId(p))}(t.localStore);if(-1===r)return void e.resolve();const i=t.hc.get(r)||[];i.push(e),t.hc.set(r,i)}catch(r){const i=V_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),wO.apply(this,arguments)}function DO(n,e){(n.hc.get(e)||[]).forEach(t=>{t.resolve()}),n.hc.delete(e)}function EO(n,e,t){const r=tt(n);let i=r.ac[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function j_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ic.get(e))n.sc.delete(r),t&&n.nc.wc(r,t);n.ic.delete(e),n.isPrimaryClient&&n.cc.hs(e).forEach(r=>{n.cc.containsKey(r)||Y2(n,r)})}function Y2(n,e){n.rc.delete(e.path.canonicalString());const t=n.oc.get(e);null!==t&&(_b(n.remoteStore,t),n.oc=n.oc.remove(e),n.uc.delete(t),CO(n))}function SO(n,e,t){for(const r of t)r instanceof z2?(n.cc.addReference(r.key,e),q$(n,r)):r instanceof W2?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.cc.removeReference(r.key,e),n.cc.containsKey(r.key)||Y2(n,r.key)):ft()}function q$(n,e){const t=e.key,r=t.path.canonicalString();n.oc.get(t)||n.rc.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.rc.add(r),CO(n))}function CO(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const e=n.rc.values().next().value;n.rc.delete(e);const t=new Xe(fn.fromString(e)),r=n.lc.next();n.uc.set(r,new U$(t)),n.oc=n.oc.insert(t,r),TE(n.remoteStore,new Fh(Ps(C_(t.path)),r,2,Uo.ct))}}function od(n,e,t){return IO.apply(this,arguments)}function IO(){return IO=(0,pe.Z)(function*(n,e,t){const r=tt(n),i=[],l=[],c=[];var p;r.sc.isEmpty()||(r.sc.forEach((p,_)=>{c.push(r.dc(_,e,t).then(T=>{if((T||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,T?.fromCache?"not-current":"current"),T){i.push(T);const D=ON.Di(_.targetId,T);l.push(D)}}))}),yield Promise.all(c),r.nc.zo(i),yield(p=(0,pe.Z)(function*(_,T){const D=tt(_);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>oe.forEach(T,P=>oe.forEach(P.Vi,L=>D.persistence.referenceDelegate.addReference(M,P.targetId,L)).next(()=>oe.forEach(P.Si,L=>D.persistence.referenceDelegate.removeReference(M,P.targetId,L)))))}catch(M){if(!Ah(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const P=M.targetId;if(!M.fromCache){const L=D.Li.get(P),J=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);D.Li=D.Li.insert(P,J)}}}),function(_,T){return p.apply(this,arguments)})(r.localStore,l))}),IO.apply(this,arguments)}function K$(n,e){return AO.apply(this,arguments)}function AO(){return AO=(0,pe.Z)(function*(n,e){const t=tt(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield E2(t.localStore,e);t.currentUser=e,(i=t).hc.forEach(c=>{c.forEach(p=>{p.reject(new Ne(ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield od(t,r.Qi)}var i}),AO.apply(this,arguments)}function Y$(n,e){const t=tt(n),r=t.uc.get(e);if(r&&r.ec)return Xt().add(r.key);{let i=Xt();const l=t.ic.get(e);if(!l)return i;for(const c of l){const p=t.sc.get(c);i=i.unionWith(p.view.Qu)}return i}}function Q$(n,e){return MO.apply(this,arguments)}function MO(){return MO=(0,pe.Z)(function*(n,e){const t=tt(n),r=yield mE(t.localStore,e.query,!0),i=e.view.Xu(r);return t.isPrimaryClient&&SO(t,e.targetId,i.Yu),i}),MO.apply(this,arguments)}function J$(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,pe.Z)(function*(n,e){const t=tt(n);return A2(t.localStore,e).then(r=>od(t,r))}),NO.apply(this,arguments)}function X$(n,e,t,r){return OO.apply(this,arguments)}function OO(){return OO=(0,pe.Z)(function*(n,e,t,r){const i=tt(n),l=yield function(c,p){const _=tt(c),T=tt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",D=>T.In(D,p).next(M=>M?_.localDocuments.getDocuments(D,M):oe.resolve(null)))}(i.localStore,e);var p;null!==l?("pending"===t?yield B_(i.remoteStore):"acknowledged"===t||"rejected"===t?(EO(i,e,r||null),DO(i,e),p=e,tt(tt(i.localStore).mutationQueue).En(p)):ft(),yield od(i,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)}),OO.apply(this,arguments)}function RO(){return RO=(0,pe.Z)(function*(n,e){const t=tt(n);if(FO(t),LO(t),!0===e&&!0!==t.fc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield Q2(t,r.toArray());t.fc=!0,yield iO(t.remoteStore,!0);for(const l of i)TE(t.remoteStore,l)}else if(!1===e&&!1!==t.fc){const r=[];let i=Promise.resolve();t.ic.forEach((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(j_(t,c),F_(t.localStore,c,!0))),_b(t.remoteStore,c)}),yield i,yield Q2(t,r),function(l){const c=tt(l);c.uc.forEach((p,_)=>{_b(c.remoteStore,_)}),c.cc.ls(),c.uc=new Map,c.oc=new Nr(Xe.comparator)}(t),t.fc=!1,yield iO(t.remoteStore,!1)}}),RO.apply(this,arguments)}function Q2(n,e,t){return PO.apply(this,arguments)}function PO(){return PO=(0,pe.Z)(function*(n,e,t){const r=tt(n),i=[],l=[];for(const c of e){let p;const _=r.ic.get(c);if(_&&0!==_.length){p=yield k_(r.localStore,Ps(_[0]));for(const T of _){const D=r.sc.get(T),M=yield Q$(r,D);M.snapshot&&l.push(M.snapshot)}}else{const T=yield I2(r.localStore,c);p=yield k_(r.localStore,T),yield pO(r,J2(T),c,!1,p.resumeToken)}i.push(p)}return r.nc.zo(l),i}),PO.apply(this,arguments)}function J2(n){return uL(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function t7(n){const e=tt(n);return tt(tt(e.localStore).persistence).bi()}function n7(n,e,t,r){return xO.apply(this,arguments)}function xO(){return xO=(0,pe.Z)(function*(n,e,t,r){const i=tt(n);if(i.fc)return void Pe("SyncEngine","Ignoring unexpected query state notification.");const l=i.ic.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=yield A2(i.localStore,hL(l[0])),p=nb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,_i.EMPTY_BYTE_STRING);yield od(i,c,p);break}case"rejected":yield F_(i.localStore,e,!0),j_(i,e,r);break;default:ft()}}),xO.apply(this,arguments)}function r7(n,e,t){return kO.apply(this,arguments)}function kO(){return kO=(0,pe.Z)(function*(n,e,t){const r=FO(n);if(r.fc){for(const i of e){if(r.ic.has(i)){Pe("SyncEngine","Adding an already active target "+i);continue}const l=yield I2(r.localStore,i),c=yield k_(r.localStore,l);yield pO(r,J2(l),c.targetId,!1,c.resumeToken),TE(r.remoteStore,c)}for(const i of t)r.ic.has(i)&&(yield F_(r.localStore,i,!1).then(()=>{_b(r.remoteStore,i),j_(r,i)}).catch(Ih))}}),kO.apply(this,arguments)}function FO(n){const e=tt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=q2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Y$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$$.bind(null,e),e.nc.zo=x$.bind(null,e.eventManager),e.nc.wc=k$.bind(null,e.eventManager),e}function LO(n){const e=tt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=z$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W$.bind(null,e),e}class DE{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.serializer=gb(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return D2(this.persistence,new w2,e.initialUser,this.serializer)}createPersistence(e){return new b2(pE.Fs,this.serializer)}createSharedClientState(e){return new R2}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class BO extends DE{constructor(e,t,r){super(),this.mc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.mc.initialize(r,e),yield LO(r.mc.syncEngine),yield B_(r.mc.remoteStore),yield r.persistence.hi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return D2(this.persistence,new w2,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Z6(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new Aj(t,this.persistence);return new Ij(e.asyncQueue,r)}createPersistence(e){const t=NN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new MN(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,x2(),bE(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new R2}}class X2 extends BO{constructor(e,t){super(e,t,!1),this.mc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const i=r.mc.syncEngine;r.sharedClientState instanceof UN&&(r.sharedClientState.syncEngine={$r:X$.bind(null,i),Mr:n7.bind(null,i),Fr:r7.bind(null,i),bi:t7.bind(null,i),Or:J$.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.hi(function(){var l=(0,pe.Z)(function*(c){yield function e7(n,e){return RO.apply(this,arguments)}(r.mc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return l.apply(this,arguments)}}())})()}createSharedClientState(e){const t=x2();if(!UN.D(t))throw new Ne(ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=NN(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new UN(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class $_{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>K2(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=K$.bind(null,r.syncEngine),yield iO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new P$}createDatastore(e){const t=gb(e.databaseInfo.databaseId),r=new m$(e.databaseInfo);return new v$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=p=>K2(this.syncEngine,p,0),c=P2.D()?new P2:new f$,new w$(t,r,i,l,c);var t,r,i,l,c}createSyncEngine(e,t){return function(r,i,l,c,p,_,T){const D=new V$(r,i,l,c,p,_);return T&&(D.fc=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=tt(t);Pe("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield L_(r),r._u.shutdown(),r.mu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function eB(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class EE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class s7{constructor(e,t){this.Ic=e,this.serializer=t,this.metadata=new mi,this.buffer=new Uint8Array,this.Tc=new TextDecoder("utf-8"),this.Ec().then(r=>{r&&r.ku()?this.metadata.resolve(r.Nu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Nu)}`))},r=>this.metadata.reject(r))}close(){return this.Ic.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}_c(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Ec()})()}Ec(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Ac();if(null===t)return null;const r=e.Tc.decode(t),i=Number(r);isNaN(i)&&e.Rc(`length string (${r}) is not valid number`);const l=yield e.vc(i);return new F$(JSON.parse(l),t.length+i)})()}bc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Ac(){var e=this;return(0,pe.Z)(function*(){for(;e.bc()<0&&!(yield e.Pc()););if(0===e.buffer.length)return null;const t=e.bc();t<0&&e.Rc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}vc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Pc())&&t.Rc("Reached the end of bundle when more is expected.");const r=t.Tc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Rc(e){throw this.Ic.cancel(),new Error(`Invalid bundle format: ${e}`)}Pc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Ic.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class o7{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ne(ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pe.Z)(function*(l,c){const p=tt(l),_=sb(p.serializer)+"/documents",T={documents:c.map(L=>ib(p.serializer,L))},D=yield p.fo("BatchGetDocuments",_,T,c.length),M=new Map;D.forEach(L=>{const K=function I6(n,e){return"found"in e?function(t,r){Et(!!r.found);const i=Lu(t,r.found.name),l=$r(r.found.updateTime),c=r.found.createTime?$r(r.found.createTime):It.min(),p=new Fi({mapValue:{fields:r.found.fields}});return tr.newFoundDocument(i,l,c,p)}(n,e):"missing"in e?function(t,r){Et(!!r.missing),Et(!!r.readTime);const i=Lu(t,r.missing),l=$r(r.readTime);return tr.newNoDocument(i,l)}(n,e):ft()}(p.serializer,L);M.set(K.key.toString(),K)});const P=[];return c.forEach(L=>{const K=M.get(L.toString());Et(!!K),P.push(K)}),P}),function(l,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new N_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=Xe.fromPath(i);e.mutations.push(new cN(l,e.precondition(l)))}),yield(r=(0,pe.Z)(function*(i,l){const c=tt(i),p=sb(c.serializer)+"/documents",_={writes:l.map(T=>ob(c.serializer,T))};yield c.co("Commit",p,_)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ft();t=It.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Ne(ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?mr.exists(!1):mr.updateTime(t):mr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Ne(ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mr.updateTime(t)}return mr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class a7{constructor(e,t,r,i,l){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=l,this.Vc=r.maxAttempts,this.Co=new GN(this.asyncQueue,"transaction_retry")}run(){this.Vc-=1,this.Sc()}Sc(){var e=this;this.Co.Ao((0,pe.Z)(function*(){const t=new o7(e.datastore),r=e.Dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.Cc(l)}))}).catch(i=>{e.Cc(i)})}))}Dc(e){try{const t=this.updateFunction(e);return!jv(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Cc(e){this.Vc>0&&this.xc(e)?(this.Vc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sc(),Promise.resolve()))):this.deferred.reject(e)}xc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!NL(t)}return!1}}class l7{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=xi.UNAUTHENTICATED,this.clientId=IF.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,pe.Z)(function*(p){Pe("FirestoreClient","Received user=",p.uid),yield l.authCredentialListener(p),l.user=p});return function(p){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Pe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=V_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function SE(n,e){return UO.apply(this,arguments)}function UO(){return UO=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pe.Z)(function*(l){r.isEqual(l)||(yield E2(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),UO.apply(this,arguments)}function VO(n,e){return GO.apply(this,arguments)}function GO(){return GO=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield HO(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>G2(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,l)=>G2(e.remoteStore,l)),n._onlineComponents=e}),GO.apply(this,arguments)}function tB(n){return"FirebaseError"===n.name?n.code===ae.FAILED_PRECONDITION||n.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function HO(n){return jO.apply(this,arguments)}function jO(){return jO=(0,pe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{yield SE(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!tB(t))throw t;Pu("Error using user provided cache. Falling back to memory cache: "+t),yield SE(n,new DE)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),yield SE(n,new DE);return n._offlineComponents}),jO.apply(this,arguments)}function CE(n){return $O.apply(this,arguments)}function $O(){return $O=(0,pe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),yield VO(n,n._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield VO(n,new $_))),n._onlineComponents}),$O.apply(this,arguments)}function nB(n){return HO(n).then(e=>e.persistence)}function IE(n){return HO(n).then(e=>e.localStore)}function zO(n){return CE(n).then(e=>e.remoteStore)}function WO(n){return CE(n).then(e=>e.syncEngine)}function z_(n){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,pe.Z)(function*(n){const e=yield CE(n),t=e.eventManager;return t.onListen=G$.bind(null,e.syncEngine),t.onUnlisten=H$.bind(null,e.syncEngine),t}),ZO.apply(this,arguments)}function iB(n,e,t={}){const r=new mi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,l,c,p,_){const T=new EE({next:M=>{l.enqueueAndForget(()=>uO(i,D));const P=M.docs.has(c);!P&&M.fromCache?_.reject(new Ne(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&M.fromCache&&p&&"server"===p.source?_.reject(new Ne(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new hO(C_(c.path),T,{includeMetadataChanges:!0,xu:!0});return aO(i,D)}(yield z_(n),n.asyncQueue,e,t,r)})),r.promise}function sB(n,e,t={}){const r=new mi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,l,c,p,_){const T=new EE({next:M=>{l.enqueueAndForget(()=>uO(i,D)),M.fromCache&&"server"===p.source?_.reject(new Ne(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),D=new hO(c,T,{includeMetadataChanges:!0,xu:!0});return aO(i,D)}(yield z_(n),n.asyncQueue,e,t,r)})),r.promise}const oB=new Map;function qO(n,e,t){if(!t)throw new Ne(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aB(n,e,t,r){if(!0===e&&!0===r)throw new Ne(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lB(n){if(!Xe.isDocumentKey(n))throw new Ne(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uB(n){if(Xe.isDocumentKey(n))throw new Ne(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ft()}function cn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=AE(n);throw new Ne(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function cB(n,e){if(e<=0)throw new Ne(ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class dB{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,aB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class yb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dB(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new gj;switch(t.type){case"firstParty":return new vj(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=oB.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),oB.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Bu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Bu extends Yi{constructor(e,t,r){super(e,t,C_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Xe(e))}withConverter(e){return new Bu(this.firestore,e,this._path)}}function fB(n,e,...t){if(n=(0,Yt.m9)(n),qO("collection","path",e),n instanceof yb){const r=fn.fromString(e,...t);return uB(r),new Bu(n,null,r)}{if(!(n instanceof nr||n instanceof Bu))throw new Ne(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return uB(r),new Bu(n.firestore,null,r)}}function ME(n,e,...t){if(n=(0,Yt.m9)(n),1===arguments.length&&(e=IF.A()),qO("doc","path",e),n instanceof yb){const r=fn.fromString(e,...t);return lB(r),new nr(n,null,new Xe(r))}{if(!(n instanceof nr||n instanceof Bu))throw new Ne(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(fn.fromString(e,...t));return lB(r),new nr(n.firestore,n instanceof Bu?n.converter:null,new Xe(r))}}function pB(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),(n instanceof nr||n instanceof Bu)&&(e instanceof nr||e instanceof Bu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function KO(n,e){return n=(0,Yt.m9)(n),e=(0,Yt.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&Yv(n._query,e._query)&&n.converter===e.converter}class y7{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new GN(this,"async_queue_retry"),this.qc=()=>{const t=bE();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Co.vo()};const e=bE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const t=bE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const t=new mi;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(t){if(!Ah(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const t=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,jr("INTERNAL UNHANDLED ERROR: ",function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),c}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=t,t}enqueueAfterDelay(e,t,r){this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);const i=oO.createAndSchedule(this,e,t,r,l=>this.Qc(l));return this.$c.push(i),i}Uc(){this.Mc&&ft()}verifyOperationInProgress(){}zc(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Nc,yield t}while(t!==e.Nc)})()}jc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function YO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class v7{constructor(){this._progressObserver={},this._taskCompletionResolver=new mi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class rr extends yb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new y7,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gB(this),this._firestoreClient.terminate()}}function zr(n){return n._firestoreClient||gB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gB(n){var e,t,r;const i=n._freezeSettings(),l=(p=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Yj(n._databaseId,p,n._persistenceKey,(T=i).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var p,T;n._firestoreClient=new l7(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function mB(n,e,t){const r=new mi;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield SE(n,t),yield VO(n,e),r.resolve()}catch(i){const l=i;if(!tB(l))throw l;Pu("Error enabling indexeddb cache. Falling back to memory cache: "+l),r.reject(l)}})).then(()=>r.promise)}function _B(n){if(n._initialized||n._terminated)throw new Ne(ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Uu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uu(_i.fromBase64String(e))}catch(t){throw new Ne(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uu(_i.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ad{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ne(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class og{constructor(e){this._methodName=e}}class NE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const N7=/^__.*__$/;class O7{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new id(e,this.data,this.fieldMask,t,this.fieldTransforms):new M_(e,this.data,t,this.fieldTransforms)}}class yB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new id(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function vB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class OE{constructor(e,t,r,i,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===l&&this.Jc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new OE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return xE(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(vB(this.Yc)&&N7.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class R7{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||gb(e)}ua(e,t,r,i=!1){return new OE({Yc:e,methodName:t,oa:r,path:Mr.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(n){const e=n._freezeSettings(),t=gb(n._databaseId);return new R7(n._databaseId,!!e.ignoreUndefinedProperties,t)}function RE(n,e,t,r,i,l={}){const c=n.ua(l.merge||l.mergeFields?2:0,e,t,i);eR("Data must be an object, but it was:",c,r);const p=wB(r,c);let _,T;if(l.merge)_=new uo(c.fieldMask),T=c.fieldTransforms;else if(l.mergeFields){const D=[];for(const M of l.mergeFields){const P=Tb(e,M,t);if(!c.contains(P))throw new Ne(ae.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);EB(D,P)||D.push(P)}_=new uo(D),T=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,T=c.fieldTransforms;return new O7(new Fi(p),_,T)}class bb extends og{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof bb}}function bB(n,e,t){return new OE({Yc:3,oa:e.settings.oa,methodName:n._methodName,ta:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QO extends og{_toFieldTransform(e){return new eb(e.path,new I_)}isEqual(e){return e instanceof QO}}class P7 extends og{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=bB(this,e,!0),r=this.ca.map(l=>lg(l,t)),i=new Qp(r);return new eb(e.path,i)}isEqual(e){return this===e}}class x7 extends og{constructor(e,t){super(e),this.ca=t}_toFieldTransform(e){const t=bB(this,e,!0),r=this.ca.map(l=>lg(l,t)),i=new Jp(r);return new eb(e.path,i)}isEqual(e){return this===e}}class k7 extends og{constructor(e,t){super(e),this.aa=t}_toFieldTransform(e){const t=new A_(e.serializer,vL(e.serializer,this.aa));return new eb(e.path,t)}isEqual(e){return this===e}}function JO(n,e,t,r){const i=n.ua(1,e,t);eR("Data must be an object, but it was:",i,r);const l=[],c=Fi.empty();zp(r,(_,T)=>{const D=PE(e,_,t);T=(0,Yt.m9)(T);const M=i.na(D);if(T instanceof bb)l.push(D);else{const P=lg(T,M);null!=P&&(l.push(D),c.set(D,P))}});const p=new uo(l);return new yB(c,p,i.fieldTransforms)}function XO(n,e,t,r,i,l){const c=n.ua(1,e,t),p=[Tb(e,r,t)],_=[i];if(l.length%2!=0)throw new Ne(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<l.length;P+=2)p.push(Tb(e,l[P])),_.push(l[P+1]);const T=[],D=Fi.empty();for(let P=p.length-1;P>=0;--P)if(!EB(T,p[P])){const L=p[P];let K=_[P];K=(0,Yt.m9)(K);const J=c.na(L);if(K instanceof bb)T.push(L);else{const re=lg(K,J);null!=re&&(T.push(L),D.set(L,re))}}const M=new uo(T);return new yB(D,M,c.fieldTransforms)}function TB(n,e,t,r=!1){return lg(t,n.ua(r?4:3,e))}function lg(n,e){if(DB(n=(0,Yt.m9)(n)))return eR("Unsupported field value:",e,n),wB(n,e);if(n instanceof og)return function(t,r){if(!vB(r.Yc))throw r.ia(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const c of t){let p=lg(c,r.sa(l));null==p&&(p={nullValue:"NULL_VALUE"}),i.push(p),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Yt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vL(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=gr.fromDate(t);return{timestampValue:O_(r.serializer,i)}}if(t instanceof gr){const i=new gr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:O_(r.serializer,i)}}if(t instanceof NE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Uu)return{bytesValue:LL(r.serializer,t._byteString)};if(t instanceof nr){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.ia(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ia(`Unsupported field value: ${AE(t)}`)}(n,e)}function wB(n,e){const t={};return HF(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zp(n,(r,i)=>{const l=lg(i,e.Xc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function DB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof gr||n instanceof NE||n instanceof Uu||n instanceof nr||n instanceof og)}function eR(n,e,t){if(!DB(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=AE(t);throw e.ia("an object"===r?n+" a custom object":n+" "+r)}var r}function Tb(n,e,t){if((e=(0,Yt.m9)(e))instanceof ad)return e._internalPath;if("string"==typeof e)return PE(n,e);throw xE("Field path arguments must be of type string or ",n,!1,void 0,t)}const F7=new RegExp("[~\\*/\\[\\]]");function PE(n,e,t){if(e.search(F7)>=0)throw xE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ad(...e.split("."))._internalPath}catch{throw xE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xE(n,e,t,r,i){const l=r&&!r.isEmpty(),c=void 0!==i;let p=`Function ${e}() called with invalid data`;t&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(l||c)&&(_+=" (found",l&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Ne(ae.INVALID_ARGUMENT,p+n+_)}function EB(n,e){return n.some(t=>t.isEqual(e))}class wb{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new L7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(kE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class L7 extends wb{data(){return super.data()}}function kE(n,e){return"string"==typeof e?PE(n,e):e instanceof ad?e._internalPath:e._delegate._internalPath}function SB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ne(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tR{}class Db extends tR{}function Gh(n,e,...t){let r=[];e instanceof tR&&r.push(e),r=r.concat(t),function(i){const l=i.filter(p=>p instanceof W_).length,c=i.filter(p=>p instanceof Eb).length;if(l>1||l>0&&c>0)throw new Ne(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class Eb extends Db{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Eb(e,t,r)}_apply(e){const t=this._parse(e);return MB(e._query,t),new Yi(e.firestore,e.converter,lN(e._query,t))}_parse(e){const t=ag(e.firestore);return function(i,l,c,p,_,T,D){let M;if(_.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Ne(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if("in"===T||"not-in"===T){AB(D,T);const P=[];for(const L of D)P.push(IB(p,i,L));M={arrayValue:{values:P}}}else M=IB(p,i,D)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||AB(D,T),M=TB(c,"where",D,"in"===T||"not-in"===T);return un.create(_,T,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class W_ extends tR{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new W_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let l=r;const c=i.getFlattenedFilters();for(const p of c)MB(l,p),l=lN(l,p)}(e._query,t),new Yi(e.firestore,e.converter,lN(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class nR extends Db{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new nR(e,t)}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Ne(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ne(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new E_(i,l);return function(p,_){if(null===oN(p)){const T=JD(p);null!==T&&NB(0,T,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new rd(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class FE extends Db{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new FE(e,t,r)}_apply(e){return new Yi(e.firestore,e.converter,XD(e._query,this._limit,this._limitType))}}class LE extends Db{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new LE(e,t,r)}_apply(e){const t=CB(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(i=t,new rd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class BE extends Db{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new BE(e,t,r)}_apply(e){const t=CB(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(i=t,new rd((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function CB(n,e,t,r){if(t[0]=(0,Yt.m9)(t[0]),t[0]instanceof wb)return function(i,l,c,p,_){if(!p)throw new Ne(ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const T=[];for(const D of Yp(i))if(D.field.isKeyField())T.push(qp(l,p.key));else{const M=p.data.field(D.field);if(XM(M))throw new Ne(ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+D.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const P=D.field.canonicalString();throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${P}' (used as the orderBy) does not exist.`)}T.push(M)}return new Ph(T,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=ag(n.firestore);return function(l,c,p,_,T,D){const M=l.explicitOrderBy;if(T.length>M.length)throw new Ne(ae.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const P=[];for(let L=0;L<T.length;L++){const K=T[L];if(M[L].field.isKeyField()){if("string"!=typeof K)throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof K}`);if(!aN(l)&&-1!==K.indexOf("/"))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${K}' contains a slash.`);const J=l.path.child(fn.fromString(K));if(!Xe.isDocumentKey(J))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const re=new Xe(J);P.push(qp(c,re))}else{const J=TB(p,_,K);P.push(J)}}return new Ph(P,D)}(n._query,n.firestore._databaseId,i,e,t,r)}}function IB(n,e,t){if("string"==typeof(t=(0,Yt.m9)(t))){if(""===t)throw new Ne(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aN(e)&&-1!==t.indexOf("/"))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(fn.fromString(t));if(!Xe.isDocumentKey(r))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qp(n,new Xe(r))}if(t instanceof nr)return qp(n,t._key);throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${AE(t)}.`)}function AB(n,e){if(!Array.isArray(n)||0===n.length)throw new Ne(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function MB(n,e){if(e.isInequality()){const r=JD(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const l=oN(n);null!==l&&NB(0,i,l)}const t=function(r,i){for(const l of r)for(const c of l.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ne(ae.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function NB(n,e,t){if(!t.isEqual(e))throw new Ne(ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class rR{convertValue(e,t="none"){switch(Zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ft()}}convertObject(e,t){const r={};return zp(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new NE(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=$F(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zv(e));default:return null}}convertTimestamp(e){const t=Mh(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=fn.fromString(e);Et(ZL(r));const i=new Nh(r.get(1),r.get(3)),l=new Xe(r.popFirst(5));return i.isEqual(t)||jr(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function UE(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class W7 extends rR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}class ug{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends wb{constructor(e,t,r,i,l,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(kE("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Sb extends ld{data(e={}){return super.data(e)}}class Hh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ug(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Sb(this._firestore,this._userDataWriter,r.key,r,new ug(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new Sb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const p=new Sb(r._firestore,r._userDataWriter,c.doc.key,c.doc,new ug(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,T=-1;return 0!==c.type&&(_=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),1!==c.type&&(l=l.add(c.doc),T=l.indexOf(c.doc.key)),{type:q7(c.type),doc:p,oldIndex:_,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function q7(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function RB(n,e){return n instanceof ld&&e instanceof ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Hh&&e instanceof Hh&&n._firestore===e._firestore&&KO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class jh extends rR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function PB(n,e,t){n=cn(n,nr);const r=cn(n.firestore,rr),i=UE(n.converter,e,t);return Z_(r,[RE(ag(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,mr.none())])}function xB(n,e,t,...r){n=cn(n,nr);const i=cn(n.firestore,rr),l=ag(i);let c;return c="string"==typeof(e=(0,Yt.m9)(e))||e instanceof ad?XO(l,"updateDoc",n._key,e,t,r):JO(l,"updateDoc",n._key,e),Z_(i,[c.toMutation(n._key,mr.exists(!0))])}function kB(n,...e){var t,r,i;n=(0,Yt.m9)(n);let l={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||YO(e[c])||(l=e[c],c++);const p={includeMetadataChanges:l.includeMetadataChanges};if(YO(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,T,D;if(n instanceof nr)T=cn(n.firestore,rr),D=C_(n._key.path),_={next:M=>{e[c]&&e[c](iR(T,n,M))},error:e[c+1],complete:e[c+2]};else{const M=cn(n,Yi);T=cn(M.firestore,rr),D=M._query;const P=new jh(T);_={next:L=>{e[c]&&e[c](new Hh(T,P,M,L))},error:e[c+1],complete:e[c+2]},SB(n._query)}return function(M,P,L,K){const J=new EE(K),re=new hO(P,J,L);return M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return aO(yield z_(M),re)})),()=>{J.yc(),M.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return uO(yield z_(M),re)}))}}(zr(T),D,p,_)}function Z_(n,e){return function(t,r){const i=new mi;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function j$(n,e,t){return _O.apply(this,arguments)}(yield WO(t),r,i)})),i.promise}(zr(n),e)}function iR(n,e,t){const r=t.docs.get(e._key),i=new jh(n);return new ld(n,i,e._key,r,new ug(t.hasPendingWrites,t.fromCache),e.converter)}const cz={maxAttempts:5};class FB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ag(e)}set(e,t,r){this._verifyNotCommitted();const i=$h(e,this._firestore),l=UE(i.converter,t,r),c=RE(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,mr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=$h(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof ad?XO(this._dataReader,"WriteBatch.update",l._key,t,r,i):JO(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,mr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=$h(e,this._firestore);return this._mutations=this._mutations.concat(new N_(t._key,mr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function $h(n,e){if((n=(0,Yt.m9)(n)).firestore!==e)throw new Ne(ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class dz extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=ag(e)}get(e){const t=$h(e,this._firestore),r=new W7(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return ft();const l=i[0];if(l.isFoundDocument())return new wb(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new wb(this._firestore,r,t._key,null,t.converter);throw ft()})}set(e,t,r){const i=$h(e,this._firestore),l=UE(i.converter,t,r),c=RE(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const l=$h(e,this._firestore);let c;return c="string"==typeof(t=(0,Yt.m9)(t))||t instanceof ad?XO(this._dataReader,"Transaction.update",l._key,t,r,i):JO(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,c),this}delete(e){const t=$h(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=$h(e,this._firestore),r=new jh(this._firestore);return super.get(e).then(i=>new ld(this._firestore,r,t._key,i._document,new ug(!1,!1),t.converter))}}!function(n,e=!0){b_=Cl.SDK_VERSION,(0,Cl._registerComponent)(new d_.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const l=t.getProvider("app").getImmediate(),c=new rr(new _j(t.getProvider("auth-internal")),new bj(t.getProvider("app-check-internal")),function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ne(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nh(p.options.projectId,_)}(l,r),l);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Cl.registerVersion)(EF,"3.10.0",n),(0,Cl.registerVersion)(EF,"3.10.0","esm2017")}();function sR(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function BB(){if(typeof Uint8Array>"u")throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function UB(){if(!function qj(){return typeof atob<"u"}())throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Cb{constructor(e){this._delegate=e}static fromBase64String(e){return UB(),new Cb(Uu.fromBase64String(e))}static fromUint8Array(e){return BB(),new Cb(Uu.fromUint8Array(e))}toBase64(){return UB(),this._delegate.toBase64()}toUint8Array(){return BB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function oR(n){return function bz(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class Tz{enableIndexedDbPersistence(e,t){return function T7(n,e){_B(n=cn(n,rr));const t=zr(n);if(t._uninitializedComponentsProvider)throw new Ne(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Pu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new $_;return mB(t,i,new BO(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function w7(n){_B(n=cn(n,rr));const e=zr(n);if(e._uninitializedComponentsProvider)throw new Ne(ae.FAILED_PRECONDITION,"SDK cache is already specified.");Pu("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new $_;return mB(e,r,new X2(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function D7(n){if(n._initialized&&!n._terminated)throw new Ne(ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new mi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!Al.D())return Promise.resolve();const i=r+"main";yield Al.delete(i)}),function(r){return t.apply(this,arguments)})(NN(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class VB{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Nh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Pu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function hB(n,e,t,r={}){var i;const l=(n=cn(n,yb))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&Pu("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,p;if("string"==typeof r.mockUserToken)c=r.mockUserToken,p=xi.MOCK_USER;else{c=(0,Yt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ne(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xi(_)}n._authCredentials=new mj(new SF(c,p))}}(this._delegate,e,t,r)}enableNetwork(){return function S7(n){return function u7(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield nB(n),t=yield zO(n);return e.setNetworkEnabled(!0),function(r){const i=tt(r);return i.du.delete(0),mb(i)}(t)}))}(zr(n=cn(n,rr)))}(this._delegate)}disableNetwork(){return function C7(n){return function c7(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield nB(n),t=yield zO(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(i){const l=tt(i);l.du.add(0),yield L_(l),l.mu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(zr(n=cn(n,rr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,aB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function E7(n){return function(e){const t=new mi;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function Z$(n,e){return wO.apply(this,arguments)}(yield WO(e),t)})),t.promise}(zr(n=cn(n,rr)))}(this._delegate)}onSnapshotsInSync(e){return function rz(n,e){return function f7(n,e){const t=new EE(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield z_(n),i=t,tt(r).Au.add(i),void i.next();var r,i})),()=>{t.yc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield z_(n),i=t,void tt(r).Au.delete(i);var r,i}))}}(zr(n=cn(n,rr)),YO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new q_(this,fB(this._delegate,e))}catch(t){throw xs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Oa(this,ME(this._delegate,e))}catch(t){throw xs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ks(this,function _7(n,e){if(n=cn(n,yb),qO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ne(ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Yi(n,null,(t=e,new rd(fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw xs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function hz(n,e,t){n=cn(n,rr);const r=Object.assign(Object.assign({},cz),t);return function(i){if(i.maxAttempts<1)throw new Ne(ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,l,c){const p=new mi;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const _=yield function rB(n){return CE(n).then(e=>e.datastore)}(i);new a7(i.asyncQueue,_,c,l,p).run()})),p.promise}(zr(n),i=>e(new dz(n,i)),r)}(this._delegate,t=>e(new GB(this,t)))}batch(){return zr(this._delegate),new HB(new FB(this._delegate,e=>Z_(this._delegate,e)))}loadBundle(e){return function I7(n,e){const t=zr(n=cn(n,rr)),r=new v7;return function p7(n,e,t,r){const i=function(l,c){let p;return p="string"==typeof l?(new TextEncoder).encode(l):l,_=function(_,T){if(_ instanceof Uint8Array)return eB(_,T);if(_ instanceof ArrayBuffer)return eB(new Uint8Array(_),T);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(p),new s7(_,c);var _}(t,gb(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function i7(n,e,t){const r=tt(n);var i;(i=(0,pe.Z)(function*(l,c,p){try{const _=yield c.getMetadata();if(yield function(P,L){const K=tt(P),J=$r(L.createTime);return K.persistence.runTransaction("hasNewerBundle","readonly",re=>K.xs.getBundleMetadata(re,L.id)).then(re=>!!re&&re.createTime.compareTo(J)>=0)}(l.localStore,_))return yield c.close(),p._completeWith({taskState:"Success",documentsLoaded:(P=_).totalDocuments,bytesLoaded:P.totalBytes,totalDocuments:P.totalDocuments,totalBytes:P.totalBytes}),Promise.resolve(new Set);p._updateProgress($2(_));const T=new L$(_,l.localStore,c.serializer);let D=yield c._c();for(;D;){const P=yield T.$u(D);P&&p._updateProgress(P),D=yield c._c()}const M=yield T.complete();return yield od(l,M.Bu,void 0),yield function(P,L){const K=tt(P);return K.persistence.runTransaction("Save bundle","readwrite",J=>K.xs.saveBundleMetadata(J,L))}(l.localStore,_),p._completeWith(M.progress),Promise.resolve(M.Fu)}catch(_){return Pu("SyncEngine",`Loading bundle failed with ${_}`),p._failWith(_),Promise.resolve(new Set)}var P}),function(l,c,p){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield WO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function A7(n,e){return function g7(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const i=tt(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.xs.getNamedQuery(l,r))}(yield IE(n),e)}))}(zr(n=cn(n,rr)),e).then(t=>t?new Yi(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ks(this,t):null)}}class VE extends rR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cb(new Uu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Oa.forKey(t,this.firestore,null)}}class GB{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new VE(e)}get(e){const t=dg(e);return this._delegate.get(t).then(r=>new Ib(this._firestore,new ld(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=dg(e);return r?(sR("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=dg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}}class HB{constructor(e){this._delegate=e}set(e,t,r){const i=dg(e);return r?(sR("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=dg(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=dg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Sb(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ab(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=cg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new cg(e,new VE(e),t),i.set(t,l)),l}}cg.INSTANCES=new WeakMap;class Oa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VE(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Oa(t,new nr(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new Oa(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new q_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new q_(this.firestore,fB(this._delegate,e))}catch(t){throw xs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Yt.m9)(e))instanceof nr&&pB(this._delegate,e)}set(e,t){t=sR("DocumentReference.set",t);try{return t?PB(this._delegate,e,t):PB(this._delegate,e)}catch(r){throw xs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?xB(this._delegate,e):xB(this._delegate,e,t,...r)}catch(i){throw xs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function tz(n){return Z_(cn(n.firestore,rr),[new N_(n._key,mr.none())])}(this._delegate)}onSnapshot(...e){const t=jB(e),r=$B(e,i=>new Ib(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return kB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Y7(n){n=cn(n,nr);const e=cn(n.firestore,rr),t=zr(e),r=new jh(e);return function d7(n,e){const t=new mi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,l,c){try{const p=yield function(_,T){const D=tt(_);return D.persistence.runTransaction("read document","readonly",M=>D.localDocuments.getDocument(M,T))}(i,l);p.isFoundDocument()?c.resolve(p):p.isNoDocument()?c.resolve(null):c.reject(new Ne(ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(p){const _=V_(p,`Failed to get document '${l} from cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield IE(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ld(e,r,n._key,i,new ug(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function Q7(n){n=cn(n,nr);const e=cn(n.firestore,rr);return iB(zr(e),n._key,{source:"server"}).then(t=>iR(e,n,t))}(this._delegate):function K7(n){n=cn(n,nr);const e=cn(n.firestore,rr);return iB(zr(e),n._key).then(t=>iR(e,n,t))}(this._delegate),t.then(r=>new Ib(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Oa(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function xs(n,e,t){return n.message=n.message.replace(e,t),n}function jB(n){for(const e of n)if("object"==typeof e&&!oR(e))return e;return{}}function $B(n,e){var t,r;let i;return i=oR(n[0])?n[0]:oR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ib{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Oa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RB(this._delegate,e._delegate)}}class Ab extends Ib{data(e){const t=this._delegate.data(e);return function pj(n,e){n||ft()}(void 0!==t),t}}class ks{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new VE(e)}where(e,t,r){try{return new ks(this.firestore,Gh(this._delegate,function B7(n,e,t){const r=e,i=kE("where",n);return Eb._create(i,r,t)}(e,t,r)))}catch(i){throw xs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ks(this.firestore,Gh(this._delegate,function U7(n,e="asc"){const t=e,r=kE("orderBy",n);return nR._create(r,t)}(e,t)))}catch(r){throw xs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ks(this.firestore,Gh(this._delegate,function V7(n){return cB("limit",n),FE._create("limit",n,"F")}(e)))}catch(t){throw xs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ks(this.firestore,Gh(this._delegate,function G7(n){return cB("limitToLast",n),FE._create("limitToLast",n,"L")}(e)))}catch(t){throw xs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ks(this.firestore,Gh(this._delegate,function H7(...n){return LE._create("startAt",n,!0)}(...e)))}catch(t){throw xs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ks(this.firestore,Gh(this._delegate,function j7(...n){return LE._create("startAfter",n,!1)}(...e)))}catch(t){throw xs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ks(this.firestore,Gh(this._delegate,function $7(...n){return BE._create("endBefore",n,!1)}(...e)))}catch(t){throw xs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ks(this.firestore,Gh(this._delegate,function z7(...n){return BE._create("endAt",n,!0)}(...e)))}catch(t){throw xs(t,"endAt()","Query.endAt()")}}isEqual(e){return KO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function X7(n){n=cn(n,Yi);const e=cn(n.firestore,rr),t=zr(e),r=new jh(e);return function h7(n,e){const t=new mi;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,l,c){try{const p=yield mE(i,l,!0),_=new Z2(l,p.Wi),T=_.zu(p.documents),D=_.applyChanges(T,!1);c.resolve(D.snapshot)}catch(p){const _=V_(p,`Failed to execute query '${l} against cache`);c.reject(_)}}),function(i,l,c){return r.apply(this,arguments)})(yield IE(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Hh(e,r,n,i))}(this._delegate):"server"===e?.source?function ez(n){n=cn(n,Yi);const e=cn(n.firestore,rr),t=zr(e),r=new jh(e);return sB(t,n._query,{source:"server"}).then(i=>new Hh(e,r,n,i))}(this._delegate):function J7(n){n=cn(n,Yi);const e=cn(n.firestore,rr),t=zr(e),r=new jh(e);return SB(n._query),sB(t,n._query).then(i=>new Hh(e,r,n,i))}(this._delegate),t.then(r=>new aR(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jB(e),r=$B(e,i=>new aR(this.firestore,new Hh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return kB(this._delegate,t,r)}withConverter(e){return new ks(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}class Dz{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ab(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class aR{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ab(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Dz(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ab(this._firestore,r))})}isEqual(e){return RB(this._delegate,e._delegate)}}class q_ extends ks{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Oa(this.firestore,e):null}doc(e){try{return new Oa(this.firestore,void 0===e?ME(this._delegate):ME(this._delegate,e))}catch(t){throw xs(t,"doc()","CollectionReference.doc()")}}add(e){return function nz(n,e){const t=cn(n.firestore,rr),r=ME(n),i=UE(n.converter,e);return Z_(t,[RE(ag(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Oa(this.firestore,t))}isEqual(e){return pB(this._delegate,e._delegate)}withConverter(e){return new q_(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function dg(n){return cn(n,nr)}class lR{constructor(...e){this._delegate=new ad(...e)}static documentId(){return new lR(Mr.keyField().canonicalString())}isEqual(e){return(e=(0,Yt.m9)(e))instanceof ad&&this._delegate._internalPath.isEqual(e._internalPath)}}class hg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function pz(){return new QO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new hg(e)}static delete(){const e=function fz(){return new bb("deleteField")}();return e._methodName="FieldValue.delete",new hg(e)}static arrayUnion(...e){const t=function gz(...n){return new P7("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new hg(t)}static arrayRemove(...e){const t=function mz(...n){return new x7("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new hg(t)}static increment(e){const t=function _z(n){return new k7("increment",n)}(e);return t._methodName="FieldValue.increment",new hg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Ez={Firestore:VB,GeoPoint:NE,Timestamp:gr,Blob:Cb,Transaction:GB,WriteBatch:HB,DocumentReference:Oa,DocumentSnapshot:Ib,Query:ks,QueryDocumentSnapshot:Ab,QuerySnapshot:aR,CollectionReference:q_,FieldPath:lR,FieldValue:hg,setLogLevel:function wz(n){!function fj(n){Ch.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Cz(n){(function Sz(n,e){n.INTERNAL.registerComponent(new d_.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Ez)))})(n,(e,t)=>new VB(e,t,new Tz)),n.registerVersion("@firebase/firestore-compat","0.3.6")}(QP.Z);var GE=k(5363),Iz=k(6063);class Az extends Jt.x{constructor(e=1/0,t=1/0,r=Iz.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:c}=this;t||(r.push(e),!i&&r.push(l.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let c=0;c<l.length&&!e.closed;c+=r?1:2)e.next(l[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const c=t.now();let p=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)p=_;p&&r.splice(0,p+1)}}}var Mz=k(3099);function zB(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Mz.B)({connector:()=>new Az(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function WB(n,e){return(0,Jr.m)(e)?On(()=>n,e):On(()=>n)}var uR=k(9468);const ZB=new a.OlP("angularfire2.auth.use-emulator"),qB=new a.OlP("angularfire2.auth.settings"),KB=new a.OlP("angularfire2.auth.tenant-id"),YB=new a.OlP("angularfire2.auth.langugage-code"),QB=new a.OlP("angularfire2.auth.use-device-language"),JB=new a.OlP("angularfire.auth.persistence"),XB=(n,e,t,r,i,l,c,p)=>(0,Is.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,l&&_.useDeviceLanguage(),c)for(const[T,D]of Object.entries(c))_.settings[T]=D;return p&&_.setPersistence(p),_},[t,r,i,l,c,p]);let eU=(()=>{class n{constructor(t,r,i,l,c,p,_,T,D,M,P,L){const K=new Jt.x,J=it(void 0).pipe((0,GE.Q)(c.outsideAngular),On(()=>l.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,9800)))),(0,ct.U)(()=>(0,Is.on)(t,l,r)),(0,ct.U)(re=>XB(re,l,p,T,D,M,_,P)),zB({bufferSize:1,refCount:!1}));if(Bl(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{J.pipe(Mi()).subscribe();const Be=J.pipe(On(Ue=>Ue.getRedirectResult().then(Ke=>Ke,()=>null)),Tr.iC,zB({bufferSize:1,refCount:!1})),ze=J.pipe(On(Ue=>new Nn.y(Ke=>({unsubscribe:l.runOutsideAngular(()=>Ue.onAuthStateChanged(lt=>Ke.next(lt),lt=>Ke.error(lt),()=>Ke.complete()))})))),Ge=J.pipe(On(Ue=>new Nn.y(Ke=>({unsubscribe:l.runOutsideAngular(()=>Ue.onIdTokenChanged(lt=>Ke.next(lt),lt=>Ke.error(lt),()=>Ke.complete()))}))));this.authState=Be.pipe(WB(ze),(0,uR.R)(c.outsideAngular),(0,GE.Q)(c.insideAngular)),this.user=Be.pipe(WB(Ge),(0,uR.R)(c.outsideAngular),(0,GE.Q)(c.insideAngular)),this.idToken=this.user.pipe(On(Ue=>Ue?(0,jt.D)(Ue.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(On(Ue=>Ue?(0,jt.D)(Ue.getIdTokenResult()):it(null))),this.credential=(0,Tm.T)(Be,K,this.authState.pipe(hn(Ue=>!Ue))).pipe((0,ct.U)(Ue=>Ue?.user?Ue:null),(0,uR.R)(c.outsideAngular),(0,GE.Q)(c.insideAngular))}return(0,Is.pX)(this,J,l,{spy:{apply:(re,Be,ze)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&ze.then(Ge=>K.next(Ge))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Is.Dh),a.LFG(Is.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tr.HU),a.LFG(ZB,8),a.LFG(qB,8),a.LFG(KB,8),a.LFG(YB,8),a.LFG(QB,8),a.LFG(JB,8),a.LFG(pD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function tU(n,e){return function Oz(n,e=hl.z){return new Nn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function cR(n,e){return tU(n,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function HE(n,e){return cR(n,e).pipe(nu(void 0),sM(),(0,ct.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,p)=>{const _=i.find(D=>D.doc.ref.isEqual(c.ref)),T=t?.payload.docs.find(D=>D.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&T&&JSON.stringify(T.metadata)===JSON.stringify(c.metadata)||l.push({type:"modified",payload:{oldIndex:p,newIndex:p,type:"modified",doc:c}})}),l}))}function nU(n,e,t){return HE(n,t).pipe(Od((r,i)=>function Pz(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function xz(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return dR(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return dR(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return dR(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),wm(),(0,ct.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function dR(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function rU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class iU{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=HE(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(nu(void 0),sM(),hn(([r,i])=>i.length>0||!r),(0,ct.U)(([r,i])=>i),Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Od((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rU(e);return nU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return cR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Tr.iC)}get(e){return(0,jt.D)(this.query.get(e)).pipe(Tr.iC)}add(e){return this.ref.add(e)}doc(e){return new sU(this.ref.doc(e),this.afs)}}class sU{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=lU(r,t);return new iU(i,l,this.afs)}snapshotChanges(){return function Rz(n,e){return tU(n,e).pipe(nu(void 0),sM(),(0,ct.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jt.D)(this.ref.get(e)).pipe(Tr.iC)}}class kz{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?HE(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),hn(t=>t.length>0),Tr.iC):HE(this.query,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}auditTrail(e){return this.stateChanges(e).pipe(Od((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=rU(e);return nU(this.query,t,this.afs.schedulers.outsideAngular).pipe(Tr.iC)}valueChanges(e={}){return cR(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Tr.iC)}get(e){return(0,jt.D)(this.query.get(e)).pipe(Tr.iC)}}const oU=new a.OlP("angularfire2.enableFirestorePersistence"),aU=new a.OlP("angularfire2.firestore.persistenceSettings"),Fz=new a.OlP("angularfire2.firestore.settings"),Lz=new a.OlP("angularfire2.firestore.use-emulator");function lU(n,e=(t=>t)){return{query:e(n),ref:n}}let uU=(()=>{class n{constructor(t,r,i,l,c,p,_,T,D,M,P,L,K,J,re,Be,ze){this.schedulers=_;const Ge=(0,Is.on)(t,p,r),Ue=D;M&&XB(Ge,p,P,K,J,re,L,Be),[this.firestore,this.persistenceEnabled$]=(0,Is.cc)(`${Ge.name}.firestore`,"AngularFirestore",Ge.name,()=>{const Ke=p.runOutsideAngular(()=>Ge.firestore());if(l&&Ke.settings(l),Ue&&Ke.useEmulator(...Ue),i&&!Bl(c)){const lt=()=>{try{return(0,jt.D)(Ke.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(zt){return typeof console<"u"&&console.warn(zt),it(!1)}};return[Ke,p.runOutsideAngular(lt)]}return[Ke,it(!1)]},[l,Ue,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:c}=lU(i,r),p=this.schedulers.ngZone.run(()=>l);return new iU(p,c,this)}collectionGroup(t,r){const i=r||(c=>c),l=this.firestore.collectionGroup(t);return new kz(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new sU(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Is.Dh),a.LFG(Is.xv,8),a.LFG(oU,8),a.LFG(Fz,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Tr.HU),a.LFG(aU,8),a.LFG(Lz,8),a.LFG(eU,8),a.LFG(ZB,8),a.LFG(qB,8),a.LFG(KB,8),a.LFG(YB,8),a.LFG(QB,8),a.LFG(JB,8),a.LFG(pD,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Bz=(()=>{class n{constructor(){ok.Z.registerVersion("angularfire",Tr.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:oU,useValue:!0},{provide:aU,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[uU]}),n})(),cU=(()=>{class n{constructor(t){this.fireStore=t,this.pizzaStore=new mn([]),this.pinsaStore=new mn([]),this.recipeStore=new mn([]),this.pinsaRecipe=this.pinsaStore.asObservable(),this.pizzaRecipe=this.pizzaStore.asObservable(),this.preparation=this.recipeStore.asObservable(),this.fireStore.collection("Recipes").valueChanges().subscribe(r=>{this.pizzaStore.next(r)}),this.fireStore.collection("Pinsas").valueChanges().subscribe(r=>{this.pinsaStore.next(r)})}loadRecipes(t){"PinsaRecipe"===t?this.fireStore.collection("PinsaRecipe").valueChanges().subscribe(r=>{this.recipeStore.next(r)}):"PizzaRecipe"===t?this.fireStore.collection("PizzaRecipe").valueChanges().subscribe(r=>{this.recipeStore.next(r)}):console.log("No Recipe Steps found!")}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(uU))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Uz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(){const l=a.CHM(t).$implicit,c=a.oxw();return a.KtG(c.changeRecipe(l.title))}),a._uU(1),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t.title,"")}}function Vz(n,e){1&n&&(a.TgZ(0,"div")(1,"h4"),a._uU(2,"Rezepte"),a.qZA(),a.TgZ(3,"p"),a._uU(4,"Bitte w\xe4hle ein Rezept!"),a.qZA()())}function Gz(n,e){if(1&n&&(a.TgZ(0,"div",17),a._UZ(1,"img",18),a.qZA()),2&n){const t=a.oxw(2);a.xp6(1),a.Q6J("src",t.imgSrc,a.LSH)}}function Hz(n,e){if(1&n&&(a.TgZ(0,"li",19),a._uU(1),a.qZA()),2&n){const t=e.$implicit;a.xp6(1),a.hij(" ",t," ")}}function jz(n,e){if(1&n&&(a.TgZ(0,"div",13),a.YNc(1,Gz,2,1,"div",14),a.TgZ(2,"div")(3,"h5"),a._uU(4,"Zutaten"),a.qZA(),a.TgZ(5,"ul",15),a.YNc(6,Hz,2,1,"li",16),a.qZA()()()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngIf",""!==t.imgSrc),a.xp6(5),a.Q6J("ngForOf",t.selectedRecipe.ingredients)}}let dU=(()=>{class n{constructor(t,r,i){this.fireStorage=t,this.fireBaseService=r,this.router=i,this.router.url.startsWith("/pizza")?this.fireBaseService.pizzaRecipe.subscribe(l=>{this.recipes=l,console.log(this.recipes),this.headerTitle="Pizza Rezepte"}):this.fireBaseService.pinsaRecipe.subscribe(l=>{this.recipes=l,console.log(this.recipes),this.headerTitle="Pinsa Rezepte"})}ngOnInit(){this.recipe="Rezept w\xe4hlen",console.log(this.recipes)}getPictureURL(t){var r=this;return(0,pe.Z)(function*(){try{const i=r.fireStorage.ref(t.picture);r.imgSrc=yield i.getDownloadURL().toPromise()}catch{r.imgSrc=""}})()}changeRecipe(t){this.recipe=t;try{this.selectedRecipe=this.recipes[this.recipes.findIndex(r=>r.title===t)],console.log(this.selectedRecipe.picture),this.getPictureURL(this.selectedRecipe)}catch{console.log("This recipe is not available!")}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(lk),a.Y36(cU),a.Y36(Oi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-recipes"]],decls:18,vars:5,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","justify-content-center","mb-3"],["ngbDropdown","",1,"flex-fill"],["ngbDropdownToggle","","type","button","id","dropdownMenuButton","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"btn","btn-dark","w-100"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-lg-right"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","px-3"],[4,"ngIf","ngIfElse"],["recipeBlock",""],[1,"dropdown-item",3,"click"],[1,"d-flex","flex-wrap"],["class","m-2",4,"ngIf"],[1,"list-group","list-group-flush"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"m-2"],["width","100%","height","100%",3,"src"],[1,"list-group-item"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._uU(3),a.qZA(),a.TgZ(4,"div",3)(5,"div",0)(6,"div",4)(7,"div",5)(8,"button",6),a._uU(9),a.qZA(),a.TgZ(10,"div",7),a.YNc(11,Uz,2,1,"div",8),a.qZA()()(),a.TgZ(12,"div",1)(13,"div",3)(14,"div",9),a.YNc(15,Vz,5,0,"div",10),a.YNc(16,jz,7,2,"ng-template",null,11,a.W1O),a.qZA()()()()()()()),2&t){const i=a.MAs(17);a.xp6(3),a.hij(" ",r.headerTitle," "),a.xp6(6),a.hij(" ",r.recipe," "),a.xp6(2),a.Q6J("ngForOf",r.recipes),a.xp6(4),a.Q6J("ngIf","Rezept w\xe4hlen"===r.recipe)("ngIfElse",i)}},dependencies:[rn,An,c_,CA]}),n})();function $z(n,e){if(1&n&&(a.TgZ(0,"div",5)(1,"h4"),a._uU(2),a.qZA(),a._UZ(3,"hr",6),a.TgZ(4,"p"),a._uU(5),a.qZA()()),2&n){const t=e.$implicit;a.xp6(2),a.AsE("",t.number,". ",t.caption,""),a.xp6(3),a.Oqu(t.text)}}let hU=(()=>{class n{constructor(t,r){this.fireBaseService=t,this.router=r,this.router.url.startsWith("/pizza")?(this.fireBaseService.loadRecipes("PizzaRecipe"),this.headerTitle="Pizza Teig"):(this.fireBaseService.loadRecipes("PinsaRecipe"),this.headerTitle="Pinsa Teig")}ngOnInit(){this.fireBaseService.preparation.subscribe(t=>{this.steps=t})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(cU),a.Y36(Oi))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-teigling"]],decls:6,vars:2,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],["class","jumbotron-fluid",4,"ngFor","ngForOf"],[1,"jumbotron-fluid"],[1,"my-2"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._uU(3),a.qZA(),a.TgZ(4,"div",3),a.YNc(5,$z,6,3,"div",4),a.qZA()()()),2&t&&(a.xp6(3),a.hij(" ",r.headerTitle," "),a.xp6(2),a.Q6J("ngForOf",r.steps))},dependencies:[rn]}),n})();function zz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(7);return a.KtG(i.toggle("dough"))}),a.TgZ(1,"h5",13),a._uU(2,"Pizzateig"),a.qZA()()}}function Wz(n,e){1&n&&a._uU(0," Der Pizzateig ist das wichtigste einer neapolitanischen Pizza. Grunds\xe4tzlich k\xf6nnen die Zutaten alle auf einmal vermengt werden. Es empfiehlt sich jedoch, zun\xe4chst einen Teil des Mehls und Wasser im 1:1 Verh\xe4ltnis mit der Hefe zu mischen und daraus einen Vorteig zu erstellen. ")}function Zz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(7);return a.KtG(i.toggle("topping"))}),a.TgZ(1,"h5",13),a._uU(2,"Belegen"),a.qZA()()}}function qz(n,e){1&n&&a._uU(0," Pizzateig Belag Erkl\xe4rung ")}function Kz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(7);return a.KtG(i.toggle("cheese"))}),a.TgZ(1,"h5",13),a._uU(2,"K\xe4se"),a.qZA()()}}function Yz(n,e){1&n&&a._uU(0," Verschiedene K\xe4sesorten ")}function Qz(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a.NdJ("click",function(){a.CHM(t),a.oxw();const i=a.MAs(7);return a.KtG(i.toggle("tomato"))}),a.TgZ(1,"h5",13),a._uU(2,"Tomaten"),a.qZA()()}}function Jz(n,e){1&n&&a._uU(0," Tomatenarten ")}let Xz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-wiki"]],decls:20,vars:1,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"closeOthers"],["accordion",""],["id","dough"],["ngbPanelHeader",""],["ngbPanelContent",""],["id","topping"],["id","cheese"],["id","tomato"],[1,"d-flex","align-items-center","justify-content-between",3,"click"],[1,"m-0"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div",2),a._uU(3," Pizza Wiki "),a.qZA(),a.TgZ(4,"div",3)(5,"div",0)(6,"ngb-accordion",4,5)(8,"ngb-panel",6),a.YNc(9,zz,3,0,"ng-template",7),a.YNc(10,Wz,1,0,"ng-template",8),a.qZA(),a.TgZ(11,"ngb-panel",9),a.YNc(12,Zz,3,0,"ng-template",7),a.YNc(13,qz,1,0,"ng-template",8),a.qZA(),a.TgZ(14,"ngb-panel",10),a.YNc(15,Kz,3,0,"ng-template",7),a.YNc(16,Yz,1,0,"ng-template",8),a.qZA(),a.TgZ(17,"ngb-panel",11),a.YNc(18,Qz,3,0,"ng-template",7),a.YNc(19,Jz,1,0,"ng-template",8),a.qZA()()()()()()),2&t&&(a.xp6(6),a.Q6J("closeOthers",!0))},dependencies:[Mp,Ap,Jy,Xm]}),n})(),fU=(()=>{class n{constructor(){this.dataSource=new mn({}),this.currentDough=this.dataSource.asObservable()}updateDataSet(t){this.dataSource.next(t)}updateMeasures(t){let r;if(t.pizzaDough===Au.e_standard){const i=t.pizzaSize*t.pizzaNumber;r={flour:Number((.45*i).toFixed(0)),rice_flour:Number((.09*i).toFixed(0)),peas_flour:Number((.045*i).toFixed(0)),water:Number((.38*i).toFixed(0)),yeast:Number((.0045*i).toFixed(1)),olive_oil:Number((.02*i).toFixed(1)),salt:Number((.01*i).toFixed(1))}}this.updateDataSet(r)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const e8=["carousel"];function t8(n,e){1&n&&(a.TgZ(0,"div",9),a._uU(1," PinsaCalculator "),a.qZA())}function n8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",10),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.goBack())}),a._UZ(1,"i",11),a.qZA()}}function r8(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",12),a._uU(1," Die Basis f\xfcr eine Pinsa Romana bildet der Teig, der zu einem rustikalen Fladen gebacken wird. Geformt wird sie l\xe4nglich und schmal. Optisch und auch geschmacklich erinnert die Pinsa an ein Fladenbrot \u2013 au\xdfen knusprig und innen weich "),a._UZ(2,"hr"),a.TgZ(3,"form")(4,"div",13)(5,"div",14)(6,"label",15),a._uU(7,"Anzahl der Pizzen:"),a.qZA(),a.TgZ(8,"input",16),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaNumber=i)}),a.qZA()()(),a.TgZ(9,"div",13)(10,"div",14)(11,"label",17),a._uU(12,"Pinsateig Gewicht je Pinsa:"),a.qZA(),a.TgZ(13,"div",18)(14,"input",19),a.NdJ("ngModelChange",function(i){a.CHM(t);const l=a.oxw();return a.KtG(l.pizzaInfo.pizzaSize=i)}),a.qZA(),a.TgZ(15,"div",20)(16,"div",21),a._uU(17,"g"),a.qZA()()()(),a.TgZ(18,"div",22)(19,"small"),a._uU(20,"200g = kleine Pinsa, 250g = gro\xdfe Pinsa"),a.qZA()()(),a.TgZ(21,"div",13)(22,"button",23),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return a.KtG(i.updatePizzaInfos())}),a._uU(23,"Berechnen"),a.qZA()()()()}if(2&n){const t=a.oxw();a.xp6(8),a.Q6J("ngModel",t.pizzaInfo.pizzaNumber),a.xp6(6),a.Q6J("ngModel",t.pizzaInfo.pizzaSize)}}function i8(n,e){if(1&n&&(a.TgZ(0,"div",12)(1,"h2"),a._uU(2),a.qZA(),a._UZ(3,"hr"),a.TgZ(4,"div",24)(5,"div"),a._uU(6,"Anzahl der Pinsas:"),a.qZA(),a.TgZ(7,"div"),a._uU(8),a.qZA()(),a._UZ(9,"hr"),a.TgZ(10,"h3"),a._uU(11),a.TgZ(12,"small"),a._uU(13,"Type 00/405"),a.qZA()(),a.TgZ(14,"h3"),a._uU(15),a.qZA(),a.TgZ(16,"h3"),a._uU(17),a.qZA(),a.TgZ(18,"h3"),a._uU(19),a.qZA(),a.TgZ(20,"h3"),a._uU(21),a.qZA(),a.TgZ(22,"h3"),a._uU(23),a.qZA()()),2&n){const t=a.oxw();a.xp6(2),a.Oqu(t.pizzaInfo.pizzaDough),a.xp6(6),a.AsE("",t.pizzaInfo.pizzaNumber," x ",t.pizzaInfo.pizzaSize," g"),a.xp6(3),a.hij("",t.dough.flour," g Mehl "),a.xp6(4),a.hij("",t.dough.rice_flour," g Reismehl"),a.xp6(2),a.hij("",t.dough.peas_flour," g Kichererbsenmehl"),a.xp6(2),a.hij("",t.dough.water," ml Wasser"),a.xp6(2),a.hij("",t.dough.salt," g Salz"),a.xp6(2),a.hij("",t.dough.yeast," g Hefe")}}let pU=(()=>{class n{constructor(t){this.pinsaService=t,this.pinsaService.currentDough.subscribe(r=>this.dough=r),this.displayRecipe=!1}ngOnInit(){this.pizzaInfo={pizzaNumber:1,pizzaSize:223,pizzaWater:50,pizzaDough:Au.e_standard}}updatePizzaInfos(){this.pinsaService.updateMeasures(this.pizzaInfo),this.carousel.select("recipe"),this.displayRecipe=!0}goBack(){this.carousel.select("calculator"),this.displayRecipe=!1}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(fU))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-pinsa"]],viewQuery:function(t,r){if(1&t&&a.Gf(e8,5),2&t){let i;a.iGM(i=a.CRH())&&(r.carousel=i.first)}},decls:10,vars:5,consts:[[1,"container","p-1"],[1,"card"],["class","card-header",4,"ngIf","ngIfElse"],["recipe",""],[1,"card-body"],[3,"interval","showNavigationArrows","showNavigationIndicators"],["carousel",""],["ngbSlide","","id","calculator"],["ngbSlide","","id","recipe"],[1,"card-header"],[1,"card-header",3,"click"],[1,"bi","bi-arrow-left"],[1,"container"],[1,"d-flex","flex-wrap","justify-content-start","align-items-center","mt-2"],[1,"w-100"],["for","pizzaNumber"],["name","pizzaNumber","type","number","inputmode","numeric","min","0",1,"form-control",3,"ngModel","ngModelChange"],["for","pizzaSize"],[1,"input-group","mb-2"],["name","pizzaSize","type","number","inputmode","numeric","min","200","max","300",1,"form-control",3,"ngModel","ngModelChange"],[1,"input-group-append"],[1,"input-group-text"],[1,"align-self-end","ml-3"],["type","button",1,"btn","btn-dark","mb-3",3,"click"],[1,"d-flex","justify-content-between"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0)(1,"div",1),a.YNc(2,t8,2,0,"div",2),a.YNc(3,n8,2,0,"ng-template",null,3,a.W1O),a.TgZ(5,"div",4)(6,"ngb-carousel",5,6),a.YNc(8,r8,24,2,"ng-template",7),a.YNc(9,i8,24,9,"ng-template",8),a.qZA()()()()),2&t){const i=a.MAs(4);a.xp6(2),a.Q6J("ngIf",!1===r.displayRecipe)("ngIfElse",i),a.xp6(4),a.Q6J("interval",0)("showNavigationArrows",!1)("showNavigationIndicators",!1)}},dependencies:[An,Sw,Ew,Um,gl,lp,ti,yl,dp,zc,Bm,ap]}),n})();const s8=[{path:"pizza",component:qP,children:[{path:"calculator",component:YP},{path:"recipes",component:dU},{path:"dough",component:hU},{path:"wiki",component:Xz},{path:"**",component:YP}]},{path:"pinsa",component:qP,children:[{path:"calculator",component:pU},{path:"recipes",component:dU},{path:"dough",component:hU},{path:"**",component:pU}]},{path:"**",redirectTo:"pizza/calculator"}];let o8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[R0.forRoot(s8,{useHash:!0}),R0]}),n})();const l8={connector:()=>new Jt.x};function gU(n,e=l8){const{connector:t}=e;return(0,Ln.e)((r,i)=>{const l=t();(0,yn.Xf)(n(function a8(n){return new Nn.y(e=>n.subscribe(e))}(l))).subscribe(i),i.add(r.subscribe(l))})}const Mb="Service workers are disabled or not supported by this browser";class jE{constructor(e){if(this.serviceWorker=e,e){const r=Hr(e,"controllerchange").pipe((0,ct.U)(()=>e.controller)),l=Ct(jn(()=>it(e.controller)),r);this.worker=l.pipe(hn(D=>!!D)),this.registration=this.worker.pipe(On(()=>e.getRegistration()));const T=Hr(e,"message").pipe((0,ct.U)(D=>D.data)).pipe(hn(D=>D&&D.type)).pipe(function c8(n){return n?e=>gU(n)(e):e=>function u8(n,e){const t=(0,Jr.m)(n)?n:()=>n;return(0,Jr.m)(e)?gU(e,{connector:t}):r=>new tu(r,t)}(new Jt.x)(e)}());T.connect(),this.events=T}else this.worker=this.events=this.registration=function d8(n){return jn(()=>Gi(new Error(n)))}(Mb)}postMessage(e,t){return this.worker.pipe(En(1),(0,Er.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const i=this.waitForOperationCompleted(r),l=this.postMessage(e,t);return Promise.all([l,i]).then(([,c])=>c)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(hn(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(En(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(hn(t=>t.nonce===e),En(1),(0,ct.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let h8=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,this.pushManager=null,this.subscriptionChanges=new Jt.x,!t.isEnabled)return this.messages=fl,this.notificationClicks=fl,void(this.subscription=fl);this.messages=this.sw.eventsOfType("PUSH").pipe((0,ct.U)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,ct.U)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,ct.U)(i=>i.pushManager));const r=this.pushManager.pipe(On(i=>i.getSubscription()));this.subscription=(0,Tm.T)(r,this.subscriptionChanges)}requestSubscription(t){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(Mb));const r={userVisibleOnly:!0};let i=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(i.length));for(let c=0;c<i.length;c++)l[c]=i.charCodeAt(c);return r.applicationServerKey=l,this.pushManager.pipe(On(c=>c.subscribe(r)),En(1)).toPromise().then(c=>(this.subscriptionChanges.next(c),c))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(En(1),On(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(Mb))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jE))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),mU=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=fl,this.available=fl,this.activated=fl,void(this.unrecoverable=fl);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(hn(r=>"VERSION_READY"===r.type),(0,ct.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Mb));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(jE))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class hR{}const _U=new a.OlP("NGSW_REGISTER_SCRIPT");function f8(n,e,t,r){return()=>{if(!To(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let i;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)i=t.registrationStrategy();else{const[c,...p]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":i=it(null);break;case"registerWithDelay":i=yU(+p[0]||0);break;case"registerWhenStable":i=p[0]?(0,Tm.T)(vU(n),yU(+p[0])):vU(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(a.R0b).runOutsideAngular(()=>i.pipe(En(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(c=>console.error("Service worker registration failed with:",c))))}}function yU(n){return it(null).pipe(zS(n))}function vU(n){return n.get(a.z2F).isStable.pipe(hn(t=>t))}function p8(n,e){return new jE(To(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let g8=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:_U,useValue:t},{provide:hR,useValue:r},{provide:jE,useFactory:p8,deps:[hR,a.Lbi]},{provide:a.ip1,useFactory:f8,deps:[a.zs3,_U,hR,a.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[h8,mU]}),n})(),m8=(()=>{class n{constructor(t){this.swUpdate=t,this.title="pizza-app"}ngOnInit(){this.swUpdate.isEnabled&&this.swUpdate.versionUpdates.pipe(hn(r=>"VERSION_READY"===r.type),(0,ct.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion})))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(mU))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},dependencies:[ul]}),n})();const fR_firebase={apiKey:"AIzaSyDGkhaHBhZd2NBpQSx4TGu3bi-trO-8bGw",authDomain:"pizzaapp-f56f9.firebaseapp.com",databaseURL:"https://pizzaapp-f56f9.firebaseio.com",projectId:"pizzaapp-f56f9",storageBucket:"pizzaapp-f56f9.appspot.com",messagingSenderId:"460060452802",appId:"1:460060452802:web:2e8cb8163c5b574284d85b",measurementId:"G-F9QJEYKZX0"};let _8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[m8]}),n.\u0275inj=a.cJS({providers:[KP,fU],imports:[Ks,o8,g8.register("ngsw-worker.js",{enabled:true}),fV,f1,R0,Is.hO.initializeApp(fR_firebase),Bz.enablePersistence(),c3]}),n})();(0,a.G48)(),la().bootstrapModule(_8).catch(n=>console.error(n))},9751:(yt,be,k)=>{k.d(be,{y:()=>ce});var a=k(930),Y=k(727),x=k(8822),ne=k(9635),ie=k(2416),ee=k(576),fe=k(2806);let ce=(()=>{class q{constructor(De){De&&(this._subscribe=De)}lift(De){const qe=new q;return qe.source=this,qe.operator=De,qe}subscribe(De,qe,pt){const he=function j(q){return q&&q instanceof a.Lv||function H(q){return q&&(0,ee.m)(q.next)&&(0,ee.m)(q.error)&&(0,ee.m)(q.complete)}(q)&&(0,Y.Nn)(q)}(De)?De:new a.Hp(De,qe,pt);return(0,fe.x)(()=>{const{operator:Ee,source:Se}=this;he.add(Ee?Ee.call(he,Se):Se?this._subscribe(he):this._trySubscribe(he))}),he}_trySubscribe(De){try{return this._subscribe(De)}catch(qe){De.error(qe)}}forEach(De,qe){return new(qe=ue(qe))((pt,he)=>{const Ee=new a.Hp({next:Se=>{try{De(Se)}catch(Le){he(Le),Ee.unsubscribe()}},error:he,complete:pt});this.subscribe(Ee)})}_subscribe(De){var qe;return null===(qe=this.source)||void 0===qe?void 0:qe.subscribe(De)}[x.L](){return this}pipe(...De){return(0,ne.U)(De)(this)}toPromise(De){return new(De=ue(De))((qe,pt)=>{let he;this.subscribe(Ee=>he=Ee,Ee=>pt(Ee),()=>qe(he))})}}return q.create=je=>new q(je),q})();function ue(q){var je;return null!==(je=q??ie.v.Promise)&&void 0!==je?je:Promise}},7579:(yt,be,k)=>{k.d(be,{x:()=>fe});var a=k(9751),Y=k(727);const ne=(0,k(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=k(8737),ee=k(2806);let fe=(()=>{class ue extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const q=new ce(this,this);return q.operator=j,q}_throwIfClosed(){if(this.closed)throw new ne}next(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const q of this.currentObservers)q.next(j)}})}error(j){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:q}=this;for(;q.length;)q.shift().error(j)}})}complete(){(0,ee.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:q,isStopped:je,observers:De}=this;return q||je?Y.Lc:(this.currentObservers=null,De.push(j),new Y.w0(()=>{this.currentObservers=null,(0,ie.P)(De,j)}))}_checkFinalizedStatuses(j){const{hasError:q,thrownError:je,isStopped:De}=this;q?j.error(je):De&&j.complete()}asObservable(){const j=new a.y;return j.source=this,j}}return ue.create=(H,j)=>new ce(H,j),ue})();class ce extends fe{constructor(H,j){super(),this.destination=H,this.source=j}next(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===q||q.call(j,H)}error(H){var j,q;null===(q=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===q||q.call(j,H)}complete(){var H,j;null===(j=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===j||j.call(H)}_subscribe(H){var j,q;return null!==(q=null===(j=this.source)||void 0===j?void 0:j.subscribe(H))&&void 0!==q?q:Y.Lc}}},930:(yt,be,k)=>{k.d(be,{Hp:()=>pt,Lv:()=>q});var a=k(576),Y=k(727),x=k(2416),ne=k(7849),ie=k(5032);const ee=ue("C",void 0,void 0);function ue(we,ve,Ie){return{kind:we,value:ve,error:Ie}}var H=k(3410),j=k(2806);class q extends Y.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,Y.Nn)(ve)&&ve.add(this)):this.destination=Le}static create(ve,Ie,Ve){return new pt(ve,Ie,Ve)}next(ve){this.isStopped?Se(function ce(we){return ue("N",we,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?Se(function fe(we){return ue("E",void 0,we)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?Se(ee,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function De(we,ve){return je.call(we,ve)}class qe{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ve)}catch(Ve){he(Ve)}}error(ve){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ve)}catch(Ve){he(Ve)}else he(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(Ie){he(Ie)}}}class pt extends q{constructor(ve,Ie,Ve){let Re;if(super(),(0,a.m)(ve)||!ve)Re={next:ve??void 0,error:Ie??void 0,complete:Ve??void 0};else{let V;this&&x.v.useDeprecatedNextContext?(V=Object.create(ve),V.unsubscribe=()=>this.unsubscribe(),Re={next:ve.next&&De(ve.next,V),error:ve.error&&De(ve.error,V),complete:ve.complete&&De(ve.complete,V)}):Re=ve}this.destination=new qe(Re)}}function he(we){x.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(we):(0,ne.h)(we)}function Se(we,ve){const{onStoppedNotification:Ie}=x.v;Ie&&H.z.setTimeout(()=>Ie(we,ve))}const Le={closed:!0,next:ie.Z,error:function Ee(we){throw we},complete:ie.Z}},727:(yt,be,k)=>{k.d(be,{Lc:()=>ee,w0:()=>ie,Nn:()=>fe});var a=k(576);const x=(0,k(3888).d)(ue=>function(j){ue(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((q,je)=>`${je+1}) ${q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ne=k(8737);class ie{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const De of j)De.remove(this);else j.remove(this);const{initialTeardown:q}=this;if((0,a.m)(q))try{q()}catch(De){H=De instanceof x?De.errors:[De]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const De of je)try{ce(De)}catch(qe){H=H??[],qe instanceof x?H=[...H,...qe.errors]:H.push(qe)}}if(H)throw new x(H)}}add(H){var j;if(H&&H!==this)if(this.closed)ce(H);else{if(H instanceof ie){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(H)}}_hasParent(H){const{_parentage:j}=this;return j===H||Array.isArray(j)&&j.includes(H)}_addParent(H){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(H),j):j?[j,H]:H}_removeParent(H){const{_parentage:j}=this;j===H?this._parentage=null:Array.isArray(j)&&(0,ne.P)(j,H)}remove(H){const{_finalizers:j}=this;j&&(0,ne.P)(j,H),H instanceof ie&&H._removeParent(this)}}ie.EMPTY=(()=>{const ue=new ie;return ue.closed=!0,ue})();const ee=ie.EMPTY;function fe(ue){return ue instanceof ie||ue&&"closed"in ue&&(0,a.m)(ue.remove)&&(0,a.m)(ue.add)&&(0,a.m)(ue.unsubscribe)}function ce(ue){(0,a.m)(ue)?ue():ue.unsubscribe()}},2416:(yt,be,k)=>{k.d(be,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,be,k)=>{k.d(be,{E:()=>Y});const Y=new(k(9751).y)(ie=>ie.complete())},8996:(yt,be,k)=>{k.d(be,{D:()=>ve});var a=k(8421),Y=k(5363),x=k(9468),ee=k(9751),ce=k(2202),ue=k(576),H=k(9672);function q(Ie,Ve){if(!Ie)throw new Error("Iterable cannot be null");return new ee.y(Re=>{(0,H.f)(Re,Ve,()=>{const V=Ie[Symbol.asyncIterator]();(0,H.f)(Re,Ve,()=>{V.next().then(_e=>{_e.done?Re.complete():Re.next(_e.value)})},0,!0)})})}var je=k(3670),De=k(8239),qe=k(1144),pt=k(6495),he=k(2206),Ee=k(4532),Se=k(3260);function ve(Ie,Ve){return Ve?function we(Ie,Ve){if(null!=Ie){if((0,je.c)(Ie))return function ne(Ie,Ve){return(0,a.Xf)(Ie).pipe((0,x.R)(Ve),(0,Y.Q)(Ve))}(Ie,Ve);if((0,qe.z)(Ie))return function fe(Ie,Ve){return new ee.y(Re=>{let V=0;return Ve.schedule(function(){V===Ie.length?Re.complete():(Re.next(Ie[V++]),Re.closed||this.schedule())})})}(Ie,Ve);if((0,De.t)(Ie))return function ie(Ie,Ve){return(0,a.Xf)(Ie).pipe((0,x.R)(Ve),(0,Y.Q)(Ve))}(Ie,Ve);if((0,he.D)(Ie))return q(Ie,Ve);if((0,pt.T)(Ie))return function j(Ie,Ve){return new ee.y(Re=>{let V;return(0,H.f)(Re,Ve,()=>{V=Ie[ce.h](),(0,H.f)(Re,Ve,()=>{let _e,ke;try{({value:_e,done:ke}=V.next())}catch(Ze){return void Re.error(Ze)}ke?Re.complete():Re.next(_e)},0,!0)}),()=>(0,ue.m)(V?.return)&&V.return()})}(Ie,Ve);if((0,Se.L)(Ie))return function Le(Ie,Ve){return q((0,Se.Q)(Ie),Ve)}(Ie,Ve)}throw(0,Ee.z)(Ie)}(Ie,Ve):(0,a.Xf)(Ie)}},8421:(yt,be,k)=>{k.d(be,{Xf:()=>je});var a=k(655),Y=k(1144),x=k(8239),ne=k(9751),ie=k(3670),ee=k(2206),fe=k(4532),ce=k(6495),ue=k(3260),H=k(576),j=k(7849),q=k(8822);function je(we){if(we instanceof ne.y)return we;if(null!=we){if((0,ie.c)(we))return function De(we){return new ne.y(ve=>{const Ie=we[q.L]();if((0,H.m)(Ie.subscribe))return Ie.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,Y.z)(we))return function qe(we){return new ne.y(ve=>{for(let Ie=0;Ie<we.length&&!ve.closed;Ie++)ve.next(we[Ie]);ve.complete()})}(we);if((0,x.t)(we))return function pt(we){return new ne.y(ve=>{we.then(Ie=>{ve.closed||(ve.next(Ie),ve.complete())},Ie=>ve.error(Ie)).then(null,j.h)})}(we);if((0,ee.D)(we))return Ee(we);if((0,ce.T)(we))return function he(we){return new ne.y(ve=>{for(const Ie of we)if(ve.next(Ie),ve.closed)return;ve.complete()})}(we);if((0,ue.L)(we))return function Se(we){return Ee((0,ue.Q)(we))}(we)}throw(0,fe.z)(we)}function Ee(we){return new ne.y(ve=>{(function Le(we,ve){var Ie,Ve,Re,V;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Ie=(0,a.KL)(we);!(Ve=yield Ie.next()).done;)if(ve.next(Ve.value),ve.closed)return}catch(_e){Re={error:_e}}finally{try{Ve&&!Ve.done&&(V=Ie.return)&&(yield V.call(Ie))}finally{if(Re)throw Re.error}}ve.complete()})})(we,ve).catch(Ie=>ve.error(Ie))})}},6451:(yt,be,k)=>{k.d(be,{T:()=>ee});var a=k(8189),Y=k(8421),x=k(515),ne=k(3269),ie=k(8996);function ee(...fe){const ce=(0,ne.yG)(fe),ue=(0,ne._6)(fe,1/0),H=fe;return H.length?1===H.length?(0,Y.Xf)(H[0]):(0,a.J)(ue)((0,ie.D)(H,ce)):x.E}},5403:(yt,be,k)=>{k.d(be,{x:()=>Y});var a=k(930);function Y(ne,ie,ee,fe,ce){return new x(ne,ie,ee,fe,ce)}class x extends a.Lv{constructor(ie,ee,fe,ce,ue,H){super(ie),this.onFinalize=ue,this.shouldUnsubscribe=H,this._next=ee?function(j){try{ee(j)}catch(q){ie.error(q)}}:super._next,this._error=ce?function(j){try{ce(j)}catch(q){ie.error(q)}finally{this.unsubscribe()}}:super._error,this._complete=fe?function(){try{fe()}catch(j){ie.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ee}=this;super.unsubscribe(),!ee&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(yt,be,k)=>{k.d(be,{U:()=>x});var a=k(4482),Y=k(5403);function x(ne,ie){return(0,a.e)((ee,fe)=>{let ce=0;ee.subscribe((0,Y.x)(fe,ue=>{fe.next(ne.call(ie,ue,ce++))}))})}},8189:(yt,be,k)=>{k.d(be,{J:()=>x});var a=k(5577),Y=k(4671);function x(ne=1/0){return(0,a.z)(Y.y,ne)}},5577:(yt,be,k)=>{k.d(be,{z:()=>ce});var a=k(4004),Y=k(8421),x=k(4482),ne=k(9672),ie=k(5403),fe=k(576);function ce(ue,H,j=1/0){return(0,fe.m)(H)?ce((q,je)=>(0,a.U)((De,qe)=>H(q,De,je,qe))((0,Y.Xf)(ue(q,je))),j):("number"==typeof H&&(j=H),(0,x.e)((q,je)=>function ee(ue,H,j,q,je,De,qe,pt){const he=[];let Ee=0,Se=0,Le=!1;const we=()=>{Le&&!he.length&&!Ee&&H.complete()},ve=Ve=>Ee<q?Ie(Ve):he.push(Ve),Ie=Ve=>{De&&H.next(Ve),Ee++;let Re=!1;(0,Y.Xf)(j(Ve,Se++)).subscribe((0,ie.x)(H,V=>{je?.(V),De?ve(V):H.next(V)},()=>{Re=!0},void 0,()=>{if(Re)try{for(Ee--;he.length&&Ee<q;){const V=he.shift();qe?(0,ne.f)(H,qe,()=>Ie(V)):Ie(V)}we()}catch(V){H.error(V)}}))};return ue.subscribe((0,ie.x)(H,ve,()=>{Le=!0,we()})),()=>{pt?.()}}(q,je,ue,j)))}},5363:(yt,be,k)=>{k.d(be,{Q:()=>ne});var a=k(9672),Y=k(4482),x=k(5403);function ne(ie,ee=0){return(0,Y.e)((fe,ce)=>{fe.subscribe((0,x.x)(ce,ue=>(0,a.f)(ce,ie,()=>ce.next(ue),ee),()=>(0,a.f)(ce,ie,()=>ce.complete(),ee),ue=>(0,a.f)(ce,ie,()=>ce.error(ue),ee)))})}},3099:(yt,be,k)=>{k.d(be,{B:()=>ie});var a=k(8421),Y=k(7579),x=k(930),ne=k(4482);function ie(fe={}){const{connector:ce=(()=>new Y.x),resetOnError:ue=!0,resetOnComplete:H=!0,resetOnRefCountZero:j=!0}=fe;return q=>{let je,De,qe,pt=0,he=!1,Ee=!1;const Se=()=>{De?.unsubscribe(),De=void 0},Le=()=>{Se(),je=qe=void 0,he=Ee=!1},we=()=>{const ve=je;Le(),ve?.unsubscribe()};return(0,ne.e)((ve,Ie)=>{pt++,!Ee&&!he&&Se();const Ve=qe=qe??ce();Ie.add(()=>{pt--,0===pt&&!Ee&&!he&&(De=ee(we,j))}),Ve.subscribe(Ie),!je&&pt>0&&(je=new x.Hp({next:Re=>Ve.next(Re),error:Re=>{Ee=!0,Se(),De=ee(Le,ue,Re),Ve.error(Re)},complete:()=>{he=!0,Se(),De=ee(Le,H),Ve.complete()}}),(0,a.Xf)(ve).subscribe(je))})(q)}}function ee(fe,ce,...ue){if(!0===ce)return void fe();if(!1===ce)return;const H=new x.Hp({next:()=>{H.unsubscribe(),fe()}});return(0,a.Xf)(ce(...ue)).subscribe(H)}},9468:(yt,be,k)=>{k.d(be,{R:()=>Y});var a=k(4482);function Y(x,ne=0){return(0,a.e)((ie,ee)=>{ee.add(x.schedule(()=>ie.subscribe(ee),ne))})}},8505:(yt,be,k)=>{k.d(be,{b:()=>ie});var a=k(576),Y=k(4482),x=k(5403),ne=k(4671);function ie(ee,fe,ce){const ue=(0,a.m)(ee)||fe||ce?{next:ee,error:fe,complete:ce}:ee;return ue?(0,Y.e)((H,j)=>{var q;null===(q=ue.subscribe)||void 0===q||q.call(ue);let je=!0;H.subscribe((0,x.x)(j,De=>{var qe;null===(qe=ue.next)||void 0===qe||qe.call(ue,De),j.next(De)},()=>{var De;je=!1,null===(De=ue.complete)||void 0===De||De.call(ue),j.complete()},De=>{var qe;je=!1,null===(qe=ue.error)||void 0===qe||qe.call(ue,De),j.error(De)},()=>{var De,qe;je&&(null===(De=ue.unsubscribe)||void 0===De||De.call(ue)),null===(qe=ue.finalize)||void 0===qe||qe.call(ue)}))}):ne.y}},4408:(yt,be,k)=>{k.d(be,{o:()=>ie});var a=k(727);class Y extends a.w0{constructor(fe,ce){super()}schedule(fe,ce=0){return this}}const x={setInterval(ee,fe,...ce){const{delegate:ue}=x;return ue?.setInterval?ue.setInterval(ee,fe,...ce):setInterval(ee,fe,...ce)},clearInterval(ee){const{delegate:fe}=x;return(fe?.clearInterval||clearInterval)(ee)},delegate:void 0};var ne=k(8737);class ie extends Y{constructor(fe,ce){super(fe,ce),this.scheduler=fe,this.work=ce,this.pending=!1}schedule(fe,ce=0){var ue;if(this.closed)return this;this.state=fe;const H=this.id,j=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(j,H,ce)),this.pending=!0,this.delay=ce,this.id=null!==(ue=this.id)&&void 0!==ue?ue:this.requestAsyncId(j,this.id,ce),this}requestAsyncId(fe,ce,ue=0){return x.setInterval(fe.flush.bind(fe,this),ue)}recycleAsyncId(fe,ce,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return ce;null!=ce&&x.clearInterval(ce)}execute(fe,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(fe,ce);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(fe,ce){let H,ue=!1;try{this.work(fe)}catch(j){ue=!0,H=j||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:fe,scheduler:ce}=this,{actions:ue}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ue,this),null!=fe&&(this.id=this.recycleAsyncId(ce,fe,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,be,k)=>{k.d(be,{v:()=>x});var a=k(6063);class Y{constructor(ie,ee=Y.now){this.schedulerActionCtor=ie,this.now=ee}schedule(ie,ee=0,fe){return new this.schedulerActionCtor(this,ie).schedule(fe,ee)}}Y.now=a.l.now;class x extends Y{constructor(ie,ee=Y.now){super(ie,ee),this.actions=[],this._active=!1}flush(ie){const{actions:ee}=this;if(this._active)return void ee.push(ie);let fe;this._active=!0;do{if(fe=ie.execute(ie.state,ie.delay))break}while(ie=ee.shift());if(this._active=!1,fe){for(;ie=ee.shift();)ie.unsubscribe();throw fe}}}},4986:(yt,be,k)=>{k.d(be,{P:()=>ne,z:()=>x});var a=k(4408);const x=new(k(7565).v)(a.o),ne=x},6063:(yt,be,k)=>{k.d(be,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(yt,be,k)=>{k.d(be,{z:()=>a});const a={setTimeout(Y,x,...ne){const{delegate:ie}=a;return ie?.setTimeout?ie.setTimeout(Y,x,...ne):setTimeout(Y,x,...ne)},clearTimeout(Y){const{delegate:x}=a;return(x?.clearTimeout||clearTimeout)(Y)},delegate:void 0}},2202:(yt,be,k)=>{k.d(be,{h:()=>Y});const Y=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,be,k)=>{k.d(be,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,be,k)=>{k.d(be,{_6:()=>ee,jO:()=>ne,yG:()=>ie});var a=k(576),Y=k(3532);function x(fe){return fe[fe.length-1]}function ne(fe){return(0,a.m)(x(fe))?fe.pop():void 0}function ie(fe){return(0,Y.K)(x(fe))?fe.pop():void 0}function ee(fe,ce){return"number"==typeof x(fe)?fe.pop():ce}},8737:(yt,be,k)=>{function a(Y,x){if(Y){const ne=Y.indexOf(x);0<=ne&&Y.splice(ne,1)}}k.d(be,{P:()=>a})},3888:(yt,be,k)=>{function a(Y){const ne=Y(ie=>{Error.call(ie),ie.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}k.d(be,{d:()=>a})},2806:(yt,be,k)=>{k.d(be,{O:()=>ne,x:()=>x});var a=k(2416);let Y=null;function x(ie){if(a.v.useDeprecatedSynchronousErrorHandling){const ee=!Y;if(ee&&(Y={errorThrown:!1,error:null}),ie(),ee){const{errorThrown:fe,error:ce}=Y;if(Y=null,fe)throw ce}}else ie()}function ne(ie){a.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=ie)}},9672:(yt,be,k)=>{function a(Y,x,ne,ie=0,ee=!1){const fe=x.schedule(function(){ne(),ee?Y.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(Y.add(fe),!ee)return fe}k.d(be,{f:()=>a})},4671:(yt,be,k)=>{function a(Y){return Y}k.d(be,{y:()=>a})},1144:(yt,be,k)=>{k.d(be,{z:()=>a});const a=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(yt,be,k)=>{k.d(be,{D:()=>Y});var a=k(576);function Y(x){return Symbol.asyncIterator&&(0,a.m)(x?.[Symbol.asyncIterator])}},576:(yt,be,k)=>{function a(Y){return"function"==typeof Y}k.d(be,{m:()=>a})},3670:(yt,be,k)=>{k.d(be,{c:()=>x});var a=k(8822),Y=k(576);function x(ne){return(0,Y.m)(ne[a.L])}},6495:(yt,be,k)=>{k.d(be,{T:()=>x});var a=k(2202),Y=k(576);function x(ne){return(0,Y.m)(ne?.[a.h])}},8239:(yt,be,k)=>{k.d(be,{t:()=>Y});var a=k(576);function Y(x){return(0,a.m)(x?.then)}},3260:(yt,be,k)=>{k.d(be,{L:()=>ne,Q:()=>x});var a=k(655),Y=k(576);function x(ie){return(0,a.FC)(this,arguments,function*(){const fe=ie.getReader();try{for(;;){const{value:ce,done:ue}=yield(0,a.qq)(fe.read());if(ue)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(ce)}}finally{fe.releaseLock()}})}function ne(ie){return(0,Y.m)(ie?.getReader)}},3532:(yt,be,k)=>{k.d(be,{K:()=>Y});var a=k(576);function Y(x){return x&&(0,a.m)(x.schedule)}},4482:(yt,be,k)=>{k.d(be,{A:()=>Y,e:()=>x});var a=k(576);function Y(ne){return(0,a.m)(ne?.lift)}function x(ne){return ie=>{if(Y(ie))return ie.lift(function(ee){try{return ne(ee,this)}catch(fe){this.error(fe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(yt,be,k)=>{function a(){}k.d(be,{Z:()=>a})},9635:(yt,be,k)=>{k.d(be,{U:()=>x,z:()=>Y});var a=k(4671);function Y(...ne){return x(ne)}function x(ne){return 0===ne.length?a.y:1===ne.length?ne[0]:function(ee){return ne.reduce((fe,ce)=>ce(fe),ee)}}},7849:(yt,be,k)=>{k.d(be,{h:()=>x});var a=k(2416),Y=k(3410);function x(ne){Y.z.setTimeout(()=>{const{onUnhandledError:ie}=a.v;if(!ie)throw ne;ie(ne)})}},4532:(yt,be,k)=>{function a(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(be,{z:()=>a})},655:(yt,be,k)=>{function ne(se,de){var ye={};for(var Ae in se)Object.prototype.hasOwnProperty.call(se,Ae)&&de.indexOf(Ae)<0&&(ye[Ae]=se[Ae]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var xe=0;for(Ae=Object.getOwnPropertySymbols(se);xe<Ae.length;xe++)de.indexOf(Ae[xe])<0&&Object.prototype.propertyIsEnumerable.call(se,Ae[xe])&&(ye[Ae[xe]]=se[Ae[xe]])}return ye}function q(se,de,ye,Ae){return new(ye||(ye=Promise))(function($e,et){function Je(on){try{St(Ae.next(on))}catch(nt){et(nt)}}function ln(on){try{St(Ae.throw(on))}catch(nt){et(nt)}}function St(on){on.done?$e(on.value):function xe($e){return $e instanceof ye?$e:new ye(function(et){et($e)})}(on.value).then(Je,ln)}St((Ae=Ae.apply(se,de||[])).next())})}function we(se){return this instanceof we?(this.v=se,this):new we(se)}function ve(se,de,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var xe,Ae=ye.apply(se,de||[]),$e=[];return xe={},et("next"),et("throw"),et("return"),xe[Symbol.asyncIterator]=function(){return this},xe;function et(Mt){Ae[Mt]&&(xe[Mt]=function(qn){return new Promise(function(_n,Sn){$e.push([Mt,qn,_n,Sn])>1||Je(Mt,qn)})})}function Je(Mt,qn){try{!function ln(Mt){Mt.value instanceof we?Promise.resolve(Mt.value.v).then(St,on):nt($e[0][2],Mt)}(Ae[Mt](qn))}catch(_n){nt($e[0][3],_n)}}function St(Mt){Je("next",Mt)}function on(Mt){Je("throw",Mt)}function nt(Mt,qn){Mt(qn),$e.shift(),$e.length&&Je($e[0][0],$e[0][1])}}function Ve(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,de=se[Symbol.asyncIterator];return de?de.call(se):(se=function pt(se){var de="function"==typeof Symbol&&Symbol.iterator,ye=de&&se[de],Ae=0;if(ye)return ye.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&Ae>=se.length&&(se=void 0),{value:se&&se[Ae++],done:!se}}};throw new TypeError(de?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),ye={},Ae("next"),Ae("throw"),Ae("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function Ae($e){ye[$e]=se[$e]&&function(et){return new Promise(function(Je,ln){!function xe($e,et,Je,ln){Promise.resolve(ln).then(function(St){$e({value:St,done:Je})},et)}(Je,ln,(et=se[$e](et)).done,et.value)})}}}k.d(be,{FC:()=>ve,KL:()=>Ve,_T:()=>ne,mG:()=>q,qq:()=>we})},4650:(yt,be,k)=>{k.d(be,{$8M:()=>Xl,$WT:()=>Vs,$Z:()=>pT,AFp:()=>Cw,ALo:()=>X1,AaK:()=>ce,AsE:()=>my,BQk:()=>ty,CHM:()=>$l,CRH:()=>lw,CZH:()=>t_,CqO:()=>ip,D6c:()=>Xw,EJc:()=>n_,EpF:()=>rp,F$t:()=>iy,F4k:()=>ih,FYo:()=>Kb,FiY:()=>Vi,G48:()=>fP,Gf:()=>ow,GfV:()=>Yb,Gpc:()=>j,Hsn:()=>KT,Ikx:()=>Cs,JOm:()=>Ni,KtG:()=>Qh,LFG:()=>We,LMc:()=>Qc,LSH:()=>Mf,Lbi:()=>XI,Lck:()=>sI,MAs:()=>jT,MGl:()=>Rm,MMx:()=>Ly,MT6:()=>vy,NdJ:()=>sh,OlP:()=>bn,Oqu:()=>gy,P3R:()=>f0,PXZ:()=>Hw,Q6J:()=>th,QGY:()=>rh,Qsj:()=>oS,QtT:()=>x1,R0b:()=>lo,RDi:()=>l0,Rgc:()=>Ep,SBq:()=>cl,SDv:()=>JC,Sil:()=>qc,Suo:()=>aw,TTD:()=>wo,TgZ:()=>np,Tol:()=>r1,Udp:()=>cy,VKq:()=>z1,W1O:()=>hw,WLB:()=>W1,X6Q:()=>hP,XFs:()=>Tt,Xpm:()=>Ol,Xts:()=>mu,Y36:()=>Kd,YKP:()=>F1,YNc:()=>HT,Yjl:()=>Hu,Yz7:()=>nt,Z0I:()=>Sn,ZZ4:()=>Qw,_Bn:()=>Tp,_UZ:()=>zT,_Vd:()=>yu,_c5:()=>DP,_uU:()=>Eu,aQg:()=>Jw,c2e:()=>eA,cJS:()=>qn,cg1:()=>jm,dDg:()=>Lw,dqk:()=>kt,eFA:()=>uv,eJc:()=>ph,ekj:()=>Vm,eoX:()=>Bw,f3M:()=>ut,g9A:()=>Aw,h0i:()=>fh,hGG:()=>EP,hij:()=>zc,iGM:()=>sw,ifc:()=>X,ip1:()=>tv,jDz:()=>B1,kEZ:()=>Z1,kL8:()=>m1,lG2:()=>Gu,lcZ:()=>ew,lqb:()=>Lc,lri:()=>iv,n5z:()=>Cd,oAB:()=>Pl,oxw:()=>ry,pQV:()=>Oy,q4F:()=>w0,qLn:()=>xf,qOj:()=>Cm,qZA:()=>nh,rWj:()=>sv,s9C:()=>YT,sBO:()=>gP,s_b:()=>Qm,soG:()=>Rp,tb:()=>Vw,tp0:()=>S,uIk:()=>Q0,vHH:()=>he,vpe:()=>Ma,wAp:()=>Rt,xp6:()=>sT,ynx:()=>Om,z2F:()=>cv,zSh:()=>_0,zs3:()=>Zd});var a=k(7579),Y=k(727),x=k(9751),ne=k(6451),ie=k(3099);function ee(s){for(let o in s)if(s[o]===ee)return o;throw Error("Could not find renamed property on target object.")}function fe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function ue(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const H=ee({__forward_ref__:ee});function j(s){return s.__forward_ref__=j,s.toString=function(){return ce(this())},s}function q(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(H)&&s.__forward_ref__===j}function De(s){return s&&!!s.\u0275providers}const pt="https://g.co/ng/security#xss";class he extends Error{constructor(o,u){super(Ee(o,u)),this.code=o}}function Ee(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function Ve(s,o){throw new he(-201,!1)}function Je(s,o,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${o} <=Actual]`))}function nt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function qn(s){return{providers:s.providers||[],imports:s.imports||[]}}function _n(s){return Pn(s,ri)||Pn(s,Cn)}function Sn(s){return null!==_n(s)}function Pn(s,o){return s.hasOwnProperty(o)?s[o]:null}function bi(s){return s&&(s.hasOwnProperty(Ls)||s.hasOwnProperty(ii))?s[Ls]:null}const ri=ee({\u0275prov:ee}),Ls=ee({\u0275inj:ee}),Cn=ee({ngInjectableDef:ee}),ii=ee({ngInjectorDef:ee});var Tt=(()=>((Tt=Tt||{})[Tt.Default=0]="Default",Tt[Tt.Host=1]="Host",Tt[Tt.Self=2]="Self",Tt[Tt.SkipSelf=4]="SkipSelf",Tt[Tt.Optional=8]="Optional",Tt))();let Bs;function xn(s){const o=Bs;return Bs=s,o}function Rr(s,o,u){const d=_n(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Tt.Optional?null:void 0!==o?o:void Ve(ce(s))}const kt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Tn={},Kn="__NG_DI_FLAG__",Zr="ngTempTokenPath",Pr="ngTokenPath",Ra=/\n/gm,dn="\u0275",fs="__source";let tn;function qr(s){const o=tn;return tn=s,o}function Qi(s,o=Tt.Default){if(void 0===tn)throw new he(-203,!1);return null===tn?Rr(s,void 0,o):tn.get(s,o&Tt.Optional?null:void 0,o)}function We(s,o=Tt.Default){return(function Bi(){return Bs}()||Qi)(q(s),o)}function ut(s,o=Tt.Default){return We(s,At(o))}function At(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function xt(s){const o=[];for(let u=0;u<s.length;u++){const d=q(s[u]);if(Array.isArray(d)){if(0===d.length)throw new he(900,!1);let h,m=Tt.Default;for(let v=0;v<d.length;v++){const w=d[v],E=xr(w);"number"==typeof E?-1===E?h=w.token:m|=E:h=w}o.push(We(h,m))}else o.push(We(d))}return o}function Vt(s,o){return s[Kn]=o,s.prototype[Kn]=o,s}function xr(s){return s[Kn]}function W(s){return{toString:s}.toString()}var ge=(()=>((ge=ge||{})[ge.OnPush=0]="OnPush",ge[ge.Default=1]="Default",ge))(),X=(()=>{return(s=X||(X={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",X;var s})();const rt={},Ye=[],gn=ee({\u0275cmp:ee}),kn=ee({\u0275dir:ee}),Un=ee({\u0275pipe:ee}),ir=ee({\u0275mod:ee}),Ft=ee({\u0275fac:ee}),Kr=ee({__NG_ELEMENT_ID__:ee});let Ji=0;function Ol(s){return W(()=>{const o=kr(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===ge.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||X.Emulated,id:"c"+Ji++,styles:s.styles||Ye,_:null,schemas:s.schemas||null,tView:null};xl(u);const d=s.dependencies;return u.directiveDefs=go(d,!1),u.pipeDefs=go(d,!0),u})}function Vu(s){return nn(s)||Yn(s)}function Rl(s){return null!==s}function Pl(s){return W(()=>({type:s.type,bootstrap:s.bootstrap||Ye,declarations:s.declarations||Ye,imports:s.imports||Ye,exports:s.exports||Ye,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Vn(s,o){if(null==s)return rt;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,o&&(o[h]=m)}return u}function Gu(s){return W(()=>{const o=kr(s);return xl(o),o})}function Hu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function nn(s){return s[gn]||null}function Yn(s){return s[kn]||null}function _r(s){return s[Un]||null}function Vs(s){const o=nn(s)||Yn(s)||_r(s);return null!==o&&o.standalone}function sr(s,o){const u=s[ir]||null;if(!u&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return u}function kr(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ye,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Vn(s.inputs,o),outputs:Vn(s.outputs)}}function xl(s){s.features?.forEach(o=>o(s))}function go(s,o){if(!s)return null;const u=o?_r:Vu;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(Rl)}const Ti=0,at=1,Lt=2,vn=3,si=4,Xi=5,rn=6,mo=7,In=8,An=9,Pa=10,Ht=11,Go=12,Ho=13,_o=14,xa=15,yr=16,jo=17,Gs=18,Yr=19,Gn=20,ju=21,en=22,$u=1,kl=2,yo=7,wi=8,$o=9,vr=10;function oi(s){return Array.isArray(s)&&"object"==typeof s[$u]}function ai(s){return Array.isArray(s)&&!0===s[$u]}function gs(s){return 0!=(4&s.flags)}function Fl(s){return s.componentOffset>-1}function zo(s){return 1==(1&s.flags)}function Fr(s){return!!s.template}function ud(s){return 0!=(256&s[Lt])}function li(s,o){return s.hasOwnProperty(Ft)?s[Ft]:null}class hd{constructor(o,u,d){this.previousValue=o,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function wo(){return ka}function ka(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ko),qo}function qo(){const s=Ku(this),o=s?.current;if(o){const u=s.previous;if(u===rt)s.previous=o;else for(let d in o)u[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ko(s,o,u,d){const h=this.declaredInputs[u],m=Ku(s)||function Ul(s,o){return s[Fa]=o}(s,{previous:rt,current:null}),v=m.current||(m.current={}),w=m.previous,E=w[h];v[h]=new hd(E&&E.currentValue,o,w===rt),s[d]=o}wo.ngInherit=!0;const Fa="__ngSimpleChanges__";function Ku(s){return s[Fa]||null}const an=function(s,o,u){};function Fn(s){for(;Array.isArray(s);)s=s[Ti];return s}function ts(s,o){return Fn(o[s])}function Lr(s,o){return Fn(o[s.index])}function Yu(s,o){return s.data[o]}function ns(s,o){return s[o]}function or(s,o){const u=o[s];return oi(u)?u:u[Ti]}function Yo(s){return 64==(64&s[Lt])}function _s(s,o){return null==o?null:s[o]}function Qo(s){s[Gs]=0}function Ju(s,o){s[Xi]+=o;let u=s,d=s[vn];for(;null!==d&&(1===o&&1===u[Xi]||-1===o&&0===u[Xi]);)d[Xi]+=o,u=d,d=d[vn]}const Ot={lFrame:Y_(null),bindingsEnabled:!0};function jl(){return Ot.bindingsEnabled}function Ce(){return Ot.lFrame.lView}function sn(){return Ot.lFrame.tView}function $l(s){return Ot.lFrame.contextLView=s,s[In]}function Qh(s){return Ot.lFrame.contextLView=null,s}function ar(){let s=Xu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Xu(){return Ot.lFrame.currentTNode}function Jo(){const s=Ot.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function ui(s,o){const u=Ot.lFrame;u.currentTNode=s,u.isParent=o}function md(){return Ot.lFrame.isParent}function Xo(){Ot.lFrame.isParent=!1}function Hn(){const s=Ot.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ci(){return Ot.lFrame.bindingIndex}function Ha(){return Ot.lFrame.bindingIndex++}function Ei(s){const o=Ot.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function yd(s){Ot.lFrame.inI18n=s}function vd(s,o){const u=Ot.lFrame;u.bindingIndex=u.bindingRootIndex=s,Zl(o)}function Zl(s){Ot.lFrame.currentDirectiveIndex=s}function nc(){return Ot.lFrame.currentQueryIndex}function ql(s){Ot.lFrame.currentQueryIndex=s}function wg(s){const o=s[at];return 2===o.type?o.declTNode:1===o.type?s[rn]:null}function rc(s,o,u){if(u&Tt.SkipSelf){let h=o,m=s;for(;!(h=h.parent,null!==h||u&Tt.Host||(h=wg(m),null===h||(m=m[xa],10&h.type))););if(null===h)return!1;o=h,s=m}const d=Ot.lFrame=Dg();return d.currentTNode=o,d.lView=s,!0}function bd(s){const o=Dg(),u=s[at];Ot.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Dg(){const s=Ot.lFrame,o=null===s?null:s.child;return null===o?Y_(s):o}function Y_(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ic(){const s=Ot.lFrame;return Ot.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Eg=ic;function Jh(){const s=ic();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Qr(){return Ot.lFrame.selectedIndex}function ja(s){Ot.lFrame.selectedIndex=s}function wn(){const s=Ot.lFrame;return Yu(s.tView,s.selectedIndex)}function sc(s,o){for(let u=o.directiveStart,d=o.directiveEnd;u<d;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:O}=m;v&&(s.contentHooks||(s.contentHooks=[])).push(-u,v),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-u,E),A&&((s.viewHooks||(s.viewHooks=[])).push(u,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,A)),null!=O&&(s.destroyHooks||(s.destroyHooks=[])).push(u,O)}}function oc(s,o,u){$s(s,o,3,u)}function ea(s,o,u,d){(3&s[Lt])===u&&$s(s,o,u,d)}function Eo(s,o){let u=s[Lt];(3&u)===o&&(u&=2047,u+=1,s[Lt]=u)}function $s(s,o,u,d){const m=d??-1,v=o.length-1;let w=0;for(let E=void 0!==d?65535&s[Gs]:0;E<v;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[Gs]+=65536),(w<m||-1==m)&&(Kl(s,u,o,E),s[Gs]=(4294901760&s[Gs])+E+2),E++}function Kl(s,o,u,d){const h=u[d]<0,m=u[d+1],w=s[h?-u[d]:u[d]];if(h){if(s[Lt]>>11<s[Gs]>>16&&(3&s[Lt])===o){s[Lt]+=2048,an(4,w,m);try{m.call(w)}finally{an(5,w,m)}}}else{an(4,w,m);try{m.call(w)}finally{an(5,w,m)}}}const Si=-1;class $a{constructor(o,u,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function rs(s,o,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],v=u[d++],w=u[d++];s.setAttribute(o,v,w,m)}else{const m=h,v=u[++d];Dn(m)?s.setProperty(o,m,v):s.setAttribute(o,m,v),d++}}return d}function ta(s){return 3===s||4===s||6===s}function Dn(s){return 64===s.charCodeAt(0)}function zs(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?u=h:0===u||So(s,u,h,null,-1===u||2===u?o[++d]:null)}}return s}function So(s,o,u,d,h){let m=0,v=s.length;if(-1===o)v=-1;else for(;m<s.length;){const w=s[m++];if("number"==typeof w){if(w===o){v=-1;break}if(w>o){v=m-1;break}}}for(;m<s.length;){const w=s[m];if("number"==typeof w)break;if(w===u){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,o),m=v+1),s.splice(m++,0,u),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function uc(s){return s!==Si}function na(s){return 32767&s}function ra(s,o){let u=function ef(s){return s>>16}(s),d=o;for(;u>0;)d=d[xa],u--;return d}let za=!0;function ia(s){const o=za;return za=s,o}const sa=255,Co=5;let Ws=0;const Ii={};function oa(s,o){const u=Yl(s,o);if(-1!==u)return u;const d=o[at];d.firstCreatePass&&(s.injectorIndex=o.length,Zs(d.data,s),Zs(o,null),Zs(d.blueprint,null));const h=qs(s,o),m=s.injectorIndex;if(uc(h)){const v=na(h),w=ra(h,o),E=w[at].data;for(let A=0;A<8;A++)o[m+A]=w[v+A]|E[v+A]}return o[m+8]=h,m}function Zs(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Yl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function qs(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=o;for(;null!==h;){if(d=Ad(h),null===d)return Si;if(u++,h=h[xa],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return Si}function aa(s,o,u){!function Wa(s,o,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(Kr)&&(d=u[Kr]),null==d&&(d=u[Kr]=Ws++);const h=d&sa;o.data[s+(h>>Co)]|=1<<h}(s,o,u)}function Za(s,o,u){if(u&Tt.Optional||void 0!==s)return s;Ve()}function nf(s,o,u,d){if(u&Tt.Optional&&void 0===d&&(d=null),!(u&(Tt.Self|Tt.Host))){const h=s[An],m=xn(void 0);try{return h?h.get(o,d,u&Tt.Optional):Rr(o,d,u&Tt.Optional)}finally{xn(m)}}return Za(d,0,u)}function ys(s,o,u,d=Tt.Default,h){if(null!==s){if(1024&o[Lt]){const v=function Id(s,o,u,d,h){let m=s,v=o;for(;null!==m&&null!==v&&1024&v[Lt]&&!(256&v[Lt]);){const w=Ed(m,v,u,d|Tt.Self,Ii);if(w!==Ii)return w;let E=m.parent;if(!E){const A=v[ju];if(A){const O=A.get(u,Ii,d);if(O!==Ii)return O}E=Ad(v),v=v[xa]}m=E}return h}(s,o,u,d,Ii);if(v!==Ii)return v}const m=Ed(s,o,u,d,Ii);if(m!==Ii)return m}return nf(o,u,d,h)}function Ed(s,o,u,d,h){const m=function Ao(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Kr)?s[Kr]:void 0;return"number"==typeof o?o>=0?o&sa:dc:o}(u);if("function"==typeof m){if(!rc(o,s,d))return d&Tt.Host?Za(h,0,d):nf(o,u,d,h);try{const v=m(d);if(null!=v||d&Tt.Optional)return v;Ve()}finally{Eg()}}else if("number"==typeof m){let v=null,w=Yl(s,o),E=Si,A=d&Tt.Host?o[yr][rn]:null;for((-1===w||d&Tt.SkipSelf)&&(E=-1===w?qs(s,o):o[w+8],E!==Si&&Jl(d,!1)?(v=o[at],w=na(E),o=ra(E,o)):w=-1);-1!==w;){const O=o[at];if(Sd(m,w,O.data)){const F=Ui(w,o,u,v,d,A);if(F!==Ii)return F}E=o[w+8],E!==Si&&Jl(d,o[at].data[w+8]===A)&&Sd(m,w,o)?(v=O,w=na(E),o=ra(E,o)):w=-1}}return h}function Ui(s,o,u,d,h,m){const v=o[at],w=v.data[s+8],O=Ql(w,v,u,null==d?Fl(w)&&za:d!=v&&0!=(3&w.type),h&Tt.Host&&m===w);return null!==O?Io(o,v,O,w):Ii}function Ql(s,o,u,d,h){const m=s.providerIndexes,v=o.data,w=1048575&m,E=s.directiveStart,O=m>>20,z=h?w+O:s.directiveEnd;for(let Q=d?w:w+O;Q<z;Q++){const me=v[Q];if(Q<E&&u===me||Q>=E&&me.type===u)return Q}if(h){const Q=v[E];if(Q&&Fr(Q)&&Q.type===u)return E}return null}function Io(s,o,u,d){let h=s[u];const m=o.data;if(function wd(s){return s instanceof $a}(h)){const v=h;v.resolving&&function we(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new he(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Le(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(m[u]));const w=ia(v.canSeeViewProviders);v.resolving=!0;const E=v.injectImpl?xn(v.injectImpl):null;rc(s,d,Tt.Default);try{h=s[u]=v.factory(void 0,m,s,d),o.firstCreatePass&&u>=d.directiveStart&&function Ag(s,o,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=o.type.prototype;if(d){const v=ka(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],o)}finally{null!==E&&xn(E),ia(w),v.resolving=!1,Eg()}}return h}function Sd(s,o,u){return!!(u[o+(s>>Co)]&1<<s)}function Jl(s,o){return!(s&Tt.Self||s&Tt.Host&&o)}class Br{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,d){return ys(this._tNode,this._lView,o,At(d),u)}}function dc(){return new Br(ar(),Ce())}function Cd(s){return W(()=>{const o=s.prototype.constructor,u=o[Ft]||la(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[Ft]||la(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function la(s){return je(s)?()=>{const o=la(q(s));return o&&o()}:li(s)}function Ad(s){const o=s[at],u=o.type;return 2===u?o.declTNode:1===u?s[rn]:null}function Xl(s){return function tf(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(ta(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===o)return u[h+1];h+=2}}}return null}(ar(),s)}const Mo="__parameters__";function ua(s,o,u){return W(()=>{const d=function Md(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(o);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return w.annotation=v,w;function w(E,A,O){const F=E.hasOwnProperty(Mo)?E[Mo]:Object.defineProperty(E,Mo,{value:[]})[Mo];for(;F.length<=O;)F.push(null);return(F[O]=F[O]||[]).push(v),E}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class bn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qs(s,o){s.forEach(u=>Array.isArray(u)?Qs(u,o):o(u))}function hc(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Qa(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Js(s,o){const u=[];for(let d=0;d<s;d++)u.push(o);return u}function jt(s,o,u){let d=it(s,o);return d>=0?s[1|d]=u:(d=~d,function Pg(s,o,u,d){let h=s.length;if(h==o)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=d}}(s,d,o,u)),d}function Ai(s,o){const u=it(s,o);if(u>=0)return s[1|u]}function it(s,o){return function mn(s,o,u){let d=0,h=s.length>>u;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<u];if(o===v)return m<<u;v>o?h=m:d=m+1}return~(h<<u)}(s,o,1)}const Vi=Vt(ua("Optional"),8),S=Vt(ua("SkipSelf"),4);var Ni=(()=>((Ni=Ni||{})[Ni.Important=1]="Important",Ni[Ni.DashCase=2]="DashCase",Ni))();const J_=/^>|^->|<!--|-->|--!>|<!-$/g,su=/(<|>)/,Fg="\u200b$1\u200b";const is=new Map;let Bg=0;const xd="__ngContext__";function fi(s,o){oi(o)?(s[xd]=o[Gn],function Pd(s){is.set(s[Gn],s)}(o)):s[xd]=o}let nl;function kd(s,o){return nl(s,o)}function ma(s){const o=s[vn];return ai(o)?o[vn]:o}function lu(s){return Ld(s[Ho])}function vc(s){return Ld(s[si])}function Ld(s){for(;null!==s&&!ai(s);)s=s[si];return s}function No(s,o,u,d,h){if(null!=d){let m,v=!1;ai(d)?m=d:oi(d)&&(v=!0,d=d[Ti]);const w=Fn(d);0===s&&null!==u?null==h?jg(o,u,w):_a(o,u,w,h||null,!0):1===s&&null!==u?_a(o,u,w,h||null,!0):2===s?sl(o,w,v):3===s&&o.destroyNode(w),null!=m&&function eo(s,o,u,d,h){const m=u[yo];m!==Fn(u)&&No(o,s,d,m,h);for(let w=vr;w<u.length;w++){const E=u[w];ol(E[at],E,s,o,d,m)}}(o,s,m,u,h)}}function uu(s,o){return s.createText(o)}function Tf(s,o,u){s.setValue(o,u)}function e0(s,o){return s.createComment(function Lg(s){return s.replace(J_,o=>o.replace(su,Fg))}(o))}function bc(s,o,u){return s.createElement(o,u)}function Ud(s,o){const u=s[$o],d=u.indexOf(o),h=o[vn];512&o[Lt]&&(o[Lt]&=-513,Ju(h,-1)),u.splice(d,1)}function Tc(s,o){if(s.length<=vr)return;const u=vr+o,d=s[u];if(d){const h=d[jo];null!==h&&h!==s&&Ud(h,d),o>0&&(s[u-1][si]=d[si]);const m=Qa(s,vr+o);!function t0(s,o){ol(s,o,o[Ht],2,null,null),o[Ti]=null,o[rn]=null}(d[at],d);const v=m[Yr];null!==v&&v.detachView(m[at]),d[vn]=null,d[si]=null,d[Lt]&=-65}return d}function wc(s,o){if(!(128&o[Lt])){const u=o[Ht];u.destroyNode&&ol(s,o,u,3,null,null),function r0(s){let o=s[Ho];if(!o)return Dc(s[at],s);for(;o;){let u=null;if(oi(o))u=o[Ho];else{const d=o[vr];d&&(u=d)}if(!u){for(;o&&!o[si]&&o!==s;)oi(o)&&Dc(o[at],o),o=o[vn];null===o&&(o=s),oi(o)&&Dc(o[at],o),u=o&&o[si]}o=u}}(o)}}function Dc(s,o){if(!(128&o[Lt])){o[Lt]&=-65,o[Lt]|=128,function wf(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=o[u[d]];if(!(h instanceof $a)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=h[m[v]],E=m[v+1];an(4,w,E);try{E.call(w)}finally{an(5,w,E)}}else{an(4,h,m);try{m.call(h)}finally{an(5,h,m)}}}}}(s,o),function Oo(s,o){const u=s.cleanup,d=o[mo];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),m+=2}else{const v=d[h=u[m+1]];u[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();o[mo]=null}}(s,o),1===o[at].type&&o[Ht].destroy();const u=o[jo];if(null!==u&&ai(o[vn])){u!==o[vn]&&Ud(u,o);const d=o[Yr];null!==d&&d.detachView(s)}!function br(s){is.delete(s[Gn])}(o)}}function o0(s,o,u){return cu(s,o.parent,u)}function cu(s,o,u){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return u[Ti];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=s.data[d.directiveStart+h];if(m===X.None||m===X.Emulated)return null}return Lr(d,u)}}function _a(s,o,u,d,h){s.insertBefore(o,u,d,h)}function jg(s,o,u){s.appendChild(o,u)}function du(s,o,u,d,h){null!==d?_a(s,o,u,d,h):jg(s,o,u)}function Sc(s,o){return s.parentNode(o)}function Df(s,o,u){return zg(s,o,u)}function Ts(s,o,u){return 40&s.type?Lr(s,u):null}let Vd,va,Sf,Mc,zg=Ts;function Ef(s,o){zg=s,Vd=o}function Gd(s,o,u,d){const h=o0(s,d,o),m=o[Ht],w=Df(d.parent||o[rn],d,o);if(null!=h)if(Array.isArray(u))for(let E=0;E<u.length;E++)du(m,h,u[E],w,!1);else du(m,h,u,w,!1);void 0!==Vd&&Vd(m,d,o,u,h)}function fu(s,o){if(null!==o){const u=o.type;if(3&u)return Lr(o,s);if(4&u)return Hd(-1,s[o.index]);if(8&u){const d=o.child;if(null!==d)return fu(s,d);{const h=s[o.index];return ai(h)?Hd(-1,h):Fn(h)}}if(32&u)return kd(o,s)()||Fn(s[o.index]);{const d=il(s,o);return null!==d?Array.isArray(d)?d[0]:fu(ma(s[yr]),d):fu(s,o.next)}}return null}function il(s,o){return null!==o?s[yr][rn].projection[o.projection]:null}function Hd(s,o){const u=vr+s+1;if(u<o.length){const d=o[u],h=d[at].firstChild;if(null!==h)return fu(d,h)}return o[yo]}function sl(s,o,u){const d=Sc(s,o);d&&function hu(s,o,u,d){s.removeChild(o,u,d)}(s,d,o,u)}function Cc(s,o,u,d,h,m,v){for(;null!=u;){const w=d[u.index],E=u.type;if(v&&0===o&&(w&&fi(Fn(w),d),u.flags|=2),32!=(32&u.flags))if(8&E)Cc(s,o,u.child,d,h,m,!1),No(o,s,h,w,m);else if(32&E){const A=kd(u,d);let O;for(;O=A();)No(o,s,h,O,m);No(o,s,h,w,m)}else 16&E?ya(s,o,d,u,h,m):No(o,s,h,w,m);u=v?u.projectionNext:u.next}}function ol(s,o,u,d,h,m){Cc(u,d,s.firstChild,o,h,m,!1)}function ya(s,o,u,d,h,m){const v=u[yr],E=v[rn].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)No(o,s,h,E[A],m);else Cc(s,o,E,v[vn],h,m,!0)}function pu(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function Ic(s,o,u){const{mergedAttrs:d,classes:h,styles:m}=u;null!==d&&rs(s,o,d),null!==h&&pu(s,o,h),null!==m&&function ws(s,o,u){s.setAttribute(o,"style",u)}(s,o,m)}function gu(s){return function Ac(){if(void 0===va&&(va=null,kt.trustedTypes))try{va=kt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return va}()?.createHTML(s)||s}function l0(s){Sf=s}function Yg(s){return function Xr(){if(void 0===Mc&&(Mc=null,kt.trustedTypes))try{Mc=kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Mc}()?.createScriptURL(s)||s}class to{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pt})`}}function ei(s){return s instanceof to?s.changingThisBreaksApplicationSecurity:s}function no(s,o){const u=function Jg(s){return s instanceof to&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${pt})`)}return u===o}class R{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(gu(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class Z{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=gu(o),u}}const He=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function st(s){return(s=String(s)).match(He)?s:"unsafe:"+s}function bt(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function gt(...s){const o={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(o[d]=!0);return o}const ur=bt("area,br,col,hr,img,wbr"),ss=bt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ll=bt("rp,rt"),Pc=gt(ur,gt(ss,bt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gt(ll,bt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gt(ll,ss)),xc=bt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ul=gt(xc,bt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var Cr=(()=>((Cr=Cr||{})[Cr.NONE=0]="NONE",Cr[Cr.HTML=1]="HTML",Cr[Cr.STYLE=2]="STYLE",Cr[Cr.SCRIPT=3]="SCRIPT",Cr[Cr.URL=4]="URL",Cr[Cr.RESOURCE_URL=5]="RESOURCE_URL",Cr))();function Mf(s){const o=Of();return o?o.sanitize(Cr.URL,s)||"":no(s,"URL")?ei(s):st(Se(s))}function Ds(s){const o=Of();if(o)return Yg(o.sanitize(Cr.RESOURCE_URL,s)||"");if(no(s,"ResourceURL"))return Yg(ei(s));throw new he(904,!1)}function f0(s,o,u){return function XE(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Ds:Mf}(o,u)(s)}function Of(){const s=Ce();return s&&s[Go]}const mu=new bn("ENVIRONMENT_INITIALIZER"),zd=new bn("INJECTOR",-1),Fb=new bn("INJECTOR_DEF_TYPES");class Lb{get(o,u=Tn){if(u===Tn){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return u}}function Rf(...s){return{\u0275providers:Bb(0,s),\u0275fromNgModule:!0}}function Bb(s,...o){const u=[],d=new Set;let h;return Qs(o,m=>{const v=m;g0(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Ub(h,u),u}function Ub(s,o){for(let u=0;u<s.length;u++){const{providers:h}=s[u];m0(h,m=>{o.push(m)})}}function g0(s,o,u,d){if(!(s=q(s)))return!1;let h=null,m=bi(s);const v=!m&&nn(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const E=s.ngModule;if(m=bi(E),!m)return!1;h=E}const w=d.has(h);if(v){if(w)return!1;if(d.add(h),v.dependencies){const E="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of E)g0(A,o,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let A;d.add(h);try{Qs(m.imports,O=>{g0(O,o,u,d)&&(A||(A=[]),A.push(O))})}finally{}void 0!==A&&Ub(A,o)}if(!w){const A=li(h)||(()=>new h);o.push({provide:h,useFactory:A,deps:Ye},{provide:Fb,useValue:h,multi:!0},{provide:mu,useValue:()=>We(h),multi:!0})}const E=m.providers;null==E||w||m0(E,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function m0(s,o){for(let u of s)De(u)&&(u=u.\u0275providers),Array.isArray(u)?m0(u,o):o(u)}const eS=ee({provide:String,useValue:ee});function Vb(s){return null!==s&&"object"==typeof s&&eS in s}function ba(s){return"function"==typeof s}const _0=new bn("Set Injector scope."),sm={},tS={};let y0;function om(){return void 0===y0&&(y0=new Lb),y0}class Lc{}class Hb extends Lc{get destroyed(){return this._destroyed}constructor(o,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,T0(o,v=>this.processProvider(v)),this.records.set(zd,_u(void 0,this)),h.has("environment")&&this.records.set(Lc,_u(void 0,this));const m=this.records.get(_0);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Fb.multi,Ye,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=qr(this),d=xn(void 0);try{return o()}finally{qr(u),xn(d)}}get(o,u=Tn,d=Tt.Default){this.assertNotDestroyed(),d=At(d);const h=qr(this),m=xn(void 0);try{if(!(d&Tt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function am(s){return"function"==typeof s||"object"==typeof s&&s instanceof bn}(o)&&_n(o);w=E&&this.injectableDefInScope(E)?_u(v0(o),sm):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&Tt.Self?om():this.parent).get(o,u=d&Tt.Optional&&u===Tn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Zr]=v[Zr]||[]).unshift(ce(o)),h)throw v;return function G(s,o,u,d){const h=s[Zr];throw o[fs]&&h.unshift(o[fs]),s.message=function U(s,o,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==dn?s.slice(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let m=[];for(let v in o)if(o.hasOwnProperty(v)){let w=o[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):ce(w)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(Ra,"\n  ")}`}("\n"+s.message,h,u,d),s[Pr]=h,s[Zr]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{xn(m),qr(h)}}resolveInjectorInitializers(){const o=qr(this),u=xn(void 0);try{const d=this.get(mu.multi,Ye,Tt.Self);for(const h of d)h()}finally{qr(o),xn(u)}}toString(){const o=[],u=this.records;for(const d of u.keys())o.push(ce(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new he(205,!1)}processProvider(o){let u=ba(o=q(o))?o:q(o&&o.provide);const d=function jb(s){return Vb(s)?_u(void 0,s.useValue):_u($b(s),sm)}(o);if(ba(o)||!0!==o.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=_u(void 0,sm,!0),h.factory=()=>xt(h.multi),this.records.set(u,h)),u=o,h.multi.push(o)}this.records.set(u,d)}hydrate(o,u){return u.value===sm&&(u.value=tS,u.value=u.factory()),"object"==typeof u.value&&u.value&&function b0(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=q(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function v0(s){const o=_n(s),u=null!==o?o.factory:li(s);if(null!==u)return u;if(s instanceof bn)throw new he(204,!1);if(s instanceof Function)return function nS(s){const o=s.length;if(o>0)throw Js(o,"?"),new he(204,!1);const u=function vi(s){const o=s&&(s[ri]||s[Cn]);return o?(function fo(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new he(204,!1)}function $b(s,o,u){let d;if(ba(s)){const h=q(s);return li(h)||v0(h)}if(Vb(s))d=()=>q(s.useValue);else if(function im(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...xt(s.deps||[]));else if(function Gb(s){return!(!s||!s.useExisting)}(s))d=()=>We(q(s.useExisting));else{const h=q(s&&(s.useClass||s.provide));if(!function zb(s){return!!s.deps}(s))return li(h)||v0(h);d=()=>new h(...xt(s.deps))}return d}function _u(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function T0(s,o){for(const u of s)Array.isArray(u)?T0(u,o):u&&De(u)?T0(u.\u0275providers,o):o(u)}class rS{}class Wb{}class Zb{resolveComponentFactory(o){throw function iS(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let yu=(()=>{class s{}return s.NULL=new Zb,s})();function lm(){return Bc(ar(),Ce())}function Bc(s,o){return new cl(Lr(s,o))}let cl=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=lm,s})();function qb(s){return s instanceof cl?s.nativeElement:s}class Kb{}let oS=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function aS(){const s=Ce(),u=or(ar().index,s);return(oi(u)?u:s)[Ht]}(),s})(),lS=(()=>{class s{}return s.\u0275prov=nt({token:s,providedIn:"root",factory:()=>null}),s})();class Yb{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const w0=new Yb("15.2.5"),D0={},E0="ngOriginalError";function S0(s){return s[E0]}class xf{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&S0(o);for(;u&&S0(u);)u=S0(u);return u||null}}function Ta(s){return s instanceof Function?s():s}function C0(s,o,u){let d=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=o.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}u=h+1}}const um="ng-template";function tT(s,o,u){let d=0,h=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&h){const v=s[d++];if(u&&"class"===m&&-1!==C0(v.toLowerCase(),o,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===o)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Vc(s){return 4===s.type&&s.value!==um}function I0(s,o,u){return o===(4!==s.type||u?s.value:um)}function gS(s,o,u){let d=4;const h=s.attrs||[],m=function rT(s){for(let o=0;o<s.length;o++)if(ta(s[o]))return o;return s.length}(h);let v=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!v)if(4&d){if(d=2|1&d,""!==E&&!I0(s,E,u)||""===E&&1===o.length){if(ro(d))return!1;v=!0}}else{const A=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!tT(s.attrs,A,u)){if(ro(d))return!1;v=!0}continue}const F=cm(8&d?"class":E,h,Vc(s),u);if(-1===F){if(ro(d))return!1;v=!0;continue}if(""!==A){let z;z=F>m?"":h[F+1].toLowerCase();const Q=8&d?z:null;if(Q&&-1!==C0(Q,A,0)||2&d&&A!==z){if(ro(d))return!1;v=!0}}}}else{if(!v&&!ro(d)&&!ro(E))return!1;if(v&&ro(E))continue;v=!1,d=E|1&d}}return ro(d)||v}function ro(s){return 0==(1&s)}function cm(s,o,u,d){if(null===o)return-1;let h=0;if(d||!u){let m=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function mS(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===o)return u;u++}return-1}(o,s)}function kf(s,o,u=!1){for(let d=0;d<o.length;d++)if(gS(s,o[d],u))return!0;return!1}function _S(s,o){e:for(let u=0;u<o.length;u++){const d=o[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function iT(s,o){return s?":not("+o.trim()+")":o}function yS(s){let o=s[0],u=1,d=2,h="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const w=s[++u];h+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!ro(v)&&(o+=iT(m,h),h=""),d=v,m=m||!ro(d);u++}return""!==h&&(o+=iT(m,h)),o}const $t={};function sT(s){hm(sn(),Ce(),Qr()+s,!1)}function hm(s,o,u,d){if(!d)if(3==(3&o[Lt])){const m=s.preOrderCheckHooks;null!==m&&oc(o,m,u)}else{const m=s.preOrderHooks;null!==m&&ea(o,m,0,u)}ja(u)}function A0(s,o=null,u=null,d){const h=wS(s,o,u,d);return h.resolveInjectorInitializers(),h}function wS(s,o=null,u=null,d,h=new Set){const m=[u||Ye,Rf(s)];return d=d||("object"==typeof s?void 0:ce(s)),new Hb(m,o||om(),d||null,h)}let Zd=(()=>{class s{static create(u,d){if(Array.isArray(u))return A0({name:""},d,u,"");{const h=u.name??"";return A0({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=Tn,s.NULL=new Lb,s.\u0275prov=nt({token:s,providedIn:"any",factory:()=>We(zd)}),s.__NG_ELEMENT_ID__=-1,s})();function Kd(s,o=Tt.Default){const u=Ce();return null===u?We(s,o):ys(ar(),u,q(s),o)}function pT(){throw new Error("invalid")}function gT(s,o){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const m=u[d+1];if(-1!==m){const v=s.data[m];ql(u[d]),v.contentQueries(2,o[m],m)}}}function P0(s,o,u,d,h,m,v,w,E,A,O){const F=o.blueprint.slice();return F[Ti]=h,F[Lt]=76|d,(null!==O||s&&1024&s[Lt])&&(F[Lt]|=1024),Qo(F),F[vn]=F[xa]=s,F[In]=u,F[Pa]=v||s&&s[Pa],F[Ht]=w||s&&s[Ht],F[Go]=E||s&&s[Go]||null,F[An]=A||s&&s[An]||null,F[rn]=m,F[Gn]=function Ug(){return Bg++}(),F[ju]=O,F[yr]=2==o.type?s[yr]:F,F}function hl(s,o,u,d,h){let m=s.data[o];if(null===m)m=Vf(s,o,u,d,h),function Wl(){return Ot.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const v=Jo();m.injectorIndex=null===v?-1:v.injectorIndex}return ui(m,!0),m}function Vf(s,o,u,d,h){const m=Xu(),v=md(),E=s.data[o]=function k0(s,o,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,o,d,h);return null===s.firstChild&&(s.firstChild=E),null!==m&&(v?null==m.child&&null!==E.parent&&(m.child=E):null===m.next&&(m.next=E,E.prev=m)),E}function wa(s,o,u,d){if(0===u)return-1;const h=o.length;for(let m=0;m<u;m++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function Gf(s,o,u){bd(o);try{const d=s.viewQuery;null!==d&&$0(1,d,u);const h=s.template;null!==h&&Hc(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&gT(s,o),s.staticViewQueries&&$0(2,s.viewQuery,u);const m=s.components;null!==m&&function OS(s,o){for(let u=0;u<o.length;u++)wm(s,o[u])}(o,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[Lt]&=-5,Jh()}}function Gc(s,o,u,d){const h=o[Lt];if(128!=(128&h)){bd(o);try{Qo(o),function Ga(s){return Ot.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Hc(s,o,u,2,d);const v=3==(3&h);if(v){const A=s.preOrderCheckHooks;null!==A&&oc(o,A,null)}else{const A=s.preOrderHooks;null!==A&&ea(o,A,0,null),Eo(o,0)}if(function Tm(s){for(let o=lu(s);null!==o;o=vc(o)){if(!o[kl])continue;const u=o[$o];for(let d=0;d<u.length;d++){const h=u[d];512&h[Lt]||Ju(h[vn],1),h[Lt]|=512}}}(o),function bm(s){for(let o=lu(s);null!==o;o=vc(o))for(let u=vr;u<o.length;u++){const d=o[u],h=d[at];Yo(d)&&Gc(h,d,h.template,d[In])}}(o),null!==s.contentQueries&&gT(s,o),v){const A=s.contentCheckHooks;null!==A&&oc(o,A)}else{const A=s.contentHooks;null!==A&&ea(o,A,1),Eo(o,1)}!function NS(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)ja(~h);else{const m=h,v=u[++d],w=u[++d];vd(v,m),w(2,o[m])}}}finally{ja(-1)}}(s,o);const w=s.components;null!==w&&function mT(s,o){for(let u=0;u<o.length;u++)jS(s,o[u])}(o,w);const E=s.viewQuery;if(null!==E&&$0(2,E,d),v){const A=s.viewCheckHooks;null!==A&&oc(o,A)}else{const A=s.viewHooks;null!==A&&ea(o,A,2),Eo(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Lt]&=-41,512&o[Lt]&&(o[Lt]&=-513,Ju(o[vn],-1))}finally{Jh()}}}function Hc(s,o,u,d,h){const m=Qr(),v=2&d;try{ja(-1),v&&o.length>en&&hm(s,o,en,!1),an(v?2:0,h),u(d,h)}finally{ja(m),an(v?3:1,h)}}function Da(s,o,u){if(gs(o)){const h=o.directiveEnd;for(let m=o.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function mm(s,o,u){jl()&&(function Hr(s,o,u,d){const h=u.directiveStart,m=u.directiveEnd;Fl(u)&&function bT(s,o,u){const d=Lr(o,s),h=_T(u),m=s[Pa],v=Qd(s,P0(s,h,null,u.onPush?32:16,d,o,m,m.createRenderer(d,u),null,null,null));s[o.index]=v}(o,u,s.data[h+u.componentOffset]),s.firstCreatePass||oa(u,o),fi(d,o);const v=u.initialInputs;for(let w=h;w<m;w++){const E=s.data[w],A=Io(o,s,w,u);fi(A,o),null!==v&&vm(0,w-h,A,E,0,v),Fr(E)&&(or(u.index,o)[In]=Io(o,s,w,u))}}(s,o,u,Lr(u,o)),64==(64&u.flags)&&U0(s,o,u))}function x0(s,o,u=Lr){const d=o.localNames;if(null!==d){let h=o.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?u(o,s):s[v];s[h++]=w}}}function _T(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=_m(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function _m(s,o,u,d,h,m,v,w,E,A){const O=en+d,F=O+h,z=function RS(s,o){const u=[];for(let d=0;d<o;d++)u.push(d<s?null:$t);return u}(O,F),Q="function"==typeof A?A():A;return z[at]={type:s,blueprint:z,template:u,queries:null,viewQuery:w,declTNode:o,data:z.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:F,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:E,consts:Q,incompleteFirstPass:!1}}function ym(s,o,u,d){const h=z0(o);null===u?h.push(d):(h.push(u),s.firstCreatePass&&vu(s).push(d,h.length-1))}function yT(s,o,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const m=s[h];null===d?F0(u,o,h,m):d.hasOwnProperty(h)&&F0(u,o,d[h],m)}return u}function F0(s,o,u,d){s.hasOwnProperty(u)?s[u].push(o,d):s[u]=[o,d]}function Gr(s,o,u,d,h,m,v,w){const E=Lr(o,u);let O,A=o.inputs;!w&&null!=A&&(O=A[d])?(Dm(s,u,O,d,h),Fl(o)&&Yd(u,o.index)):3&o.type&&(d=function xS(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,m.setProperty(E,d,h))}function Yd(s,o){const u=or(o,s);16&u[Lt]||(u[Lt]|=32)}function B0(s,o,u,d){if(jl()){const h=null===d?null:{"":-1},m=function BS(s,o){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];if(kf(o,v.selectors,!1))if(d||(d=[]),Fr(v))if(null!==v.findHostDirectiveDefs){const w=[];h=h||new Map,v.findHostDirectiveDefs(v,w,h),d.unshift(...w,v),V0(s,o,w.length)}else d.unshift(v),V0(s,o,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,u);let v,w;null===m?v=w=null:[v,w]=m,null!==v&&vT(s,o,u,v,h,w),h&&function US(s,o,u){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const m=u[o[h+1]];if(null==m)throw new he(-301,!1);d.push(o[h],m)}}}(u,d,h)}u.mergedAttrs=zs(u.mergedAttrs,u.attrs)}function vT(s,o,u,d,h,m){for(let A=0;A<d.length;A++)aa(oa(u,o),s,d[A].type);!function G0(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,d.length);for(let A=0;A<d.length;A++){const O=d[A];O.providersResolver&&O.providersResolver(O)}let v=!1,w=!1,E=wa(s,o,d.length,null);for(let A=0;A<d.length;A++){const O=d[A];u.mergedAttrs=zs(u.mergedAttrs,O.hostAttrs),GS(s,u,o,E,O),VS(E,O,h),null!==O.contentQueries&&(u.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(u.flags|=64);const F=O.type.prototype;!v&&(F.ngOnChanges||F.ngOnInit||F.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),v=!0),!w&&(F.ngOnChanges||F.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),E++}!function Ea(s,o,u){const h=o.directiveEnd,m=s.data,v=o.attrs,w=[];let E=null,A=null;for(let O=o.directiveStart;O<h;O++){const F=m[O],z=u?u.get(F):null,me=z?z.outputs:null;E=yT(F.inputs,O,E,z?z.inputs:null),A=yT(F.outputs,O,A,me);const Fe=null===E||null===v||Vc(o)?null:fl(E,O,v);w.push(Fe)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=8),E.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=E,o.outputs=A}(s,u,m)}function U0(s,o,u){const d=u.directiveStart,h=u.directiveEnd,m=u.index,v=function tc(){return Ot.lFrame.currentDirectiveIndex}();try{ja(m);for(let w=d;w<h;w++){const E=s.data[w],A=o[w];Zl(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&LS(E,A)}}finally{ja(-1),Zl(v)}}function LS(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function V0(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function VS(s,o,u){if(u){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)u[o.exportAs[d]]=s;Fr(o)&&(u[""]=s)}}function GS(s,o,u,d,h){s.data[d]=h;const m=h.factory||(h.factory=li(h.type)),v=new $a(m,Fr(h),Kd);s.blueprint[d]=v,u[d]=v,function kS(s,o,u,d,h){const m=h.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const w=~o.index;(function FS(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(v)!=w&&v.push(w),v.push(u,d,m)}}(s,o,d,wa(s,u,h.hostVars,$t),h)}function H0(s,o,u,d,h,m,v){if(null==m)s.removeAttribute(o,h,u);else{const w=null==v?Se(m):v(m,d||"",h);s.setAttribute(o,h,w,u)}}function vm(s,o,u,d,h,m){const v=m[o];if(null!==v){const w=d.setInput;for(let E=0;E<v.length;){const A=v[E++],O=v[E++],F=v[E++];null!==w?d.setInput(u,F,A,O):u[O]=F}}}function fl(s,o,u){let d=null,h=0;for(;h<u.length;){const m=u[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const v=s[m];for(let w=0;w<v.length;w+=2)if(v[w]===o){d.push(m,v[w+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function HS(s,o,u,d){return[s,!0,!1,o,null,0,d,u,null,null]}function jS(s,o){const u=or(o,s);if(Yo(u)){const d=u[at];48&u[Lt]?Gc(d,u,d.template,u[In]):u[Xi]>0&&Wn(u)}}function Wn(s){for(let d=lu(s);null!==d;d=vc(d))for(let h=vr;h<d.length;h++){const m=d[h];if(Yo(m))if(512&m[Lt]){const v=m[at];Gc(v,m,v.template,m[In])}else m[Xi]>0&&Wn(m)}const u=s[at].components;if(null!==u)for(let d=0;d<u.length;d++){const h=or(u[d],s);Yo(h)&&h[Xi]>0&&Wn(h)}}function wm(s,o){const u=or(o,s),d=u[at];(function $S(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(d,u),Gf(d,u,u[In])}function Qd(s,o){return s[Ho]?s[_o][si]=o:s[Ho]=o,s[_o]=o,o}function j0(s){for(;s;){s[Lt]|=32;const o=ma(s);if(ud(s)&&!o)return s;s=o}return null}function Hf(s,o,u,d=!0){const h=o[Pa];h.begin&&h.begin();try{Gc(s,o,s.template,u)}catch(v){throw d&&TT(o,v),v}finally{h.end&&h.end()}}function $0(s,o,u){ql(0),o(s,u)}function z0(s){return s[mo]||(s[mo]=[])}function vu(s){return s.cleanup||(s.cleanup=[])}function TT(s,o){const u=s[An],d=u?u.get(xf,null):null;d&&d.handleError(o)}function Dm(s,o,u,d,h){for(let m=0;m<u.length;){const v=u[m++],w=u[m++],E=o[v],A=s.data[v];null!==A.setInput?A.setInput(E,h,d,w):E[w]=h}}function pl(s,o,u){const d=ts(o,s);Tf(s[Ht],d,u)}function Em(s,o,u){let d=u?s.styles:null,h=u?s.classes:null,m=0;if(null!==o)for(let v=0;v<o.length;v++){const w=o[v];"number"==typeof w?m=w:1==m?h=ue(h,w):2==m&&(d=ue(d,w+": "+o[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function Sm(s,o,u,d,h=!1){for(;null!==u;){const m=o[u.index];if(null!==m&&d.push(Fn(m)),ai(m))for(let w=vr;w<m.length;w++){const E=m[w],A=E[at].firstChild;null!==A&&Sm(E[at],E,A,d)}const v=u.type;if(8&v)Sm(s,o,u.child,d);else if(32&v){const w=kd(u,o);let E;for(;E=w();)d.push(E)}else if(16&v){const w=il(o,u);if(Array.isArray(w))d.push(...w);else{const E=ma(o[yr]);Sm(E[at],E,w,d,!0)}}u=h?u.projectionNext:u.next}return d}class gl{get rootNodes(){const o=this._lView,u=o[at];return Sm(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(o){this._lView[In]=o}get destroyed(){return 128==(128&this._lView[Lt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[vn];if(ai(o)){const u=o[wi],d=u?u.indexOf(this):-1;d>-1&&(Tc(o,d),Qa(u,d))}this._attachedToViewContainer=!1}wc(this._lView[at],this._lView)}onDestroy(o){ym(this._lView[at],this._lView,null,o)}markForCheck(){j0(this._cdRefInjectingView||this._lView)}detach(){this._lView[Lt]&=-65}reattach(){this._lView[Lt]|=64}detectChanges(){Hf(this._lView[at],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new he(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function n0(s,o){ol(s,o,o[Ht],2,null,null)}(this._lView[at],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new he(902,!1);this._appRef=o}}class WS extends gl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Hf(o[at],o,o[In],!1)}checkNoChanges(){}get context(){return null}}class ml extends yu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=nn(o);return new jf(u,this.ngModule)}}function W0(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class bu{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,d){d=At(d);const h=this.injector.get(o,D0,d);return h!==D0||u===D0?h:this.parentInjector.get(o,u,d)}}class jf extends Wb{get inputs(){return W0(this.componentDef.inputs)}get outputs(){return W0(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function vS(s){return s.map(yS).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,d,h){let m=(h=h||this.ngModule)instanceof Lc?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new bu(o,m):o,w=v.get(Kb,null);if(null===w)throw new he(407,!1);const E=v.get(lS,null),A=w.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",F=d?function PS(s,o,u){return s.selectRootElement(o,u===X.ShadowDom)}(A,d,this.componentDef.encapsulation):bc(A,O,function gi(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),z=this.componentDef.onPush?288:272,Q=_m(0,null,null,1,0,null,null,null,null,null),me=P0(null,Q,null,z,null,null,w,A,E,v,null);let Fe,Qe;bd(me);try{const mt=this.componentDef;let Pt,Oe=null;mt.findHostDirectiveDefs?(Pt=[],Oe=new Map,mt.findHostDirectiveDefs(mt,Pt,Oe),Pt.push(mt)):Pt=[mt];const Ut=function wT(s,o){const u=s[at],d=en;return s[d]=o,hl(u,d,2,"#host",null)}(me,F),er=function DT(s,o,u,d,h,m,v,w){const E=h[at];!function ET(s,o,u,d){for(const h of s)o.mergedAttrs=zs(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Em(o,o.mergedAttrs,!0),null!==u&&Ic(d,u,o))}(d,s,o,v);const A=m.createRenderer(o,u),O=P0(h,_T(u),null,u.onPush?32:16,h[s.index],s,m,A,w||null,null,null);return E.firstCreatePass&&V0(E,s,d.length-1),Qd(h,O),h[s.index]=O}(Ut,F,mt,Pt,me,w,A);Qe=Yu(Q,en),F&&function CT(s,o,u,d){if(d)rs(s,u,["ng-version",w0.full]);else{const{attrs:h,classes:m}=function dm(s){const o=[],u=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&o.push(m,s[++d]):8===h&&u.push(m);else{if(!ro(h))break;h=m}d++}return{attrs:o,classes:u}}(o.selectors[0]);h&&rs(s,u,h),m&&m.length>0&&pu(s,u,m.join(" "))}}(A,mt,F,d),void 0!==u&&function IT(s,o,u){const d=s.projection=[];for(let h=0;h<o.length;h++){const m=u[h];d.push(null!=m?Array.from(m):null)}}(Qe,this.ngContentSelectors,u),Fe=function ST(s,o,u,d,h,m){const v=ar(),w=h[at],E=Lr(v,h);vT(w,h,v,u,null,d);for(let O=0;O<u.length;O++)fi(Io(h,w,v.directiveStart+O,v),h);U0(w,h,v),E&&fi(E,h);const A=Io(h,w,v.directiveStart+v.componentOffset,v);if(s[In]=h[In]=A,null!==m)for(const O of m)O(A,o);return Da(w,v,s),A}(er,mt,Pt,Oe,me,[AT]),Gf(Q,me,null)}finally{Jh()}return new xR(this.componentType,Fe,Bc(Qe,me),me,Qe)}}class xR extends rS{constructor(o,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new WS(h),this.componentType=o}setInput(o,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const m=this._rootLView;Dm(m[at],m,h,o,u),Yd(m,this._tNode.index)}}get injector(){return new Br(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function AT(){const s=ar();sc(Ce()[at],s)}function Cm(s){let o=function $f(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;o;){let h;if(Fr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new he(903,!1);h=o.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=Im(s.inputs),v.declaredInputs=Im(s.declaredInputs),v.outputs=Im(s.outputs);const w=h.hostBindings;w&&OT(s,w);const E=h.viewQuery,A=h.contentQueries;if(E&&NT(s,E),A&&qS(s,A),fe(s.inputs,h.inputs),fe(s.declaredInputs,h.declaredInputs),fe(s.outputs,h.outputs),Fr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(s),w===Cm&&(u=!1)}}o=Object.getPrototypeOf(o)}!function MT(s){let o=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=zs(h.hostAttrs,u=zs(u,h.hostAttrs))}}(d)}function Im(s){return s===rt?{}:s===Ye?[]:s}function NT(s,o){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{o(d,h),u(d,h)}:o}function qS(s,o){const u=s.contentQueries;s.contentQueries=u?(d,h,m)=>{o(d,h,m),u(d,h,m)}:o}function OT(s,o){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{o(d,h),u(d,h)}:o}function Wf(s){return!!Sa(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Sa(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function _l(s,o,u){return s[o]=u}function ti(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function yl(s,o,u,d){const h=ti(s,o,u);return ti(s,o+1,d)||h}function Q0(s,o,u,d){const h=Ce();return ti(h,Ha(),o)&&(sn(),function Ro(s,o,u,d,h,m){const v=Lr(s,o);H0(o[Ht],v,m,s.value,u,d,h)}(wn(),h,s,o,u,d)),Q0}function Xd(s,o,u,d){return ti(s,Ha(),u)?o+Se(u)+d:$t}function Zf(s,o,u,d,h,m){const w=yl(s,ci(),u,h);return Ei(2),w?o+Se(u)+d+Se(h)+m:$t}function HT(s,o,u,d,h,m,v,w){const E=Ce(),A=sn(),O=s+en,F=A.firstCreatePass?function X0(s,o,u,d,h,m,v,w,E){const A=o.consts,O=hl(o,s,4,v||null,_s(A,w));B0(o,u,O,_s(A,E)),sc(o,O);const F=O.tView=_m(2,O,d,h,m,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,O),F.queries=o.queries.embeddedTView(O)),O}(O,A,E,o,u,d,h,m,v):A.data[O];ui(F,!1);const z=E[Ht].createComment("");Gd(A,E,z,F),fi(z,E),Qd(E,E[O]=HS(z,E,z,F)),zo(F)&&mm(A,E,F),null!=v&&x0(E,F,w)}function jT(s){return ns(function _d(){return Ot.lFrame.contextLView}(),en+s)}function th(s,o,u){const d=Ce();return ti(d,Ha(),o)&&Gr(sn(),wn(),d,s,o,d[Ht],u,!1),th}function Nm(s,o,u,d,h){const v=h?"class":"style";Dm(s,u,o.inputs[v],v,d)}function np(s,o,u,d){const h=Ce(),m=sn(),v=en+s,w=h[Ht],E=m.firstCreatePass?function $T(s,o,u,d,h,m){const v=o.consts,E=hl(o,s,2,d,_s(v,h));return B0(o,u,E,_s(v,m)),null!==E.attrs&&Em(E,E.attrs,!1),null!==E.mergedAttrs&&Em(E,E.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,E),E}(v,m,h,o,u,d):m.data[v],A=h[v]=bc(w,o,function Ig(){return Ot.lFrame.currentNamespace}()),O=zo(E);return ui(E,!0),Ic(w,A,E),32!=(32&E.flags)&&Gd(m,h,A,E),0===function gd(){return Ot.lFrame.elementDepthCount}()&&fi(A,h),function Va(){Ot.lFrame.elementDepthCount++}(),O&&(mm(m,h,E),Da(m,E,h)),null!==d&&x0(h,E),np}function nh(){let s=ar();md()?Xo():(s=s.parent,ui(s,!1));const o=s;!function Kh(){Ot.lFrame.elementDepthCount--}();const u=sn();return u.firstCreatePass&&(sc(u,s),gs(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Ng(s){return 0!=(8&s.flags)}(o)&&Nm(u,o,Ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ci(s){return 0!=(16&s.flags)}(o)&&Nm(u,o,Ce(),o.stylesWithoutHost,!1),nh}function zT(s,o,u,d){return np(s,o,u,d),nh(),zT}function Om(s,o,u){const d=Ce(),h=sn(),m=s+en,v=h.firstCreatePass?function kR(s,o,u,d,h){const m=o.consts,v=_s(m,d),w=hl(o,s,8,"ng-container",v);return null!==v&&Em(w,v,!0),B0(o,u,w,_s(m,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(m,h,d,o,u):h.data[m];ui(v,!0);const w=d[m]=d[Ht].createComment("");return Gd(h,d,w,v),fi(w,d),zo(v)&&(mm(h,d,v),Da(h,v,d)),null!=u&&x0(d,v),Om}function ty(){let s=ar();const o=sn();return md()?Xo():(s=s.parent,ui(s,!1)),o.firstCreatePass&&(sc(o,s),gs(s)&&o.queries.elementEnd(s)),ty}function rp(){return Ce()}function rh(s){return!!s&&"function"==typeof s.then}function ih(s){return!!s&&"function"==typeof s.subscribe}const ip=ih;function sh(s,o,u,d){const h=Ce(),m=sn(),v=ar();return function sp(s,o,u,d,h,m,v){const w=zo(d),A=s.firstCreatePass&&vu(s),O=o[In],F=z0(o);let z=!0;if(3&d.type||v){const Fe=Lr(d,o),Qe=v?v(Fe):Fe,mt=F.length,Pt=v?Ut=>v(Fn(Ut[d.index])):d.index;let Oe=null;if(!v&&w&&(Oe=function ny(s,o,u,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===u&&h[m+1]===d){const w=o[mo],E=h[m+2];return w.length>E?w[E]:null}"string"==typeof v&&(m+=2)}return null}(s,o,h,d.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=m,Oe.__ngLastListenerFn__=m,z=!1;else{m=qT(d,o,O,m,!1);const Ut=u.listen(Qe,h,m);F.push(m,Ut),A&&A.push(h,Pt,mt,mt+1)}}else m=qT(d,o,O,m,!1);const Q=d.outputs;let me;if(z&&null!==Q&&(me=Q[h])){const Fe=me.length;if(Fe)for(let Qe=0;Qe<Fe;Qe+=2){const er=o[me[Qe]][me[Qe+1]].subscribe(m),fr=F.length;F.push(m,er),A&&A.push(h,d.index,fr,-(fr+1))}}}(m,h,h[Ht],v,s,o,d),sh}function ZT(s,o,u,d){try{return an(6,o,u),!1!==u(d)}catch(h){return TT(s,h),!1}finally{an(7,o,u)}}function qT(s,o,u,d,h){return function m(v){if(v===Function)return d;j0(s.componentOffset>-1?or(s.index,o):o);let E=ZT(o,u,d,v),A=m.__ngNextListenerFn__;for(;A;)E=ZT(o,u,A,v)&&E,A=A.__ngNextListenerFn__;return h&&!1===E&&(v.preventDefault(),v.returnValue=!1),E}}function ry(s=1){return function Td(s){return(Ot.lFrame.contextLView=function Sg(s,o){for(;s>0;)o=o[xa],s--;return o}(s,Ot.lFrame.contextLView))[In]}(s)}function YS(s,o){let u=null;const d=function nT(s){const o=s.attrs;if(null!=o){const u=o.indexOf(5);if(!(1&u))return o[u+1]}return null}(s);for(let h=0;h<o.length;h++){const m=o[h];if("*"!==m){if(null===d?kf(s,m,!0):_S(d,m))return h}else u=h}return u}function iy(s){const o=Ce()[yr][rn];if(!o.projection){const d=o.projection=Js(s?s.length:1,null),h=d.slice();let m=o.child;for(;null!==m;){const v=s?YS(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function KT(s,o=0,u){const d=Ce(),h=sn(),m=hl(h,en+s,16,null,u||null);null===m.projection&&(m.projection=o),Xo(),32!=(32&m.flags)&&function Wg(s,o,u){ya(o[Ht],0,o,u,o0(s,u,o),Df(u.parent||o[rn],u,o))}(h,d,m)}function YT(s,o,u){return Rm(s,"",o,"",u),YT}function Rm(s,o,u,d,h){const m=Ce(),v=Xd(m,o,u,d);return v!==$t&&Gr(sn(),wn(),m,s,v,m[Ht],h,!1),Rm}function oy(s,o){return s<<17|o<<2}function wu(s){return s>>17&32767}function Fm(s){return 2|s}function Du(s){return(131068&s)>>2}function Lm(s,o){return-131069&s|o<<2}function ay(s){return 1|s}function eC(s,o,u,d,h){const m=s[u+1],v=null===o;let w=d?wu(m):Du(m),E=!1;for(;0!==w&&(!1===E||v);){const O=s[w+1];tC(s[w],o)&&(E=!0,s[w+1]=d?ay(O):Fm(O)),w=d?wu(O):Du(O)}E&&(s[u+1]=d?Fm(m):ay(m))}function tC(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&it(s,o)>=0}const Ir={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function XT(s){return s.substring(Ir.key,Ir.keyEnd)}function Um(s,o){const u=Ir.textEnd;return u===o?-1:(o=Ir.keyEnd=function n1(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,Ir.key=o,u),up(s,o,u))}function up(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function cy(s,o,u){return Po(s,o,u,!1),cy}function Vm(s,o){return Po(s,o,null,!0),Vm}function r1(s){Ss(jt,io,s,!0)}function io(s,o){for(let u=function Bm(s){return function t1(s){Ir.key=0,Ir.keyEnd=0,Ir.value=0,Ir.valueEnd=0,Ir.textEnd=s.length}(s),Um(s,up(s,0,Ir.textEnd))}(o);u>=0;u=Um(o,u))jt(s,XT(o),!0)}function Po(s,o,u,d){const h=Ce(),m=sn(),v=Ei(2);m.firstUpdatePass&&i1(m,s,v,d),o!==$t&&ti(h,v,o)&&cC(m,m.data[Qr()],h,h[Ht],s,h[v+1]=function a1(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(ei(s)))),s}(o,u),d,v)}function Ss(s,o,u,d){const h=sn(),m=Ei(2);h.firstUpdatePass&&i1(h,null,m,d);const v=Ce();if(u!==$t&&ti(v,m,u)){const w=h.data[Qr()];if(py(w,d)&&!hy(h,m)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(u=ue(E,u||"")),Nm(h,w,v,u,d)}else!function uC(s,o,u,d,h,m,v,w){h===$t&&(h=Ye);let E=0,A=0,O=0<h.length?h[0]:null,F=0<m.length?m[0]:null;for(;null!==O||null!==F;){const z=E<h.length?h[E+1]:void 0,Q=A<m.length?m[A+1]:void 0;let Fe,me=null;O===F?(E+=2,A+=2,z!==Q&&(me=F,Fe=Q)):null===F||null!==O&&O<F?(E+=2,me=O):(A+=2,me=F,Fe=Q),null!==me&&cC(s,o,u,d,me,Fe,v,w),O=E<h.length?h[E]:null,F=A<m.length?m[A]:null}}(h,w,v,v[Ht],v[m+1],v[m+1]=function lC(s,o,u){if(null==u||""===u)return Ye;const d=[],h=ei(u);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&o(d,h);return d}(s,o,u),d,m)}}function hy(s,o){return o>=s.expandoStartIndex}function i1(s,o,u,d){const h=s.data;if(null===h[u+1]){const m=h[Qr()],v=hy(s,u);py(m,d)&&null===o&&!v&&(o=!1),o=function s1(s,o,u,d){const h=function Do(s){const o=Ot.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let m=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(u=ah(u=oh(null,s,o,u,d),o.attrs,d),m=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(u=oh(h,s,o,u,d),null===m){let E=function oC(s,o,u){const d=u?o.classBindings:o.styleBindings;if(0!==Du(d))return s[wu(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=oh(null,s,o,E[1],d),E=ah(E,o.attrs,d),function o1(s,o,u,d){s[wu(u?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else m=function aC(s,o,u){let d;const h=o.directiveEnd;for(let m=1+o.directiveStylingLast;m<h;m++)d=ah(d,s[m].hostAttrs,u);return ah(d,o.attrs,u)}(s,o,d)}return void 0!==m&&(d?o.residualClasses=m:o.residualStyles=m),u}(h,m,o,d),function LR(s,o,u,d,h,m){let v=m?o.classBindings:o.styleBindings,w=wu(v),E=Du(v);s[d]=u;let O,A=!1;if(Array.isArray(u)?(O=u[1],(null===O||it(u,O)>0)&&(A=!0)):O=u,h)if(0!==E){const z=wu(s[w+1]);s[d+1]=oy(z,w),0!==z&&(s[z+1]=Lm(s[z+1],d)),s[w+1]=function ap(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=oy(w,0),0!==w&&(s[w+1]=Lm(s[w+1],d)),w=d;else s[d+1]=oy(E,0),0===w?w=d:s[E+1]=Lm(s[E+1],d),E=d;A&&(s[d+1]=Fm(s[d+1])),eC(s,O,d,!0),eC(s,O,d,!1),function BR(s,o,u,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof o&&it(m,o)>=0&&(u[d+1]=ay(u[d+1]))}(o,O,s,d,m),v=oy(w,E),m?o.classBindings=v:o.styleBindings=v}(h,m,o,u,v,d)}}function oh(s,o,u,d,h){let m=null;const v=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<v&&(m=o[w],d=ah(d,m.hostAttrs,h),m!==s);)w++;return null!==s&&(u.directiveStylingLast=w),d}function ah(s,o,u){const d=u?1:2;let h=-1;if(null!==o)for(let m=0;m<o.length;m++){const v=o[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),jt(s,v,!!u||o[++m]))}return void 0===s?null:s}function cC(s,o,u,d,h,m,v,w){if(!(3&o.type))return;const E=s.data,A=E[w+1],O=function FR(s){return 1==(1&s)}(A)?Gm(E,o,u,h,Du(A),v):void 0;cp(O)||(cp(m)||function op(s){return 2==(2&s)}(A)&&(m=Gm(E,null,u,h,w,v)),function pi(s,o,u,d,h){if(o)h?s.addClass(u,d):s.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:Ni.DashCase;null==h?s.removeStyle(u,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=Ni.Important),s.setStyle(u,d,h,m))}}(d,v,ts(Qr(),u),h,m))}function Gm(s,o,u,d,h,m){const v=null===o;let w;for(;h>0;){const E=s[h],A=Array.isArray(E),O=A?E[1]:E,F=null===O;let z=u[h+1];z===$t&&(z=F?Ye:void 0);let Q=F?Ai(z,d):O===d?z:void 0;if(A&&!cp(Q)&&(Q=Ai(E,d)),cp(Q)&&(w=Q,v))return w;const me=s[h+1];h=v?wu(me):Du(me)}if(null!==o){let E=m?o.residualClasses:o.residualStyles;null!=E&&(w=Ai(E,d))}return w}function cp(s){return void 0!==s}function py(s,o){return 0!=(s.flags&(o?8:16))}function Eu(s,o=""){const u=Ce(),d=sn(),h=s+en,m=d.firstCreatePass?hl(d,h,1,o,null):d.data[h],v=u[h]=uu(u[Ht],o);Gd(d,u,v,m),ui(m,!1)}function gy(s){return zc("",s,""),gy}function zc(s,o,u){const d=Ce(),h=Xd(d,s,o,u);return h!==$t&&pl(d,Qr(),h),zc}function my(s,o,u,d,h){const m=Ce(),v=Zf(m,s,o,u,d,h);return v!==$t&&pl(m,Qr(),v),my}function vy(s,o,u,d,h){Ss(jt,io,Zf(Ce(),s,o,u,d,h),!0)}function Cs(s,o,u){const d=Ce();return ti(d,Ha(),o)&&Gr(sn(),wn(),d,s,o,d[Ht],u,!0),Cs}const vl=void 0;var lh=["en",[["a","p"],["AM","PM"],vl],[["AM","PM"],vl,vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vl,"{1} 'at' {0}",vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fp(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let Ia={};function jm(s){const o=function yC(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Ty(o);if(u)return u;const d=o.split("-")[0];if(u=Ty(d),u)return u;if("en"===d)return lh;throw new he(701,!1)}function m1(s){return jm(s)[Rt.PluralCase]}function Ty(s){return s in Ia||(Ia[s]=kt.ng&&kt.ng.common&&kt.ng.common.locales&&kt.ng.common.locales[s]),Ia[s]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const vC=["zero","one","two","few","many"],uh="en-US",zm={marker:"element"},Wm={marker:"ICU"};var cr=(()=>((cr=cr||{})[cr.SHIFT=2]="SHIFT",cr[cr.APPEND_EAGERLY=1]="APPEND_EAGERLY",cr[cr.COMMENT=2]="COMMENT",cr))();let ls=uh;function Su(s){(function et(s,o){null==s&&Je(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(ls=s.toLowerCase().replace(/_/g,"-"))}function Zm(s,o,u){const d=o.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Ts(s,0,u):Fn(u[h])}function bl(s,o,u,d,h){const m=o.insertBeforeIndex;if(Array.isArray(m)){let v=d,w=null;if(3&o.type||(w=v,v=h),null!==v&&-1===o.componentOffset)for(let E=1;E<m.length;E++)_a(s,v,u[m[E]],w,!1)}}function Cu(s,o){if(s.push(o),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];pp(d)||ch(d,o)&&null===wy(d)&&_1(d,o.index)}}function pp(s){return!(64&s.type)}function ch(s,o){return pp(o)||s.index>o.index}function wy(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function _1(s,o){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=o:(Ef(Zm,bl),s.insertBeforeIndex=o)}function Aa(s,o){const u=s.data[o];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function wC(s,o,u){const d=Vf(s,u,64,null,null);return Cu(o,d),d}function ao(s,o){const u=o[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function y1(s){return s>>>17}function ko(s){return(131070&s)>>>1}let dh=0,Tl=0;function hh(s,o,u,d){const h=u[Ht];let v,m=null;for(let w=0;w<o.length;w++){const E=o[w];if("string"==typeof E){const A=o[++w];null===u[A]&&(u[A]=uu(h,E))}else if("number"==typeof E)switch(1&E){case 0:const A=y1(E);let O,F;if(null===m&&(m=A,v=Sc(h,d)),A===m?(O=d,F=v):(O=null,F=Fn(u[A])),null!==F){const Fe=ko(E);_a(h,F,u[Fe],O,!1);const mt=Aa(s,Fe);if(null!==mt&&"object"==typeof mt){const Pt=ao(mt,u);null!==Pt&&hh(s,mt.create[Pt],u,u[mt.anchorIdx])}}break;case 1:const Q=o[++w],me=o[++w];H0(h,ts(E>>>1,u),null,null,Q,me,null)}else switch(E){case Wm:const A=o[++w],O=o[++w];null===u[O]&&fi(u[O]=e0(h,A),u);break;case zm:const F=o[++w],z=o[++w];null===u[z]&&fi(u[z]=bc(h,F,null),u)}}}function Cy(s,o,u,d,h){for(let m=0;m<u.length;m++){const v=u[m],w=u[++m];if(v&h){let E="";for(let A=m+1;A<=m+w;A++){const O=u[A];if("string"==typeof O)E+=O;else if("number"==typeof O)if(O<0)E+=Se(o[d-O]);else{const F=O>>>2;switch(3&O){case 1:const z=u[++A],Q=u[++A],me=s.data[F];"string"==typeof me?H0(o[Ht],o[F],null,me,z,E,Q):Gr(s,me,o,z,E,o[Ht],Q,!1);break;case 0:const Fe=o[F];null!==Fe&&Tf(o[Ht],Fe,E);break;case 2:SC(s,Aa(s,F),o,E);break;case 3:qm(s,Aa(s,F),d,o)}}}}else{const E=u[m+1];if(E>0&&3==(3&E)){const O=Aa(s,E>>>2);o[O.currentCaseLViewIndex]<0&&qm(s,O,d,o)}}m+=w}}function qm(s,o,u,d){let h=d[o.currentCaseLViewIndex];if(null!==h){let m=dh;h<0&&(h=d[o.currentCaseLViewIndex]=~h,m=-1),Cy(s,d,o.update[h],u,m)}}function SC(s,o,u,d){const h=function CC(s,o){let u=s.cases.indexOf(o);if(-1===u)switch(s.type){case 1:{const d=function bC(s,o){const u=m1(o)(parseInt(s,10)),d=vC[u];return void 0!==d?d:"other"}(o,function oo(){return ls}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(o,d);if(ao(o,u)!==h&&(Iy(s,o,u),u[o.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[o.anchorIdx];v&&hh(s,o.create[h],u,v)}}function Iy(s,o,u){let d=ao(o,u);if(null!==d){const h=o.remove[d];for(let m=0;m<h.length;m++){const v=h[m];if(v>0){const w=ts(v,u);null!==w&&sl(u[Ht],w)}else Iy(s,Aa(s,~v),u)}}}function IC(){const s=[];let u,d,o=-1;function m(w,E){o=0;const A=ao(w,E);d=null!==A?w.remove[A]:Ye}function v(){if(o<d.length){const w=d[o++];return w>0?u[w]:(s.push(o,d),m(u[at].data[~w],u),v())}return 0===s.length?null:(d=s.pop(),o=s.pop(),v())}return function h(w,E){for(u=E;s.length;)s.pop();return m(w.value,E),v}}const _p=/\ufffd(\d+):?\d*\ufffd/gi,NC=/\ufffd(\d+)\ufffd/,T1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,yp="\ufffd",OC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,RC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,vp=/\uE500/g;function D1(s,o,u,d,h,m,v){const w=wa(s,d,1,null);let E=w<<cr.SHIFT,A=Jo();o===A&&(A=null),null===A&&(E|=cr.APPEND_EAGERLY),v&&(E|=cr.COMMENT,function rl(s){void 0===nl&&(nl=s())}(IC)),h.push(E,null===m?"":m);const O=Vf(s,w,v?32:1,null===m?"":m,null);Cu(u,O);const F=O.index;return ui(O,!1),null!==A&&o!==A&&function Ey(s,o){let u=s.insertBeforeIndex;null===u?(Ef(Zm,bl),u=s.insertBeforeIndex=[null,o]):(function Ze(s,o,u){s!=o&&Je(u,s,o,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(o))}(A,F),O}function kC(s,o,u,d,h,m,v){const w=v.match(_p),E=D1(s,o,u,m,d,w?null:v,!1);w&&bp(h,v,E.index,null,0,null)}function bp(s,o,u,d,h,m){const v=s.length,w=v+1;s.push(null,null);const E=v+2,A=o.split(_p);let O=0;for(let F=0;F<A.length;F++){const z=A[F];if(1&F){const Q=h+parseInt(z,10);s.push(-1-Q),O|=E1(Q)}else""!==z&&s.push(z)}return s.push(u<<2|(d?1:0)),d&&s.push(d,m),s[v]=O,s[w]=s.length-E,O}function E1(s){return 1<<Math.min(s,31)}function S1(s){let o,m,u="",d=0,h=!1;for(;null!==(o=OC.exec(s));)h?o[0]===`${yp}/*${m}${yp}`&&(d=o.index,h=!1):(u+=s.substring(d,o.index+o[0].length),m=o[1],h=!0);return u+=s.slice(d),u}function C1(s,o,u,d,h,m){let v=0;const w={type:h.type,currentCaseLViewIndex:wa(s,o,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function A1(s,o,u){s.push(E1(o.mainBinding),2,-1-o.mainBinding,u<<2|2)})(u,h,m),function Dy(s,o,u){const d=s.data[o];null===d?s.data[o]=u:d.value=u}(s,m,w);const E=h.values;for(let A=0;A<E.length;A++){const O=E[A],F=[];for(let z=0;z<O.length;z++){const Q=O[z];if("string"!=typeof Q){const me=F.push(Q)-1;O[z]=`\x3c!--\ufffd${me}\ufffd--\x3e`}}v=GC(s,w,o,u,d,h.cases[A],O.join(""),F)|v}v&&function $C(s,o,u){s.push(o,1,u<<2|3)}(u,v,m)}function VC(s){const o=[],u=[];let d=1,h=0;const m=Ny(s=s.replace(T1,function(v,w,E){return d="select"===E?0:1,h=parseInt(w.slice(1),10),""}));for(let v=0;v<m.length;){let w=m[v++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const E=Ny(m[v++]);o.length>u.length&&u.push(E)}return{type:d,mainBinding:h,cases:o,values:u}}function Ny(s){if(!s)return[];let o=0;const u=[],d=[],h=/[{}]/g;let m;for(h.lastIndex=0;m=h.exec(s);){const w=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const E=s.substring(o,w);T1.test(E)?d.push(VC(E)):d.push(E),o=w+1}}else{if(0==u.length){const E=s.substring(o,w);d.push(E),o=w+1}u.push("{")}}const v=s.substring(o);return d.push(v),d}function GC(s,o,u,d,h,m,v,w){const E=[],A=[],O=[];o.cases.push(m),o.create.push(E),o.remove.push(A),o.update.push(O);const z=function I(s){const o=new Z(s);return function le(){try{return!!(new window.DOMParser).parseFromString(gu(""),"text/html")}catch{return!1}}()?new R(o):o}(function Kg(){return void 0!==Sf?Sf:typeof document<"u"?document:void 0}()).getInertBodyElement(v),Q=function xb(s){return"content"in s&&function h0(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(z)||z;return Q?HC(s,o,u,d,E,A,O,Q,h,w,0):0}function HC(s,o,u,d,h,m,v,w,E,A,O){let F=0,z=w.firstChild;for(;z;){const Q=wa(s,u,1,null);switch(z.nodeType){case Node.ELEMENT_NODE:const me=z,Fe=me.tagName.toLowerCase();if(Pc.hasOwnProperty(Fe)){M1(h,zm,Fe,E,Q),s.data[Q]=Fe;const Oe=me.attributes;for(let Ut=0;Ut<Oe.length;Ut++){const er=Oe.item(Ut),fr=er.name.toLowerCase();er.value.match(_p)?ul.hasOwnProperty(fr)&&bp(v,er.value,Q,er.name,0,xc[fr]?st:null):Km(h,Q,er)}F=HC(s,o,u,d,h,m,v,z,Q,A,O+1)|F,jC(m,Q,O)}break;case Node.TEXT_NODE:const Qe=z.textContent||"",mt=Qe.match(_p);M1(h,null,mt?"":Qe,E,Q),jC(m,Q,O),mt&&(F=bp(v,Qe,Q,null,0,null)|F);break;case Node.COMMENT_NODE:const Pt=NC.exec(z.textContent||"");if(Pt){const Ut=A[parseInt(Pt[1],10)];M1(h,Wm,"",E,Q),C1(s,u,d,E,Ut,Q),I1(m,Q,O)}}z=z.nextSibling}return F}function jC(s,o,u){0===u&&s.push(o)}function I1(s,o,u){0===u&&(s.push(~o),s.push(o))}function M1(s,o,u,d,h){null!==o&&s.push(o),s.push(u,h,function Sy(s,o,u){return s|o<<17|u<<1}(0,d,h))}function Km(s,o,u){s.push(o<<1|1,u.name,u.value)}function R1(s,o,u=-1){const d=sn(),h=Ce(),m=en+s,v=_s(d.consts,o),w=Jo();d.firstCreatePass&&function xC(s,o,u,d,h,m){const v=Jo(),w=[],E=[],A=[[]];h=function UC(s,o){if(function BC(s){return-1===s}(o))return S1(s);{const u=s.indexOf(`:${o}${yp}`)+2+o.toString().length,d=s.search(new RegExp(`${yp}\\/\\*\\d+:${o}${yp}`));return S1(s.substring(u,d))}}(h,m);const O=function PC(s){return s.replace(vp," ")}(h).split(RC);for(let F=0;F<O.length;F++){let z=O[F];if(1&F){const Q=47===z.charCodeAt(0),Fe=(z.charCodeAt(Q?1:0),en+Number.parseInt(z.substring(Q?2:1)));if(Q)A.shift(),ui(Jo(),!1);else{const Qe=wC(s,A[0],Fe);A.unshift([]),ui(Qe,!0)}}else{const Q=Ny(z);for(let me=0;me<Q.length;me++){let Fe=Q[me];if(1&me){const Qe=Fe;if("object"!=typeof Qe)throw new Error(`Unable to parse ICU expression in "${h}" message.`);C1(s,u,E,o,Qe,D1(s,v,A[0],u,w,"",!0).index)}else""!==Fe&&kC(s,v,A[0],w,E,u,Fe)}}}s.data[d]={create:w,update:E}}(d,null===w?0:w.index,h,m,v,u);const E=d.data[m],O=cu(d,w===h[rn]?null:w,h);(function EC(s,o,u,d){const h=s[Ht];for(let m=0;m<o.length;m++){const v=o[m++],w=o[m],A=(v&cr.APPEND_EAGERLY)===cr.APPEND_EAGERLY,O=v>>>cr.SHIFT;let F=s[O];null===F&&(F=s[O]=(v&cr.COMMENT)===cr.COMMENT?h.createComment(w):uu(h,w)),A&&null!==u&&_a(h,u,F,d,!1)}})(h,E.create,O,w&&8&w.type?h[w.index]:null),yd(!0)}function JC(s,o,u){R1(s,o,u),function P1(){yd(!1)}()}function Oy(s){return function DC(s){s&&(dh|=1<<Math.min(Tl,31)),Tl++}(ti(Ce(),Ha(),s)),Oy}function x1(s){!function v1(s,o,u){if(Tl>0){const d=s.data[u];Cy(s,o,Array.isArray(d)?d:d.update,ci()-Tl-1,dh)}dh=0,Tl=0}(sn(),Ce(),s+en)}function Ry(s,o,u,d,h){if(s=q(s),Array.isArray(s))for(let m=0;m<s.length;m++)Ry(s[m],o,u,d,h);else{const m=sn(),v=Ce();let w=ba(s)?s:q(s.provide),E=$b(s);const A=ar(),O=1048575&A.providerIndexes,F=A.directiveStart,z=A.providerIndexes>>20;if(ba(s)||!s.multi){const Q=new $a(E,h,Kd),me=xy(w,o,h?O:O+z,F);-1===me?(aa(oa(A,v),m,w),Py(m,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(Q),v.push(Q)):(u[me]=Q,v[me]=Q)}else{const Q=xy(w,o,O+z,F),me=xy(w,o,O,O+z),Qe=me>=0&&u[me];if(h&&!Qe||!h&&!(Q>=0&&u[Q])){aa(oa(A,v),m,w);const mt=function iI(s,o,u,d,h){const m=new $a(s,u,Kd);return m.multi=[],m.index=o,m.componentProviders=0,k1(m,h,d&&!u),m}(h?rI:nI,u.length,h,d,E);!h&&Qe&&(u[me].providerFactory=mt),Py(m,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),u.push(mt),v.push(mt)}else Py(m,s,Q>-1?Q:me,k1(u[h?me:Q],E,!h&&d));!h&&d&&Qe&&u[me].componentProviders++}}}function Py(s,o,u,d){const h=ba(o),m=function Wd(s){return!!s.useClass}(o);if(h||m){const E=(m?q(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=A.indexOf(u);-1===O?A.push(u,[d,E]):A[O+1].push(d,E)}else A.push(u,E)}}}function k1(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function xy(s,o,u,d){for(let h=u;h<d;h++)if(o[h]===s)return h;return-1}function nI(s,o,u,d){return ky(this.multi,[])}function rI(s,o,u,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Io(u,u[at],this.providerFactory.index,d);m=w.slice(0,v),ky(h,m);for(let E=v;E<w.length;E++)m.push(w[E])}else m=[],ky(h,m);return m}function ky(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Tp(s,o=[]){return u=>{u.providersResolver=(d,h)=>function tI(s,o,u){const d=sn();if(d.firstCreatePass){const h=Fr(s);Ry(u,d.data,d.blueprint,h,!0),Ry(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class fh{}class F1{}function sI(s,o){return new L1(s,o??null)}class L1 extends fh{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ml(this);const d=sr(o);this._bootstrapComponents=Ta(d.bootstrap),this._r3Injector=wS(o,u,[{provide:fh,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],ce(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Fy extends F1{constructor(o){super(),this.moduleType=o}create(o){return new L1(this.moduleType,o)}}class oI extends fh{constructor(o,u,d){super(),this.componentFactoryResolver=new ml(this),this.instance=null;const h=new Hb([...o,{provide:fh,useValue:this},{provide:yu,useValue:this.componentFactoryResolver}],u||om(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ly(s,o,u=null){return new oI(s,o,u).injector}let aI=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=Bb(0,u.type),h=d.length>0?Ly([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=nt({token:s,providedIn:"environment",factory:()=>new s(We(Lc))}),s})();function B1(s){s.getStandaloneInjector=o=>o.get(aI).getOrCreateStandaloneInjector(s)}function z1(s,o,u,d){return q1(Ce(),Hn(),s,o,u,d)}function W1(s,o,u,d,h){return function K1(s,o,u,d,h,m,v){const w=o+u;return yl(s,w,h,m)?_l(s,w+2,v?d.call(v,h,m):d(h,m)):wp(s,w+2)}(Ce(),Hn(),s,o,u,d,h)}function Z1(s,o,u,d,h,m){return function Y1(s,o,u,d,h,m,v,w){const E=o+u;return function Jd(s,o,u,d,h){const m=yl(s,o,u,d);return ti(s,o+2,h)||m}(s,E,h,m,v)?_l(s,E+3,w?d.call(w,h,m,v):d(h,m,v)):wp(s,E+3)}(Ce(),Hn(),s,o,u,d,h,m)}function wp(s,o){const u=s[o];return u===$t?void 0:u}function q1(s,o,u,d,h,m){const v=o+u;return ti(s,v,h)?_l(s,v+1,m?d.call(m,h):d(h)):wp(s,v+1)}function X1(s,o){const u=sn();let d;const h=s+en;u.firstCreatePass?(d=function DI(s,o){if(o)for(let u=o.length-1;u>=0;u--){const d=o[u];if(s===d.name)return d}}(o,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=li(d.type)),v=xn(Kd);try{const w=ia(!1),E=m();return ia(w),function ey(s,o,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=d}(u,Ce(),h,E),E}finally{xn(v)}}function ew(s,o,u){const d=s+en,h=Ce(),m=ns(h,d);return function Dp(s,o){return s[at].data[o].pure}(h,d)?q1(h,Hn(),o,m.transform,u,m):m.transform(u)}function Uy(s){return o=>{setTimeout(s,void 0,o)}}const Ma=class AI extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,d){let h=o,m=u||(()=>null),v=d;if(o&&"object"==typeof o){const E=o;h=E.next?.bind(E),m=E.error?.bind(E),v=E.complete?.bind(E)}this.__isAsync&&(m=Uy(m),h&&(h=Uy(h)),v&&(v=Uy(v)));const w=super.subscribe({next:h,error:m,complete:v});return o instanceof Y.w0&&o.add(w),w}};function Vy(){return this._results[Symbol.iterator]()}class Gy{get changes(){return this._changes||(this._changes=new Ma)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Gy.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Vy)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const d=this;d.dirty=!1;const h=function Ur(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function da(s,o,u){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=o[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=OI,s})();const MI=Ep,NI=class extends MI{constructor(o,u,d){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(o,u){const d=this._declarationTContainer.tView,h=P0(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,u||null);h[jo]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[Yr];return null!==v&&(h[Yr]=v.createEmbeddedView(d)),Gf(d,h,o),new gl(h)}};function OI(){return Ym(ar(),Ce())}function Ym(s,o){return 4&s.type?new NI(o,s,Bc(s,o)):null}let Qm=(()=>{class s{}return s.__NG_ELEMENT_ID__=RI,s})();function RI(){return xI(ar(),Ce())}const PI=Qm,tw=class extends PI{constructor(o,u,d){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=d}get element(){return Bc(this._hostTNode,this._hostLView)}get injector(){return new Br(this._hostTNode,this._hostLView)}get parentInjector(){const o=qs(this._hostTNode,this._hostLView);if(uc(o)){const u=ra(o,this._hostLView),d=na(o);return new Br(u[at].data[d+8],u)}return new Br(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=nw(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-vr}createEmbeddedView(o,u,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=o.createEmbeddedView(u||{},m);return this.insert(v,h),v}createComponent(o,u,d,h,m){const v=o&&!function vs(s){return"function"==typeof s}(o);let w;if(v)w=u;else{const F=u||{};w=F.index,d=F.injector,h=F.projectableNodes,m=F.environmentInjector||F.ngModuleRef}const E=v?o:new jf(nn(o)),A=d||this.parentInjector;if(!m&&null==E.ngModule){const z=(v?A:this.parentInjector).get(Lc,null);z&&(m=z)}const O=E.create(A,h,void 0,m);return this.insert(O.hostView,w),O}insert(o,u){const d=o._lView,h=d[at];if(function Ua(s){return ai(s[vn])}(d)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const F=d[vn],z=new tw(F,F[rn],F[vn]);z.detach(z.indexOf(o))}}const m=this._adjustIndex(u),v=this._lContainer;!function s0(s,o,u,d){const h=vr+d,m=u.length;d>0&&(u[h-1][si]=o),d<m-vr?(o[si]=u[h],hc(u,vr+d,o)):(u.push(o),o[si]=null),o[vn]=u;const v=o[jo];null!==v&&u!==v&&function Hg(s,o){const u=s[$o];o[yr]!==o[vn][vn][yr]&&(s[kl]=!0),null===u?s[$o]=[o]:u.push(o)}(v,o);const w=o[Yr];null!==w&&w.insertView(s),o[Lt]|=64}(h,d,v,m);const w=Hd(m,v),E=d[Ht],A=Sc(E,v[yo]);return null!==A&&function Bd(s,o,u,d,h,m){d[Ti]=h,d[rn]=o,ol(s,d,u,1,h,m)}(h,v[rn],E,d,A,w),o.attachToViewContainerRef(),hc(Hy(v),m,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=nw(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),d=Tc(this._lContainer,u);d&&(Qa(Hy(this._lContainer),u),wc(d[at],d))}detach(o){const u=this._adjustIndex(o,-1),d=Tc(this._lContainer,u);return d&&null!=Qa(Hy(this._lContainer),u)?new gl(d):null}_adjustIndex(o,u=0){return o??this.length+u}};function nw(s){return s[wi]}function Hy(s){return s[wi]||(s[wi]=[])}function xI(s,o){let u;const d=o[s.index];if(ai(d))u=d;else{let h;if(8&s.type)h=Fn(d);else{const m=o[Ht];h=m.createComment("");const v=Lr(s,o);_a(m,Sc(m,v),h,function $g(s,o){return s.nextSibling(o)}(m,v),!1)}o[s.index]=u=HS(d,o,h,s),Qd(o,u)}return new tw(u,s,o)}class jy{constructor(o){this.queryList=o,this.matches=null}clone(){return new jy(this.queryList)}setDirty(){this.queryList.setDirty()}}class $y{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const d=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new $y(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==dw(o,u).matches&&this.queries[u].setDirty()}}class rw{constructor(o,u,d=null){this.predicate=o,this.flags=u,this.read=d}}class zy{constructor(o=[]){this.queries=o}elementStart(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(o,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new zy(u):null}template(o,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Wy{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Wy(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(o,u,kI(u,m)),this.matchTNodeWithReadOption(o,u,Ql(u,o,m,!1,!1))}else d===Ep?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,Ql(u,o,d,!1,!1))}matchTNodeWithReadOption(o,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===cl||h===Qm||h===Ep&&4&u.type)this.addMatch(u.index,-2);else{const m=Ql(u,o,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function kI(s,o){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===o)return u[d+1];return null}function LI(s,o,u,d){return-1===u?function FI(s,o){return 11&s.type?Bc(s,o):4&s.type?Ym(s,o):null}(o,s):-2===u?function BI(s,o,u){return u===cl?Bc(o,s):u===Ep?Ym(o,s):u===Qm?xI(o,s):void 0}(s,o,d):Io(s,s[at],u,o)}function iw(s,o,u,d){const h=o[Yr].queries[d];if(null===h.matches){const m=s.data,v=u.matches,w=[];for(let E=0;E<v.length;E+=2){const A=v[E];w.push(A<0?null:LI(o,m[A],v[E+1],u.metadata.read))}h.matches=w}return h.matches}function Zy(s,o,u,d){const h=s.queries.getByIndex(u),m=h.matches;if(null!==m){const v=iw(s,o,h,u);for(let w=0;w<m.length;w+=2){const E=m[w];if(E>0)d.push(v[w/2]);else{const A=m[w+1],O=o[-E];for(let F=vr;F<O.length;F++){const z=O[F];z[jo]===z[vn]&&Zy(z[at],z,A,d)}if(null!==O[$o]){const F=O[$o];for(let z=0;z<F.length;z++){const Q=F[z];Zy(Q[at],Q,A,d)}}}}}return d}function sw(s){const o=Ce(),u=sn(),d=nc();ql(d+1);const h=dw(u,d);if(s.dirty&&function Qu(s){return 4==(4&s[Lt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Zy(u,o,d,[]):iw(u,o,h,d);s.reset(m,qb),s.notifyOnChanges()}return!0}return!1}function ow(s,o,u){const d=sn();d.firstCreatePass&&(cw(d,new rw(s,o,u),-1),2==(2&o)&&(d.staticViewQueries=!0)),uw(d,Ce(),o)}function aw(s,o,u,d){const h=sn();if(h.firstCreatePass){const m=ar();cw(h,new rw(o,u,d),m.index),function VI(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}uw(h,Ce(),u)}function lw(){return function UI(s,o){return s[Yr].queries[o].queryList}(Ce(),nc())}function uw(s,o,u){const d=new Gy(4==(4&u));ym(s,o,d,d.destroy),null===o[Yr]&&(o[Yr]=new $y),o[Yr].queries.push(new jy(d))}function cw(s,o,u){null===s.queries&&(s.queries=new zy),s.queries.track(new Wy(o,u))}function dw(s,o){return s.queries.getByIndex(o)}function hw(s,o){return Ym(s,o)}function ph(s){return!!sr(s)}function hr(...s){}const tv=new bn("Application Initializer");let t_=(()=>{class s{constructor(u){this.appInits=u,this.resolve=hr,this.reject=hr,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(rh(m))u.push(m);else if(ip(m)){const v=new Promise((w,E)=>{m.subscribe({complete:w,error:E})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(We(tv,8))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Cw=new bn("AppId",{providedIn:"root",factory:function Op(){return`${nv()}${nv()}${nv()}`}});function nv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Aw=new bn("Platform Initializer"),XI=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let eA=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Rp=new bn("LocaleId",{providedIn:"root",factory:()=>ut(Rp,Tt.Optional|Tt.SkipSelf)||function tA(){return typeof $localize<"u"&&$localize.locale||uh}()}),n_=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nA{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let qc=(()=>{class s{compileModuleSync(u){return new Fy(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=Ta(sr(u).declarations).reduce((v,w)=>{const E=nn(w);return E&&v.push(new jf(E)),v},[]);return new nA(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const iA=(()=>Promise.resolve(0))();function Pp(s){typeof Zone>"u"?iA.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class lo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ma(!1),this.onMicrotaskEmpty=new Ma(!1),this.onStable=new Ma(!1),this.onError=new Ma(!1),typeof Zone>"u")throw new he(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function sA(){let s=kt.requestAnimationFrame,o=kt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function i_(s){const o=()=>{!function r_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(kt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,s_(s),s.isCheckStableRunning=!0,xp(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),s_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,v,w)=>{try{return xw(s),u.invokeTask(h,m,v,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&o(),kw(s)}},onInvoke:(u,d,h,m,v,w,E)=>{try{return xw(s),u.invoke(h,m,v,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),kw(s)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,s_(s),xp(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!lo.isInAngularZone())throw new he(909,!1)}static assertNotInAngularZone(){if(lo.isInAngularZone())throw new he(909,!1)}run(o,u,d){return this._inner.run(o,u,d)}runTask(o,u,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,o,Pw,hr,hr);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(o,u,d){return this._inner.runGuarded(o,u,d)}runOutsideAngular(o){return this._outer.run(o)}}const Pw={};function xp(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function s_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function kw(s){s._nesting--,xp(s)}class Fw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ma,this.onMicrotaskEmpty=new Ma,this.onStable=new Ma,this.onError=new Ma}run(o,u,d){return o.apply(u,d)}runGuarded(o,u,d){return o.apply(u,d)}runOutsideAngular(o){return o()}runTask(o,u,d,h){return o.apply(u,d)}}const iv=new bn(""),sv=new bn("");let ov,Lw=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ov||(function oA(s){ov=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{lo.assertNotInAngularZone(),Pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Pp(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(We(lo),We(Bw),We(sv))},s.\u0275prov=nt({token:s,factory:s.\u0275fac}),s})(),Bw=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return ov?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const El=!1;let Iu=null;const Uw=new bn("AllowMultipleToken"),av=new bn("PlatformDestroyListeners"),Vw=new bn("appBootstrapListener");class Hw{constructor(o,u){this.name=o,this.token=u}}function uv(s,o,u=[]){const d=`Platform: ${o}`,h=new bn(d);return(m=[])=>{let v=Ww();if(!v||v.injector.get(Uw,!1)){const w=[...u,...m,{provide:h,useValue:!0}];s?s(w):function jw(s){if(Iu&&!Iu.get(Uw,!1))throw new he(400,!1);Iu=s;const o=s.get(uA);(function lv(s){const o=s.get(Aw,null);o&&o.forEach(u=>u())})(s)}(function zw(s=[],o){return Zd.create({name:o,providers:[{provide:_0,useValue:"platform"},{provide:av,useValue:new Set([()=>Iu=null])},...s]})}(w,d))}return function lA(s){const o=Ww();if(!o)throw new he(401,!1);return o}()}}function Ww(){return Iu?.get(uA)??null}let uA=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function dA(s,o){let u;return u="noop"===s?new Fw:("zone.js"===s?void 0:s)||new lo(o),u}(d?.ngZone,function cA(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:lo,useValue:h}];return h.run(()=>{const v=Zd.create({providers:m,parent:this.injector,name:u.moduleType.name}),w=u.create(v),E=w.injector.get(xf,null);if(!E)throw new he(402,!1);return h.runOutsideAngular(()=>{const A=h.onError.subscribe({next:O=>{E.handleError(O)}});w.onDestroy(()=>{dv(this._modules,w),A.unsubscribe()})}),function hA(s,o,u){try{const d=u();return rh(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,h,()=>{const A=w.injector.get(t_);return A.runInitializers(),A.donePromise.then(()=>(Su(w.injector.get(Rp,uh)||uh),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,d=[]){const h=fA({},d);return function aA(s,o,u){const d=new Fy(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(cv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new he(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new he(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(av,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(We(Zd))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function fA(s,o){return Array.isArray(o)?o.reduce(fA,s):{...s,...o}}let cv=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new x.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),v=new x.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{lo.assertNotInAngularZone(),Pp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{lo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ne.T)(m,v.pipe((0,ie.B)()))}bootstrap(u,d){const h=u instanceof Wb;if(!this._injector.get(t_).done){!h&&Vs(u);throw new he(405,El)}let v;v=h?u:this._injector.get(yu).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const w=function Gw(s){return s.isBoundToModule}(v)?void 0:this._injector.get(fh),A=v.create(Zd.NULL,[],d||v.selector,w),O=A.location.nativeElement,F=A.injector.get(iv,null);return F?.registerApplication(O),A.onDestroy(()=>{this.detachView(A.hostView),dv(this.components,A),F?.unregisterApplication(O)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new he(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;dv(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(Vw,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>dv(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new he(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(We(lo),We(Lc),We(xf))},s.\u0275prov=nt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function dv(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function hP(){return!1}function fP(){}let gP=(()=>{class s{}return s.__NG_ELEMENT_ID__=mP,s})();function mP(s){return function _P(s,o,u){if(Fl(s)&&!u){const d=or(s.index,o);return new gl(d,d)}return 47&s.type?new gl(o[yr],o):null}(ar(),Ce(),16==(16&s))}class Lp{constructor(){}supports(o){return Wf(o)}create(o){return new l_(o)}}const Kw=(s,o)=>o;class l_{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||Kw}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<bA(d,h,m)?u:d,w=bA(v,h,m),E=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{m||(m=[]);const A=w-h,O=E-h;if(A!=O){for(let z=0;z<A;z++){const Q=z<m.length?m[z]:m[z]=0,me=Q+z;O<=me&&me<A&&(m[z]=Q+1)}m[v.previousIndex]=O-A}}w!==E&&o(v,w,E)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Wf(o))throw new he(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,m,v,u=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)m=o[w],v=this._trackByFn(w,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,w)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,w),d=!0),u=u._next}else h=0,function ji(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)o(d.value)}}(o,w=>{v=this._trackByFn(h,w),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,w,v,h)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,d,h){let m;return null===o?m=this._itTail:(m=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,m,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,m,h)):o=this._addAfter(new Yc(u,d),m,h),o}_verifyReinsertion(o,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?o=this._reinsertAfter(m,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,m=o._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(o,u,d),this._addToMoves(o,d),o}_moveAfter(o,u,d){return this._unlink(o),this._insertAfter(o,u,d),this._addToMoves(o,d),o}_addAfter(o,u,d){return this._insertAfter(o,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,d){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new vA),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,d=o._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vA),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Yc{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yw{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const u=o._prevDup,d=o._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class vA{constructor(){this.map=new Map}put(o){const u=o.trackById;let d=this.map.get(u);d||(d=new Yw,this.map.set(u,d)),d.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bA(s,o,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+o+h}class TA{constructor(){}supports(o){return o instanceof Map||Sa(o)}create(){return new vP}}class vP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Sa(o)))throw new he(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const d=o._prev;return u._next=o,u._prev=d,o._prev=u,d&&(d._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new bP(o);return this._records.set(o,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(d=>u(o[d],d))}}class bP{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wA(){return new Qw([new Lp])}let Qw=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||wA()),deps:[[s,new S,new Vi]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new he(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:wA}),s})();function DA(){return new Jw([new TA])}let Jw=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||DA()),deps:[[s,new S,new Vi]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new he(901,!1)}}return s.\u0275prov=nt({token:s,providedIn:"root",factory:DA}),s})();const DP=uv(null,"core",[]);let EP=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(We(cv))},s.\u0275mod=Pl({type:s}),s.\u0275inj=qn({}),s})();function Xw(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Qc(s,o){const u=nn(s),d=o.elementInjector||om();return new jf(u).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(yt,be,k)=>{k.d(be,{Z:()=>qe});var a=k(2090),Y=k(4859),x=k(9681),ne=k(1877);class ie{constructor(he,Ee){this._delegate=he,this.firebase=Ee,(0,x._addComponent)(he,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,x.deleteApp)(this._delegate)))}_getService(he,Ee=x._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(he);return!Le.isInitialized()&&"EXPLICIT"===(null===(Se=Le.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:Ee})}_removeServiceInstance(he,Ee=x._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(Ee)}_addComponent(he){(0,x._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,x._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ue(){const pt=function ce(pt){const he={},Ee={__esModule:!0,initializeApp:function we(Re,V={}){const _e=x.initializeApp(Re,V);if((0,a.r3)(he,_e.name))return he[_e.name];const ke=new pt(_e,Ee);return he[_e.name]=ke,ke},app:Le,registerVersion:x.registerVersion,setLogLevel:x.setLogLevel,onLog:x.onLog,apps:null,SDK_VERSION:x.SDK_VERSION,INTERNAL:{registerComponent:function Ie(Re){const V=Re.name,_e=V.replace("-compat","");if(x._registerComponent(Re)&&"PUBLIC"===Re.type){const ke=(Ze=Le())=>{if("function"!=typeof Ze[_e])throw fe.create("invalid-app-argument",{appName:V});return Ze[_e]()};void 0!==Re.serviceProps&&(0,a.ZB)(ke,Re.serviceProps),Ee[_e]=ke,pt.prototype[_e]=function(...Ze){return this._getService.bind(this,V).apply(this,Re.multipleInstances?Ze:[])}}return"PUBLIC"===Re.type?Ee[_e]:null},removeApp:function Se(Re){delete he[Re]},useAsService:function Ve(Re,V){return"serverAuth"===V?null:V},modularAPIs:x}};function Le(Re){if(!(0,a.r3)(he,Re=Re||x._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:Re});return he[Re]}return Ee.default=Ee,Object.defineProperty(Ee,"apps",{get:function ve(){return Object.keys(he).map(Re=>he[Re])}}),Le.App=pt,Ee}(ie);return pt.INTERNAL=Object.assign(Object.assign({},pt.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function he(Ee){(0,a.ZB)(pt,Ee)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),pt}(),j=new ne.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pt=self.firebase.SDK_VERSION;pt&&pt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const qe=H;!function De(pt){(0,x.registerVersion)("@firebase/app-compat","0.2.7",pt)}()},9681:(yt,be,k)=>{k.r(be),k.d(be,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>vi,_DEFAULT_ENTRY_NAME:()=>xe,_addComponent:()=>ln,_addOrOverwriteComponent:()=>St,_apps:()=>et,_clearComponents:()=>qn,_components:()=>Je,_getProvider:()=>nt,_registerComponent:()=>on,_removeServiceInstance:()=>Mt,deleteApp:()=>Ls,getApp:()=>bi,getApps:()=>ri,initializeApp:()=>fo,onLog:()=>Tt,registerVersion:()=>ii,setLogLevel:()=>Bs});var a=k(5861),Y=k(4859),x=k(1877),ne=k(2090),ie=k(8766);class ee{constructor(Te){this.container=Te}getPlatformInfoString(){return this.container.getProviders().map(ut=>{if(function fe(We){return"VERSION"===We.getComponent()?.type}(ut)){const At=ut.getImmediate();return`${At.library}/${At.version}`}return null}).filter(ut=>ut).join(" ")}}const ce="@firebase/app",H=new x.Yd("@firebase/app"),xe="[DEFAULT]",$e={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},et=new Map,Je=new Map;function ln(We,Te){try{We.container.addComponent(Te)}catch(ut){H.debug(`Component ${Te.name} failed to register with FirebaseApp ${We.name}`,ut)}}function St(We,Te){We.container.addOrOverwriteComponent(Te)}function on(We){const Te=We.name;if(Je.has(Te))return H.debug(`There were multiple attempts to register component ${Te}.`),!1;Je.set(Te,We);for(const ut of et.values())ln(ut,We);return!0}function nt(We,Te){const ut=We.container.getProvider("heartbeat").getImmediate({optional:!0});return ut&&ut.triggerHeartbeat(),We.container.getProvider(Te)}function Mt(We,Te,ut=xe){nt(We,Te).clearInstance(ut)}function qn(){Je.clear()}const Sn=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Pn{constructor(Te,ut,At){this._isDeleted=!1,this._options=Object.assign({},Te),this._config=Object.assign({},ut),this._name=ut.name,this._automaticDataCollectionEnabled=ut.automaticDataCollectionEnabled,this._container=At,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this.checkDestroyed(),this._automaticDataCollectionEnabled=Te}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Te){this._isDeleted=Te}checkDestroyed(){if(this.isDeleted)throw Sn.create("app-deleted",{appName:this._name})}}const vi="9.19.1";function fo(We,Te={}){let ut=We;"object"!=typeof Te&&(Te={name:Te});const At=Object.assign({name:xe,automaticDataCollectionEnabled:!1},Te),xt=At.name;if("string"!=typeof xt||!xt)throw Sn.create("bad-app-name",{appName:String(xt)});if(ut||(ut=(0,ne.aH)()),!ut)throw Sn.create("no-options");const Vt=et.get(xt);if(Vt){if((0,ne.vZ)(ut,Vt.options)&&(0,ne.vZ)(At,Vt.config))return Vt;throw Sn.create("duplicate-app",{appName:xt})}const xr=new Y.H0(xt);for(const U of Je.values())xr.addComponent(U);const G=new Pn(ut,At,xr);return et.set(xt,G),G}function bi(We=xe){const Te=et.get(We);if(!Te&&We===xe)return fo();if(!Te)throw Sn.create("no-app",{appName:We});return Te}function ri(){return Array.from(et.values())}function Ls(We){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.Z)(function*(We){const Te=We.name;et.has(Te)&&(et.delete(Te),yield Promise.all(We.container.getProviders().map(ut=>ut.delete())),We.isDeleted=!0)})).apply(this,arguments)}function ii(We,Te,ut){var At;let xt=null!==(At=$e[We])&&void 0!==At?At:We;ut&&(xt+=`-${ut}`);const Vt=xt.match(/\s|\//),xr=Te.match(/\s|\//);if(Vt||xr){const G=[`Unable to register library "${xt}" with version "${Te}":`];return Vt&&G.push(`library name "${xt}" contains illegal characters (whitespace or "/")`),Vt&&xr&&G.push("and"),xr&&G.push(`version name "${Te}" contains illegal characters (whitespace or "/")`),void H.warn(G.join(" "))}on(new Y.wA(`${xt}-version`,()=>({library:xt,version:Te}),"VERSION"))}function Tt(We,Te){if(null!==We&&"function"!=typeof We)throw Sn.create("invalid-log-argument");(0,x.Am)(We,Te)}function Bs(We){(0,x.Ub)(We)}const Bi="firebase-heartbeat-database",xn=1,Rr="firebase-heartbeat-store";let po=null;function kt(){return po||(po=(0,ie.X3)(Bi,xn,{upgrade:(We,Te)=>{0===Te&&We.createObjectStore(Rr)}}).catch(We=>{throw Sn.create("idb-open",{originalErrorMessage:We.message})})),po}function Nt(){return(Nt=(0,a.Z)(function*(We){try{return(yield kt()).transaction(Rr).objectStore(Rr).get(Kn(We))}catch(Te){if(Te instanceof ne.ZR)H.warn(Te.message);else{const ut=Sn.create("idb-get",{originalErrorMessage:Te?.message});H.warn(ut.message)}}})).apply(this,arguments)}function Us(We,Te){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,a.Z)(function*(We,Te){try{const At=(yield kt()).transaction(Rr,"readwrite");return yield At.objectStore(Rr).put(Te,Kn(We)),At.done}catch(ut){if(ut instanceof ne.ZR)H.warn(ut.message);else{const At=Sn.create("idb-set",{originalErrorMessage:ut?.message});H.warn(At.message)}}})).apply(this,arguments)}function Kn(We){return`${We.name}!${We.options.appId}`}class Ra{constructor(Te){this.container=Te,this._heartbeatsCache=null;const ut=this.container.getProvider("app").getImmediate();this._storage=new tn(ut),this._heartbeatsCachePromise=this._storage.read().then(At=>(this._heartbeatsCache=At,At))}triggerHeartbeat(){var Te=this;return(0,a.Z)(function*(){const At=Te.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),xt=dn();if(null===Te._heartbeatsCache&&(Te._heartbeatsCache=yield Te._heartbeatsCachePromise),Te._heartbeatsCache.lastSentHeartbeatDate!==xt&&!Te._heartbeatsCache.heartbeats.some(Vt=>Vt.date===xt))return Te._heartbeatsCache.heartbeats.push({date:xt,agent:At}),Te._heartbeatsCache.heartbeats=Te._heartbeatsCache.heartbeats.filter(Vt=>{const xr=new Date(Vt.date).valueOf();return Date.now()-xr<=2592e6}),Te._storage.overwrite(Te._heartbeatsCache)})()}getHeartbeatsHeader(){var Te=this;return(0,a.Z)(function*(){if(null===Te._heartbeatsCache&&(yield Te._heartbeatsCachePromise),null===Te._heartbeatsCache||0===Te._heartbeatsCache.heartbeats.length)return"";const ut=dn(),{heartbeatsToSend:At,unsentEntries:xt}=function fs(We,Te=1024){const ut=[];let At=We.slice();for(const xt of We){const Vt=ut.find(xr=>xr.agent===xt.agent);if(Vt){if(Vt.dates.push(xt.date),qr(ut)>Te){Vt.dates.pop();break}}else if(ut.push({agent:xt.agent,dates:[xt.date]}),qr(ut)>Te){ut.pop();break}At=At.slice(1)}return{heartbeatsToSend:ut,unsentEntries:At}}(Te._heartbeatsCache.heartbeats),Vt=(0,ne.L)(JSON.stringify({version:2,heartbeats:At}));return Te._heartbeatsCache.lastSentHeartbeatDate=ut,xt.length>0?(Te._heartbeatsCache.heartbeats=xt,yield Te._storage.overwrite(Te._heartbeatsCache)):(Te._heartbeatsCache.heartbeats=[],Te._storage.overwrite(Te._heartbeatsCache)),Vt})()}}function dn(){return(new Date).toISOString().substring(0,10)}class tn{constructor(Te){this.app=Te,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Te=this;return(0,a.Z)(function*(){return(yield Te._canUseIndexedDBPromise)&&(yield function wt(We){return Nt.apply(this,arguments)}(Te.app))||{heartbeats:[]}})()}overwrite(Te){var ut=this;return(0,a.Z)(function*(){var At;if(yield ut._canUseIndexedDBPromise){const Vt=yield ut.read();return Us(ut.app,{lastSentHeartbeatDate:null!==(At=Te.lastSentHeartbeatDate)&&void 0!==At?At:Vt.lastSentHeartbeatDate,heartbeats:Te.heartbeats})}})()}add(Te){var ut=this;return(0,a.Z)(function*(){var At;if(yield ut._canUseIndexedDBPromise){const Vt=yield ut.read();return Us(ut.app,{lastSentHeartbeatDate:null!==(At=Te.lastSentHeartbeatDate)&&void 0!==At?At:Vt.lastSentHeartbeatDate,heartbeats:[...Vt.heartbeats,...Te.heartbeats]})}})()}}function qr(We){return(0,ne.L)(JSON.stringify({version:2,heartbeats:We})).length}!function Qi(We){on(new Y.wA("platform-logger",Te=>new ee(Te),"PRIVATE")),on(new Y.wA("heartbeat",Te=>new Ra(Te),"PRIVATE")),ii(ce,"0.9.7",We),ii(ce,"0.9.7","esm2017"),ii("fire-js","")}("")},4859:(yt,be,k)=>{k.d(be,{H0:()=>ce,wA:()=>x});var a=k(5861),Y=k(2090);class x{constructor(H,j,q){this.name=H,this.instanceFactory=j,this.type=q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const ne="[DEFAULT]";class ie{constructor(H,j){this.name=H,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const j=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(j)){const q=new Y.BH;if(this.instancesDeferred.set(j,q),this.isInitialized(j)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:j});je&&q.resolve(je)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(H){var j;const q=this.normalizeInstanceIdentifier(H?.identifier),je=null!==(j=H?.optional)&&void 0!==j&&j;if(!this.isInitialized(q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:q})}catch(De){if(je)return null;throw De}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function fe(ue){return"EAGER"===ue.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[j,q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(j);try{const De=this.getOrInitializeService({instanceIdentifier:je});q.resolve(De)}catch{}}}}clearInstance(H=ne){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,a.Z)(function*(){const j=Array.from(H.instances.values());yield Promise.all([...j.filter(q=>"INTERNAL"in q).map(q=>q.INTERNAL.delete()),...j.filter(q=>"_delete"in q).map(q=>q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=ne){return this.instances.has(H)}getOptions(H=ne){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:j={}}=H,q=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(q))throw Error(`${this.name}(${q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:q,options:j});for(const[De,qe]of this.instancesDeferred.entries())q===this.normalizeInstanceIdentifier(De)&&qe.resolve(je);return je}onInit(H,j){var q;const je=this.normalizeInstanceIdentifier(j),De=null!==(q=this.onInitCallbacks.get(je))&&void 0!==q?q:new Set;De.add(H),this.onInitCallbacks.set(je,De);const qe=this.instances.get(je);return qe&&H(qe,je),()=>{De.delete(H)}}invokeOnInitCallbacks(H,j){const q=this.onInitCallbacks.get(j);if(q)for(const je of q)try{je(H,j)}catch{}}getOrInitializeService({instanceIdentifier:H,options:j={}}){let q=this.instances.get(H);if(!q&&this.component&&(q=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=H,ue===ne?void 0:ue),options:j}),this.instances.set(H,q),this.instancesOptions.set(H,j),this.invokeOnInitCallbacks(q,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,q)}catch{}var ue;return q||null}normalizeInstanceIdentifier(H=ne){return this.component?this.component.multipleInstances?H:ne:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const j=this.getProvider(H.name);if(j.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);j.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const j=new ie(H,this);return this.providers.set(H,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,be,k)=>{k.d(be,{Am:()=>ue,Ub:()=>ce,Yd:()=>fe,in:()=>Y});const a=[];var Y=(()=>{return(H=Y||(Y={}))[H.DEBUG=0]="DEBUG",H[H.VERBOSE=1]="VERBOSE",H[H.INFO=2]="INFO",H[H.WARN=3]="WARN",H[H.ERROR=4]="ERROR",H[H.SILENT=5]="SILENT",Y;var H})();const x={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ne=Y.INFO,ie={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},ee=(H,j,...q)=>{if(j<H.logLevel)return;const je=(new Date).toISOString(),De=ie[j];if(!De)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[De](`[${je}]  ${H.name}:`,...q)};class fe{constructor(j){this.name=j,this._logLevel=ne,this._logHandler=ee,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in Y))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?x[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...j),this._logHandler(this,Y.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...j),this._logHandler(this,Y.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...j),this._logHandler(this,Y.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...j),this._logHandler(this,Y.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...j),this._logHandler(this,Y.ERROR,...j)}}function ce(H){a.forEach(j=>{j.setLogLevel(H)})}function ue(H,j){for(const q of a){let je=null;j&&j.level&&(je=x[j.level]),q.userLogHandler=null===H?null:(De,qe,...pt)=>{const he=pt.map(Ee=>{if(null==Ee)return null;if("string"==typeof Ee)return Ee;if("number"==typeof Ee||"boolean"==typeof Ee)return Ee.toString();if(Ee instanceof Error)return Ee.message;try{return JSON.stringify(Ee)}catch{return null}}).filter(Ee=>Ee).join(" ");qe>=(je??De.logLevel)&&H({level:Y[qe].toLowerCase(),message:he,args:pt,type:De.name})}}}},259:(yt,be,k)=>{k.d(be,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=k(9681);(0,a.registerVersion)("firebase","9.19.1","app")},9260:(yt,be,k)=>{k.d(be,{Z:()=>a.Z});var a=k(3942);a.Z.registerVersion("firebase","9.19.1","app-compat")},9800:(yt,be,k)=>{k.r(be);var a=k(5861),Y=k(3942),x=k(2090),ne=k(9681),ie=k(1877),ee=k(655),fe=k(4859);const ue={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},q_EMAIL_SIGNIN="EMAIL_SIGNIN",q_PASSWORD_RESET="PASSWORD_RESET",q_RECOVER_EMAIL="RECOVER_EMAIL",q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",q_VERIFY_EMAIL="VERIFY_EMAIL";const qe=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},pt=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},he=new x.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ie.Yd("@firebase/auth");function Le(y,...f){Se.logLevel<=ie.in.ERROR&&Se.error(`Auth (${ne.SDK_VERSION}): ${y}`,...f)}function we(y,...f){throw Re(y,...f)}function ve(y,...f){return Re(y,...f)}function Ie(y,f,g){const b=Object.assign(Object.assign({},pt()),{[f]:g});return new x.LL("auth","Firebase",b).create(f,{appName:y.name})}function Ve(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&we(y,"argument-error"),Ie(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(y,...f){if("string"!=typeof y){const g=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=y.name),y._errorFactory.create(g,...b)}return he.create(y,...f)}function V(y,f,...g){if(!y)throw Re(f,...g)}function _e(y){const f="INTERNAL ASSERTION FAILED: "+y;throw Le(f),new Error(f)}function ke(y,f){y||_e(f)}const Ze=new Map;function vt(y){ke(y instanceof Function,"Expected a class definition");let f=Ze.get(y);return f?(ke(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,Ze.set(y,f),f)}function de(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ye(){return"http:"===Ae()||"https:"===Ae()}function Ae(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class et{constructor(f,g){this.shortDelay=f,this.longDelay=g,ke(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,x.uI)()||(0,x.b$)()}get(){return function xe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ye()||(0,x.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Je(y,f){ke(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class ln{static initialize(f,g,b){this.fetchImpl=f,g&&(this.headersImpl=g),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},on=new et(3e4,6e4);function nt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function Mt(y,f,g,b){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(y,f,g,b,I={}){return _n(y,I,(0,a.Z)(function*(){let R={},Z={};b&&("GET"===f?Z=b:R={body:JSON.stringify(b)});const le=(0,x.xO)(Object.assign({key:y.config.apiKey},Z)).slice(1),He=yield y._getAdditionalHeaders();return He["Content-Type"]="application/json",y.languageCode&&(He["X-Firebase-Locale"]=y.languageCode),ln.fetch()(fo(y,y.config.apiHost,g,le),Object.assign({method:f,headers:He,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function _n(y,f,g){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(y,f,g){y._canInitEmulator=!1;const b=Object.assign(Object.assign({},St),f);try{const I=new bi(y),R=yield Promise.race([g(),I.promise]);I.clearNetworkTimeout();const Z=yield R.json();if("needConfirmation"in Z)throw ri(y,"account-exists-with-different-credential",Z);if(R.ok&&!("errorMessage"in Z))return Z;{const le=R.ok?Z.errorMessage:Z.error.message,[He,st]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===He)throw ri(y,"credential-already-in-use",Z);if("EMAIL_EXISTS"===He)throw ri(y,"email-already-in-use",Z);if("USER_DISABLED"===He)throw ri(y,"user-disabled",Z);const bt=b[He]||He.toLowerCase().replace(/[_\s]+/g,"-");if(st)throw Ie(y,bt,st);we(y,bt)}}catch(I){if(I instanceof x.ZR)throw I;we(y,"network-request-failed",{message:String(I)})}})).apply(this,arguments)}function Pn(y,f,g,b){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(y,f,g,b,I={}){const R=yield Mt(y,f,g,b,I);return"mfaPendingCredential"in R&&we(y,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function fo(y,f,g,b){const I=`${f}${g}?${b}`;return y.config.emulator?Je(y.config,I):`${y.config.apiScheme}://${I}`}class bi{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,b)=>{this.timer=setTimeout(()=>b(ve(this.auth,"network-request-failed")),on.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(y,f,g){const b={appName:y.name};g.email&&(b.email=g.email),g.phoneNumber&&(b.phoneNumber=g.phoneNumber);const I=ve(y,f,b);return I.customData._tokenResponse=g,I}function Cn(){return(Cn=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Tt(){return(Tt=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Bi(){return(Bi=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function xn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function kt(){return(kt=(0,a.Z)(function*(y,f=!1){const g=(0,x.m9)(y),b=yield g.getIdToken(f),I=Nt(b);V(I&&I.exp&&I.auth_time&&I.iat,g.auth,"internal-error");const R="object"==typeof I.firebase?I.firebase:void 0,Z=R?.sign_in_provider;return{claims:I,token:b,authTime:xn(wt(I.auth_time)),issuedAtTime:xn(wt(I.iat)),expirationTime:xn(wt(I.exp)),signInProvider:Z||null,signInSecondFactor:R?.sign_in_second_factor||null}})).apply(this,arguments)}function wt(y){return 1e3*Number(y)}function Nt(y){const[f,g,b]=y.split(".");if(void 0===f||void 0===g||void 0===b)return Le("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,x.tV)(g);return I?JSON.parse(I):(Le("Failed to decode base64 JWT payload"),null)}catch(I){return Le("Caught error parsing JWT payload as JSON",I?.toString()),null}}function Tn(y,f){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(b){throw b instanceof x.ZR&&function Zr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(b)&&y.auth.currentUser===y&&(yield y.auth.signOut()),b}})).apply(this,arguments)}class Pr{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const I=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,a.Z)(function*(){yield g.iteration()}),b)}iteration(){var f=this;return(0,a.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&f.schedule(!0))}f.schedule()})()}}class Ra{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=xn(this.lastLoginAt),this.creationTime=xn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(y){return fs.apply(this,arguments)}function fs(){return fs=(0,a.Z)(function*(y){var f;const g=y.auth,b=yield y.getIdToken(),I=yield Tn(y,function Bs(y,f){return Bi.apply(this,arguments)}(g,{idToken:b}));V(I?.users.length,g,"internal-error");const R=I.users[0];y._notifyReloadListener(R);const Z=null!==(f=R.providerUserInfo)&&void 0!==f&&f.length?function We(y){return y.map(f=>{var{providerId:g}=f,b=(0,ee._T)(f,["providerId"]);return{providerId:g,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(R.providerUserInfo):[],le=function Qi(y,f){return[...y.filter(b=>!f.some(I=>I.providerId===b.providerId)),...f]}(y.providerData,Z),bt=!!y.isAnonymous&&!(y.email&&R.passwordHash||le?.length),gt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:le,metadata:new Ra(R.createdAt,R.lastLoginAt),isAnonymous:bt};Object.assign(y,gt)}),fs.apply(this,arguments)}function qr(){return(qr=(0,a.Z)(function*(y){const f=(0,x.m9)(y);yield dn(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(y,f){const g=yield _n(y,{},(0,a.Z)(function*(){const b=(0,x.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:I,apiKey:R}=y.config,Z=fo(y,I,"/v1/token",`key=${R}`),le=yield y._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",ln.fetch()(Z,{method:"POST",headers:le,body:b})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class At{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){V(f.idToken,"internal-error"),V(typeof f.idToken<"u","internal-error"),V(typeof f.refreshToken<"u","internal-error");const g="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function Us(y){const f=Nt(y);return V(f,"internal-error"),V(typeof f.exp<"u","internal-error"),V(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var b=this;return(0,a.Z)(function*(){return V(!b.accessToken||b.refreshToken,f,"user-token-expired"),g||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var b=this;return(0,a.Z)(function*(){const{accessToken:I,refreshToken:R,expiresIn:Z}=yield function Te(y,f){return ut.apply(this,arguments)}(f,g);b.updateTokensAndExpiration(I,R,Number(Z))})()}updateTokensAndExpiration(f,g,b){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,g){const{refreshToken:b,accessToken:I,expirationTime:R}=g,Z=new At;return b&&(V("string"==typeof b,"internal-error",{appName:f}),Z.refreshToken=b),I&&(V("string"==typeof I,"internal-error",{appName:f}),Z.accessToken=I),R&&(V("number"==typeof R,"internal-error",{appName:f}),Z.expirationTime=R),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new At,this.toJSON())}_performRefresh(){return _e("not implemented")}}function xt(y,f){V("string"==typeof y||typeof y>"u","internal-error",{appName:f})}class Vt{constructor(f){var{uid:g,auth:b,stsTokenManager:I}=f,R=(0,ee._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=b,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Ra(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,a.Z)(function*(){const b=yield Tn(g,g.stsTokenManager.getToken(g.auth,f));return V(b,g.auth,"internal-error"),g.accessToken!==b&&(g.accessToken=b,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),b})()}getIdTokenResult(f){return function po(y){return kt.apply(this,arguments)}(this,f)}reload(){return function tn(y){return qr.apply(this,arguments)}(this)}_assign(f){this!==f&&(V(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const g=new Vt(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(f){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var b=this;return(0,a.Z)(function*(){let I=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),I=!0),g&&(yield dn(b)),yield b.auth._persistUserIfCurrent(b),I&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,a.Z)(function*(){const g=yield f.getIdToken();return yield Tn(f,function Ls(y,f){return Cn.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var b,I,R,Z,le,He,st,bt;const gt=null!==(b=g.displayName)&&void 0!==b?b:void 0,ur=null!==(I=g.email)&&void 0!==I?I:void 0,ss=null!==(R=g.phoneNumber)&&void 0!==R?R:void 0,ll=null!==(Z=g.photoURL)&&void 0!==Z?Z:void 0,Xg=null!==(le=g.tenantId)&&void 0!==le?le:void 0,Af=null!==(He=g._redirectEventId)&&void 0!==He?He:void 0,em=null!==(st=g.createdAt)&&void 0!==st?st:void 0,Pc=null!==(bt=g.lastLoginAt)&&void 0!==bt?bt:void 0,{uid:xc,emailVerified:kc,isAnonymous:$d,providerData:ul,stsTokenManager:tm}=g;V(xc&&tm,f,"internal-error");const c0=At.fromJSON(this.name,tm);V("string"==typeof xc,f,"internal-error"),xt(gt,f.name),xt(ur,f.name),V("boolean"==typeof kc,f,"internal-error"),V("boolean"==typeof $d,f,"internal-error"),xt(ss,f.name),xt(ll,f.name),xt(Xg,f.name),xt(Af,f.name),xt(em,f.name),xt(Pc,f.name);const Fc=new Vt({uid:xc,auth:f,email:ur,emailVerified:kc,displayName:gt,isAnonymous:$d,photoURL:ll,phoneNumber:ss,tenantId:Xg,stsTokenManager:c0,createdAt:em,lastLoginAt:Pc});return ul&&Array.isArray(ul)&&(Fc.providerData=ul.map(nm=>Object.assign({},nm))),Af&&(Fc._redirectEventId=Af),Fc}static _fromIdTokenResponse(f,g,b=!1){return(0,a.Z)(function*(){const I=new At;I.updateFromServerResponse(g);const R=new Vt({uid:g.localId,auth:f,stsTokenManager:I,isAnonymous:b});return yield dn(R),R})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(g,b){var I=this;return(0,a.Z)(function*(){I.storage[g]=b})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=b.storage[g];return void 0===I?null:I})()}_remove(g){var b=this;return(0,a.Z)(function*(){delete b.storage[g]})()}_addListener(g,b){}_removeListener(g,b){}}return y.type="NONE",y})();function U(y,f,g){return`firebase:${y}:${f}:${g}`}class W{constructor(f,g,b){this.persistence=f,this.auth=g,this.userKey=b;const{config:I,name:R}=this.auth;this.fullUserKey=U(this.userKey,I.apiKey,R),this.fullPersistenceKey=U("persistence",I.apiKey,R),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,a.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?Vt._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,a.Z)(function*(){if(g.persistence===f)return;const b=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,b?g.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,b="authUser"){return(0,a.Z)(function*(){if(!g.length)return new W(vt(G),f,b);const I=(yield Promise.all(g.map(function(){var st=(0,a.Z)(function*(bt){if(yield bt._isAvailable())return bt});return function(bt){return st.apply(this,arguments)}}()))).filter(st=>st);let R=I[0]||vt(G);const Z=U(b,f.config.apiKey,f.name);let le=null;for(const st of g)try{const bt=yield st._get(Z);if(bt){const gt=Vt._fromJSON(f,bt);st!==R&&(le=gt),R=st;break}}catch{}const He=I.filter(st=>st._shouldAllowMigration);return R._shouldAllowMigration&&He.length?(R=He[0],le&&(yield R._set(Z,le.toJSON())),yield Promise.all(g.map(function(){var st=(0,a.Z)(function*(bt){if(bt!==R)try{yield bt._remove(Z)}catch{}});return function(bt){return st.apply(this,arguments)}}())),new W(R,f,b)):new W(R,f,b)})()}}function ge(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(gn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(X(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Un(f))return"Blackberry";if(ir(f))return"Webos";if(rt(f))return"Safari";if((f.includes("chrome/")||Ye(f))&&!f.includes("edge/"))return"Chrome";if(kn(f))return"Android";{const b=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function X(y=(0,x.z$)()){return/firefox\//i.test(y)}function rt(y=(0,x.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Ye(y=(0,x.z$)()){return/crios\//i.test(y)}function gn(y=(0,x.z$)()){return/iemobile/i.test(y)}function kn(y=(0,x.z$)()){return/android/i.test(y)}function Un(y=(0,x.z$)()){return/blackberry/i.test(y)}function ir(y=(0,x.z$)()){return/webos/i.test(y)}function Ft(y=(0,x.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Wh(y=(0,x.z$)()){return Ft(y)||kn(y)||ir(y)||Un(y)||/windows phone/i.test(y)||gn(y)}function Rl(y,f=[]){let g;switch(y){case"Browser":g=ge((0,x.z$)());break;case"Worker":g=`${ge((0,x.z$)())}-${y}`;break;default:g=y}const b=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ne.SDK_VERSION}/${b}`}class Pl{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,g){const b=R=>new Promise((Z,le)=>{try{Z(f(R))}catch(He){le(He)}});b.onAbort=g,this.queue.push(b);const I=this.queue.length-1;return()=>{this.queue[I]=()=>Promise.resolve()}}runMiddleware(f){var g=this;return(0,a.Z)(function*(){if(g.auth.currentUser===f)return;const b=[];try{for(const I of g.queue)yield I(f),I.onAbort&&b.push(I.onAbort)}catch(I){b.reverse();for(const R of b)try{R()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:I?.message})}})()}}class Zh{constructor(f,g,b){this.app=f,this.heartbeatServiceProvider=g,this.config=b,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gu(this),this.idTokenSubscription=new Gu(this),this.beforeStateQueue=new Pl(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=he,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=b.sdkClientVersion}_initializeWithPersistence(f,g){var b=this;return g&&(this._popupRedirectResolver=vt(g)),this._initializationPromise=this.queue((0,a.Z)(function*(){var I,R;if(!b._deleted&&(b.persistenceManager=yield W.create(b,f),!b._deleted)){if(null!==(I=b._popupRedirectResolver)&&void 0!==I&&I._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(g),b.lastNotifiedUid=(null===(R=b.currentUser)||void 0===R?void 0:R.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,a.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g,!0)}})()}initializeCurrentUser(f){var g=this;return(0,a.Z)(function*(){var b;const I=yield g.assertedPersistence.getCurrentUser();let R=I,Z=!1;if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const le=null===(b=g.redirectUser)||void 0===b?void 0:b._redirectEventId,He=R?._redirectEventId,st=yield g.tryRedirectSignIn(f);(!le||le===He)&&st?.user&&(R=st.user,Z=!0)}if(!R)return g.directlySetCurrentUser(null);if(!R._redirectEventId){if(Z)try{yield g.beforeStateQueue.runMiddleware(R)}catch(le){R=I,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(le))}return R?g.reloadAndSetCurrentUserOrClear(R):g.directlySetCurrentUser(null)}return V(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===R._redirectEventId?g.directlySetCurrentUser(R):g.reloadAndSetCurrentUserOrClear(R)})()}tryRedirectSignIn(f){var g=this;return(0,a.Z)(function*(){let b=null;try{b=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch{yield g._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,a.Z)(function*(){try{yield dn(f)}catch(b){if("auth/network-request-failed"!==b?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function $e(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,a.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,a.Z)(function*(){const b=f?(0,x.m9)(f):null;return b&&V(b.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(b&&b._clone(g))})()}_updateCurrentUser(f,g=!1){var b=this;return(0,a.Z)(function*(){if(!b._deleted)return f&&V(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),g||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,a.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,a.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var g=this;return this.queue((0,a.Z)(function*(){yield g.assertedPersistence.setPersistence(vt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new x.LL("auth","Firebase",f())}onAuthStateChanged(f,g,b){return this.registerStateListener(this.authStateSubscription,f,g,b)}beforeAuthStateChanged(f,g){return this.beforeStateQueue.pushCallback(f,g)}onIdTokenChanged(f,g,b){return this.registerStateListener(this.idTokenSubscription,f,g,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var b=this;return(0,a.Z)(function*(){const I=yield b.getOrInitRedirectPersistenceManager(g);return null===f?I.removeCurrentUser():I.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,a.Z)(function*(){if(!g.redirectPersistenceManager){const b=f&&vt(f)||g._popupRedirectResolver;V(b,g,"argument-error"),g.redirectPersistenceManager=yield W.create(g,[vt(b._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,a.Z)(function*(){var b,I;return g._isInitialized&&(yield g.queue((0,a.Z)(function*(){}))),(null===(b=g._currentUser)||void 0===b?void 0:b._redirectEventId)===f?g._currentUser:(null===(I=g.redirectUser)||void 0===I?void 0:I._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,a.Z)(function*(){if(f===g.currentUser)return g.queue((0,a.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,b,I){if(this._deleted)return()=>{};const R="function"==typeof g?g:g.next.bind(g),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return V(Z,this,"internal-error"),Z.then(()=>R(this.currentUser)),"function"==typeof g?f.addObserver(g,b,I):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,a.Z)(function*(){g.currentUser&&g.currentUser!==f&&g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh(),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Rl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,a.Z)(function*(){var g;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const I=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return I&&(b["X-Firebase-Client"]=I),b})()}}function Vn(y){return(0,x.m9)(y)}class Gu{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,x.ne)(g=>this.observer=g)}get next(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function nn(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function _r(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class sr{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return _e("not implemented")}_getIdTokenResponse(f){return _e("not implemented")}_linkToIdToken(f,g){return _e("not implemented")}_getReauthenticationResolver(f){return _e("not implemented")}}function kr(y,f){return xl.apply(this,arguments)}function xl(){return(xl=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:resetPassword",nt(y,f))})).apply(this,arguments)}function go(y,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:update",nt(y,f))})).apply(this,arguments)}function si(){return(si=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithPassword",nt(y,f))})).apply(this,arguments)}function Xi(y,f){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:sendOobCode",nt(y,f))})).apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(y,f){return Xi(y,f)})).apply(this,arguments)}function Pa(){return(Pa=(0,a.Z)(function*(y,f){return Xi(y,f)})).apply(this,arguments)}function Go(){return(Go=(0,a.Z)(function*(y,f){return Xi(y,f)})).apply(this,arguments)}function _o(){return(_o=(0,a.Z)(function*(y,f){return Xi(y,f)})).apply(this,arguments)}function yr(){return(yr=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,f))})).apply(this,arguments)}function Gs(){return(Gs=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,f))})).apply(this,arguments)}class Yr extends sr{constructor(f,g,b,I=null){super("password",b),this._email=f,this._password=g,this._tenantId=I}static _fromEmailAndPassword(f,g){return new Yr(f,g,"password")}static _fromEmailAndCode(f,g,b=null){return new Yr(f,g,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,a.Z)(function*(){switch(g.signInMethod){case"password":return function vn(y,f){return si.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function xa(y,f){return yr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:we(f,"internal-error")}})()}_linkToIdToken(f,g){var b=this;return(0,a.Z)(function*(){switch(b.signInMethod){case"password":return go(f,{idToken:g,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function jo(y,f){return Gs.apply(this,arguments)}(f,{idToken:g,email:b._email,oobCode:b._password});default:we(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Gn(y,f){return ju.apply(this,arguments)}function ju(){return(ju=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithIdp",nt(y,f))})).apply(this,arguments)}class ps extends sr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new ps(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):we("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I}=g,R=(0,ee._T)(g,["providerId","signInMethod"]);if(!b||!I)return null;const Z=new ps(b,I);return Z.idToken=R.idToken||void 0,Z.accessToken=R.accessToken||void 0,Z.secret=R.secret,Z.nonce=R.nonce,Z.pendingToken=R.pendingToken||null,Z}_getIdTokenResponse(f){return Gn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Gn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,x.xO)(g)}return f}}function kl(){return(kl=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:sendVerificationCode",nt(y,f))})).apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,f))})).apply(this,arguments)}function vr(){return(vr=(0,a.Z)(function*(y,f){const g=yield Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,f));if(g.temporaryProof)throw ri(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const yg={USER_NOT_FOUND:"user-not-found"};function ai(){return(ai=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),yg)})).apply(this,arguments)}class gs extends sr{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new gs({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new gs({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function yo(y,f){return wi.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function $o(y,f){return vr.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function oi(y,f){return ai.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:b,verificationCode:I}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:b,code:I}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:R}=f;return b||g||I||R?new gs({verificationId:g,verificationCode:b,phoneNumber:I,temporaryProof:R}):null}}class Fr{constructor(f){var g,b,I,R,Z,le;const He=(0,x.zd)((0,x.pd)(f)),st=null!==(g=He.apiKey)&&void 0!==g?g:null,bt=null!==(b=He.oobCode)&&void 0!==b?b:null,gt=function Fl(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=He.mode)&&void 0!==I?I:null);V(st&&bt&&gt,"argument-error"),this.apiKey=st,this.operation=gt,this.code=bt,this.continueUrl=null!==(R=He.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(Z=He.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(le=He.tenantId)&&void 0!==le?le:null}static parseLink(f){const g=function zo(y){const f=(0,x.zd)((0,x.pd)(y)).link,g=f?(0,x.zd)((0,x.pd)(f)).deep_link_id:null,b=(0,x.zd)((0,x.pd)(y)).deep_link_id;return(b?(0,x.zd)((0,x.pd)(b)).link:null)||b||g||f||y}(f);try{return new Fr(g)}catch{return null}}}let cd=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,b){return Yr._fromEmailAndPassword(g,b)}static credentialWithLink(g,b){const I=Fr.parseLink(b);return V(I,"argument-error"),Yr._fromEmailAndCode(g,I.code,I.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class ms{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class vo extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Wo extends vo{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return V("providerId"in g&&"signInMethod"in g,"argument-error"),ps._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return V(f.idToken||f.accessToken,"argument-error"),ps._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Wo.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Wo.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:b,oauthTokenSecret:I,pendingToken:R,nonce:Z,providerId:le}=f;if(!b&&!I&&!g&&!R||!le)return null;try{return new Wo(le)._credential({idToken:g,accessToken:b,nonce:Z,pendingToken:R})}catch{return null}}}let zu=(()=>{class y extends vo{constructor(){super("facebook.com")}static credential(g){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),qh=(()=>{class y extends vo{constructor(){super("google.com"),this.addScope("profile")}static credential(g,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:b,oauthAccessToken:I}=g;if(!b&&!I)return null;try{return y.credential(b,I)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),dd=(()=>{class y extends vo{constructor(){super("github.com")}static credential(g){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Zo extends sr{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Gn(f,this.buildRequest())}_linkToIdToken(f,g){const b=this.buildRequest();return b.idToken=g,Gn(f,b)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Gn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:I,pendingToken:R}=g;return b&&I&&R&&b===I?new Zo(b,R):null}static _create(f,g){return new Zo(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class es extends ms{constructor(f){V(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return es.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return es.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=Zo.fromJSON(f);return V(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:b}=f;if(!g||!b)return null;try{return Zo._create(b,g)}catch{return null}}}let bg=(()=>{class y extends vo{constructor(){super("twitter.com")}static credential(g,b){return ps._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:b})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:b,oauthTokenSecret:I}=g;if(!b||!I)return null;try{return y.credential(b,I)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Wu(y,f){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signUp",nt(y,f))})).apply(this,arguments)}class Di{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,b,I=!1){return(0,a.Z)(function*(){const R=yield Vt._fromIdTokenResponse(f,b,I),Z=qu(b);return new Di({user:R,providerId:Z,_tokenResponse:b,operationType:g})})()}static _forOperation(f,g,b){return(0,a.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const I=qu(b);return new Di({user:f,providerId:I,_tokenResponse:b,operationType:g})})()}}function qu(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function To(){return(To=(0,a.Z)(function*(y){var f;const g=Vn(y);if(yield g._initializationPromise,null!==(f=g.currentUser)&&void 0!==f&&f.isAnonymous)return new Di({user:g.currentUser,providerId:null,operationType:"signIn"});const b=yield Wu(g,{returnSecureToken:!0}),I=yield Di._fromIdTokenResponse(g,"signIn",b,!0);return yield g._updateCurrentUser(I.user),I})).apply(this,arguments)}class Bl extends x.ZR{constructor(f,g,b,I){var R;super(g.code,g.message),this.operationType=b,this.user=I,Object.setPrototypeOf(this,Bl.prototype),this.customData={appName:f.name,tenantId:null!==(R=f.tenantId)&&void 0!==R?R:void 0,_serverResponse:g.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,g,b,I){return new Bl(f,g,b,I)}}function Tg(y,f,g,b){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Bl._fromErrorAndOperation(y,R,f,b):R})}function li(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function wo(){return wo=(0,a.Z)(function*(y,f){const g=(0,x.m9)(y);yield Ko(!0,g,f);const{providerUserInfo:b}=yield function ii(y,f){return Tt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),I=li(b||[]);return g.providerData=g.providerData.filter(R=>I.has(R.providerId)),I.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),wo.apply(this,arguments)}function ka(y,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,a.Z)(function*(y,f,g=!1){const b=yield Tn(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return Di._forOperation(y,"link",b)})).apply(this,arguments)}function Ko(y,f,g){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,a.Z)(function*(y,f,g){yield dn(f);const I=!1===y?"provider-already-linked":"no-such-provider";V(li(f.providerData).has(g)===y,f.auth,I)})).apply(this,arguments)}function Ku(y,f){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,a.Z)(function*(y,f,g=!1){const{auth:b}=y,I="reauthenticate";try{const R=yield Tn(y,Tg(b,I,f,y),g);V(R.idToken,b,"internal-error");const Z=Nt(R.idToken);V(Z,b,"internal-error");const{sub:le}=Z;return V(y.uid===le,b,"user-mismatch"),Di._forOperation(y,I,R)}catch(R){throw"auth/user-not-found"===R?.code&&we(b,"user-mismatch"),R}})).apply(this,arguments)}function Hs(y,f){return fd.apply(this,arguments)}function fd(){return(fd=(0,a.Z)(function*(y,f,g=!1){const b="signIn",I=yield Tg(y,b,f),R=yield Di._fromIdTokenResponse(y,b,I);return g||(yield y._updateCurrentUser(R.user)),R})).apply(this,arguments)}function an(y,f){return Vl.apply(this,arguments)}function Vl(){return(Vl=(0,a.Z)(function*(y,f){return Hs(Vn(y),f)})).apply(this,arguments)}function La(y,f){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(y,f){const g=(0,x.m9)(y);return yield Ko(!1,g,f.providerId),ka(g,f)})).apply(this,arguments)}function Gl(y,f){return ts.apply(this,arguments)}function ts(){return(ts=(0,a.Z)(function*(y,f){return Ku((0,x.m9)(y),f)})).apply(this,arguments)}function Ba(){return(Ba=(0,a.Z)(function*(y,f){return Pn(y,"POST","/v1/accounts:signInWithCustomToken",nt(y,f))})).apply(this,arguments)}function ns(){return ns=(0,a.Z)(function*(y,f){const g=Vn(y),b=yield function Lr(y,f){return Ba.apply(this,arguments)}(g,{token:f,returnSecureToken:!0}),I=yield Di._fromIdTokenResponse(g,"signIn",b);return yield g._updateCurrentUser(I.user),I}),ns.apply(this,arguments)}class or{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?Qu._fromServerResponse(f,g):"totpInfo"in g?Yo._fromServerResponse(f,g):we(f,"internal-error")}}class Qu extends or{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new Qu(g)}}class Yo extends or{constructor(f){super("totp",f)}static _fromServerResponse(f,g){return new Yo(g)}}function Ua(y,f,g){var b;V((null===(b=g.url)||void 0===b?void 0:b.length)>0,y,"invalid-continue-uri"),V(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(V(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(V(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function Qo(){return Qo=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y),I={requestType:"PASSWORD_RESET",email:f};g&&Ua(b,I,g),yield function An(y,f){return Pa.apply(this,arguments)}(b,I)}),Qo.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(y,f,g){yield kr((0,x.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function Hl(){return Hl=(0,a.Z)(function*(y,f){yield function at(y,f){return Lt.apply(this,arguments)}((0,x.m9)(y),{oobCode:f})}),Hl.apply(this,arguments)}function gd(y,f){return Va.apply(this,arguments)}function Va(){return(Va=(0,a.Z)(function*(y,f){const g=(0,x.m9)(y),b=yield kr(g,{oobCode:f}),I=b.requestType;switch(V(I,g,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":V(b.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":V(b.mfaInfo,g,"internal-error");default:V(b.email,g,"internal-error")}let R=null;return b.mfaInfo&&(R=or._fromServerResponse(Vn(g),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:R},operation:I}})).apply(this,arguments)}function jl(){return(jl=(0,a.Z)(function*(y,f){const{data:g}=yield gd((0,x.m9)(y),f);return g.email})).apply(this,arguments)}function Mn(){return(Mn=(0,a.Z)(function*(y,f,g){const b=Vn(y),I=yield Wu(b,{returnSecureToken:!0,email:f,password:g}),R=yield Di._fromIdTokenResponse(b,"signIn",I);return yield b._updateCurrentUser(R.user),R})).apply(this,arguments)}function $l(){return $l=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y),I={requestType:"EMAIL_SIGNIN",email:f};V(g.handleCodeInApp,b,"argument-error"),g&&Ua(b,I,g),yield function Ht(y,f){return Go.apply(this,arguments)}(b,I)}),$l.apply(this,arguments)}function Xu(){return(Xu=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y),I=cd.credentialWithLink(f,g||de());return V(I._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),an(b,I)})).apply(this,arguments)}function ui(){return(ui=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:createAuthUri",nt(y,f))})).apply(this,arguments)}function Xo(){return Xo=(0,a.Z)(function*(y,f){const b={identifier:f,continueUri:ye()?de():"http://localhost"},{signinMethods:I}=yield function Jo(y,f){return ui.apply(this,arguments)}((0,x.m9)(y),b);return I||[]}),Xo.apply(this,arguments)}function zl(){return zl=(0,a.Z)(function*(y,f){const g=(0,x.m9)(y),I={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Ua(g.auth,I,f);const{email:R}=yield function mo(y,f){return In.apply(this,arguments)}(g.auth,I);R!==y.email&&(yield y.reload())}),zl.apply(this,arguments)}function Hn(){return Hn=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Ua(b.auth,R,g);const{email:Z}=yield function Ho(y,f){return _o.apply(this,arguments)}(b.auth,R);Z!==y.email&&(yield y.reload())}),Hn.apply(this,arguments)}function Ga(){return(Ga=(0,a.Z)(function*(y,f){return Mt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ei(){return Ei=(0,a.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const b=(0,x.m9)(y),R={idToken:yield b.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},Z=yield Tn(b,function ci(y,f){return Ga.apply(this,arguments)}(b.auth,R));b.displayName=Z.displayName||null,b.photoURL=Z.photoUrl||null;const le=b.providerData.find(({providerId:He})=>"password"===He);le&&(le.displayName=b.displayName,le.photoURL=b.photoURL),yield b._updateTokensIfNecessary(Z)}),Ei.apply(this,arguments)}function vd(y,f,g){return tc.apply(this,arguments)}function tc(){return(tc=(0,a.Z)(function*(y,f,g){const{auth:b}=y,R={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(R.email=f),g&&(R.password=g);const Z=yield Tn(y,go(b,R));yield y._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Do{constructor(f,g,b={}){this.isNewUser=f,this.providerId=g,this.profile=b}}class nc extends Do{constructor(f,g,b,I){super(f,g,b),this.username=I}}class ql extends Do{constructor(f,g){super(f,"facebook.com",g)}}class wg extends nc{constructor(f,g){super(f,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class rc extends Do{constructor(f,g){super(f,"google.com",g)}}class bd extends nc{constructor(f,g,b){super(f,"twitter.com",g,b)}}function Dg(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Zl(y){var f,g;if(!y)return null;const{providerId:b}=y,I=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},R=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!b&&y?.idToken){const Z=null===(g=null===(f=Nt(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(Z)return new Do(R,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!b)return null;switch(b){case"facebook.com":return new ql(R,I);case"github.com":return new wg(R,I);case"google.com":return new rc(R,I);case"twitter.com":return new bd(R,I,y.screenName||null);case"custom":case"anonymous":return new Do(R,null);default:return new Do(R,b,I)}}(g)}class js{constructor(f,g,b){this.type=f,this.credential=g,this.auth=b}static _fromIdtoken(f,g){return new js("enroll",f,g)}static _fromMfaPendingCredential(f){return new js("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,b;if(f?.multiFactorSession){if(null!==(g=f.multiFactorSession)&&void 0!==g&&g.pendingCredential)return js._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return js._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Qn{constructor(f,g,b){this.session=f,this.hints=g,this.signInResolver=b}static _fromError(f,g){const b=Vn(f),I=g.customData._serverResponse,R=(I.mfaInfo||[]).map(le=>or._fromServerResponse(b,le));V(I.mfaPendingCredential,b,"internal-error");const Z=js._fromMfaPendingCredential(I.mfaPendingCredential);return new Qn(Z,R,function(){var le=(0,a.Z)(function*(He){const st=yield He._process(b,Z);delete I.mfaInfo,delete I.mfaPendingCredential;const bt=Object.assign(Object.assign({},I),{idToken:st.idToken,refreshToken:st.refreshToken});switch(g.operationType){case"signIn":const gt=yield Di._fromIdTokenResponse(b,g.operationType,bt);return yield b._updateCurrentUser(gt.user),gt;case"reauthenticate":return V(g.user,b,"internal-error"),Di._forOperation(g.user,g.operationType,bt);default:we(b,"internal-error")}});return function(He){return le.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,a.Z)(function*(){return g.signInResolver(f)})()}}class ea{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(b=>or._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new ea(f)}getSession(){var f=this;return(0,a.Z)(function*(){return js._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,g){var b=this;return(0,a.Z)(function*(){const I=f,R=yield b.getSession(),Z=yield Tn(b.user,I._process(b.user.auth,R,g));return yield b.user._updateTokensIfNecessary(Z),b.user.reload()})()}unenroll(f){var g=this;return(0,a.Z)(function*(){const b="string"==typeof f?f:f.uid,I=yield g.user.getIdToken();try{const R=yield Tn(g.user,function oc(y,f){return Mt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(y,f))}(g.user.auth,{idToken:I,mfaEnrollmentId:b}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Z})=>Z!==b),yield g.user._updateTokensIfNecessary(R),yield g.user.reload()}catch(R){throw R}})()}}const Eo=new WeakMap,Kl="__sak";class Si{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Kl,"1"),this.storage.removeItem(Kl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ac=(()=>{class y extends Si{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,b)=>this.onStorageEvent(g,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $a(){const y=(0,x.z$)();return rt(y)||Ft(y)}()&&function Vu(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wh(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const b of Object.keys(this.listeners)){const I=this.storage.getItem(b),R=this.localCache[b];I!==R&&g(b,R,I)}}onStorageEvent(g,b=!1){if(!g.key)return void this.forAllChangedKeys((le,He,st)=>{this.notifyListeners(le,st)});const I=g.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(I);if(g.newValue!==le)null!==g.newValue?this.storage.setItem(I,g.newValue):this.storage.removeItem(I);else if(this.localCache[I]===g.newValue&&!b)return}const R=()=>{const le=this.storage.getItem(I);!b&&this.localCache[I]===le||this.notifyListeners(I,le)},Z=this.storage.getItem(I);!function Ol(){return(0,x.w1)()&&10===document.documentMode}()||Z===g.newValue||g.newValue===g.oldValue?R():setTimeout(R,10)}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const R of Array.from(I))R(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,b,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:b,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,b){var I=()=>super._set,R=this;return(0,a.Z)(function*(){yield I().call(R,g,b),R.localCache[g]=JSON.stringify(b)})()}_get(g){var b=()=>super._get,I=this;return(0,a.Z)(function*(){const R=yield b().call(I,g);return I.localCache[g]=JSON.stringify(R),R})()}_remove(g){var b=()=>super._remove,I=this;return(0,a.Z)(function*(){yield b().call(I,g),delete I.localCache[g]})()}}return y.type="LOCAL",y})(),Ci=(()=>{class y extends Si{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,b){}_removeListener(g,b){}}return y.type="SESSION",y})();let Xh=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const b=this.receivers.find(R=>R.isListeningto(g));if(b)return b;const I=new y(g);return this.receivers.push(I),I}isListeningto(g){return this.eventTarget===g}handleEvent(g){var b=this;return(0,a.Z)(function*(){const I=g,{eventId:R,eventType:Z,data:le}=I.data,He=b.handlersMap[Z];if(!He?.size)return;I.ports[0].postMessage({status:"ack",eventId:R,eventType:Z});const st=Array.from(He).map(function(){var gt=(0,a.Z)(function*(ur){return ur(I.origin,le)});return function(ur){return gt.apply(this,arguments)}}()),bt=yield function lc(y){return Promise.all(y.map(function(){var f=(0,a.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(b){return{fulfilled:!1,reason:b}}});return function(g){return f.apply(this,arguments)}}()))}(st);I.ports[0].postMessage({status:"done",eventId:R,eventType:Z,response:bt})})()}_subscribe(g,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(b)}_unsubscribe(g,b){this.handlersMap[g]&&b&&this.handlersMap[g].delete(b),(!b||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function rs(y="",f=10){let g="";for(let b=0;b<f;b++)g+=Math.floor(10*Math.random());return y+g}class ta{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,b=50){var I=this;return(0,a.Z)(function*(){const R=typeof MessageChannel<"u"?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let Z,le;return new Promise((He,st)=>{const bt=rs("",20);R.port1.start();const gt=setTimeout(()=>{st(new Error("unsupported_event"))},b);le={messageChannel:R,onMessage(ur){const ss=ur;if(ss.data.eventId===bt)switch(ss.data.status){case"ack":clearTimeout(gt),Z=setTimeout(()=>{st(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),He(ss.data.response);break;default:clearTimeout(gt),clearTimeout(Z),st(new Error("invalid_response"))}}},I.handlers.add(le),R.port1.addEventListener("message",le.onMessage),I.target.postMessage({eventType:f,eventId:bt,data:g},[R.port2])}).finally(()=>{le&&I.removeMessageHandler(le)})})()}}function Dn(){return window}function So(){return typeof Dn().WorkerGlobalScope<"u"&&"function"==typeof Dn().importScripts}function na(){return(na=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const za="firebaseLocalStorageDb",ia=1,cc="firebaseLocalStorage",sa="fbase_key";class Co{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ws(y,f){return y.transaction([cc],f?"readwrite":"readonly").objectStore(cc)}function Wa(){const y=indexedDB.open(za,ia);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const b=y.result;try{b.createObjectStore(cc,{keyPath:sa})}catch(I){g(I)}}),y.addEventListener("success",(0,a.Z)(function*(){const b=y.result;b.objectStoreNames.contains(cc)?f(b):(b.close(),yield function Ii(){const y=indexedDB.deleteDatabase(za);return new Co(y).toPromise()}(),f(yield Wa()))}))})}function oa(y,f,g){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,a.Z)(function*(y,f,g){const b=Ws(y,!0).put({[sa]:f,value:g});return new Co(b).toPromise()})).apply(this,arguments)}function qs(){return(qs=(0,a.Z)(function*(y,f){const g=Ws(y,!1).get(f),b=yield new Co(g).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function aa(y,f){const g=Ws(y,!0).delete(f);return new Co(g).toPromise()}const ys=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,a.Z)(function*(){return g.db||(g.db=yield Wa()),g.db})()}_withRetries(g){var b=this;return(0,a.Z)(function*(){let I=0;for(;;)try{const R=yield b._openDb();return yield g(R)}catch(R){if(I++>3)throw R;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,a.Z)(function*(){return So()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,a.Z)(function*(){g.receiver=Xh._getInstance(function ra(){return So()?self:null}()),g.receiver._subscribe("keyChanged",function(){var b=(0,a.Z)(function*(I,R){return{keyProcessed:(yield g._poll()).includes(R.key)}});return function(I,R){return b.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var b=(0,a.Z)(function*(I,R){return["keyChanged"]});return function(I,R){return b.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,a.Z)(function*(){var b,I;if(g.activeServiceWorker=yield function uc(){return na.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ta(g.activeServiceWorker);const R=yield g.sender._send("ping",{},800);R&&null!==(b=R[0])&&void 0!==b&&b.fulfilled&&null!==(I=R[0])&&void 0!==I&&I.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var b=this;return(0,a.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function ef(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:g},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Wa();return yield oa(g,Kl,"1"),yield aa(g,Kl),!0}catch{}return!1})()}_withPendingWrite(g){var b=this;return(0,a.Z)(function*(){b.pendingWrites++;try{yield g()}finally{b.pendingWrites--}})()}_set(g,b){var I=this;return(0,a.Z)(function*(){return I._withPendingWrite((0,a.Z)(function*(){return yield I._withRetries(R=>oa(R,g,b)),I.localCache[g]=b,I.notifyServiceWorker(g)}))})()}_get(g){var b=this;return(0,a.Z)(function*(){const I=yield b._withRetries(R=>function Yl(y,f){return qs.apply(this,arguments)}(R,g));return b.localCache[g]=I,I})()}_remove(g){var b=this;return(0,a.Z)(function*(){return b._withPendingWrite((0,a.Z)(function*(){return yield b._withRetries(I=>aa(I,g)),delete b.localCache[g],b.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,a.Z)(function*(){const b=yield g._withRetries(Z=>{const le=Ws(Z,!1).getAll();return new Co(le).toPromise()});if(!b)return[];if(0!==g.pendingWrites)return[];const I=[],R=new Set;for(const{fbase_key:Z,value:le}of b)R.add(Z),JSON.stringify(g.localCache[Z])!==JSON.stringify(le)&&(g.notifyListeners(Z,le),I.push(Z));for(const Z of Object.keys(g.localCache))g.localCache[Z]&&!R.has(Z)&&(g.notifyListeners(Z,null),I.push(Z));return I})()}notifyListeners(g,b){this.localCache[g]=b;const I=this.listeners[g];if(I)for(const R of Array.from(I))R(b)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(b)}_removeListener(g,b){this.listeners[g]&&(this.listeners[g].delete(b),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ao(){return(Ao=(0,a.Z)(function*(y){return(yield Mt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Jl(y){return new Promise((f,g)=>{const b=document.createElement("script");b.setAttribute("src",y),b.onload=f,b.onerror=I=>{const R=ve("internal-error");R.customData=I,g(R)},b.type="text/javascript",b.charset="UTF-8",function Sd(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(b)})}function Br(y){return`__${y}${Math.floor(1e6*Math.random())}`}const la=1e12;class Id{constructor(f){this.auth=f,this.counter=la,this._widgets=new Map}render(f,g){const b=this.counter;return this._widgets.set(b,new Ad(f,this.auth.name,g||{})),this.counter++,b}reset(f){var g;const b=f||la;null===(g=this._widgets.get(b))||void 0===g||g.delete(),this._widgets.delete(b)}getResponse(f){var g;return(null===(g=this._widgets.get(f||la))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,a.Z)(function*(){var b;return null===(b=g._widgets.get(f||la))||void 0===b||b.execute(),""})()}}class Ad{constructor(f,g,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof f?document.getElementById(f):f;V(I,"argument-error",{appName:g}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xl(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<y;b++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ks=Br("rcb"),Mo=new et(3e4,6e4);class Og{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=Dn().grecaptcha)||void 0===f||!f.render)}load(f,g=""){return V(function Md(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(Dn().grecaptcha):new Promise((b,I)=>{const R=Dn().setTimeout(()=>{I(ve(f,"network-request-failed"))},Mo.get());Dn()[Ks]=()=>{Dn().clearTimeout(R),delete Dn()[Ks];const le=Dn().grecaptcha;if(!le)return void I(ve(f,"internal-error"));const He=le.render;le.render=(st,bt)=>{const gt=He(st,bt);return this.counter++,gt},this.hostLanguage=g,b(le)},Jl(`https://www.google.com/recaptcha/api.js??${(0,x.xO)({onload:Ks,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(R),I(ve(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var g;return!(null===(g=Dn().grecaptcha)||void 0===g||!g.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ua{load(f){return(0,a.Z)(function*(){return new Id(f)})()}clearedOneInstance(){}}const rf="recaptcha",Ys={theme:"light",type:"image"};class bn{constructor(f,g=Object.assign({},Ys),b){this.parameters=g,this.type=rf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Vn(b),this.isInvisible="invisible"===this.parameters.size,V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof f?document.getElementById(f):f;V(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ua:new Og,this.validateStartingState()}verify(){var f=this;return(0,a.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(g)||new Promise(R=>{const Z=le=>{le&&(f.tokenChangeListeners.delete(Z),R(le))};f.tokenChangeListeners.add(Z),f.isInvisible&&b.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(b=>b(g)),"function"==typeof f)f(g);else if("string"==typeof f){const b=Dn()[f];"function"==typeof b&&b(g)}}}assertNotDestroyed(){V(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,a.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const b=document.createElement("div");g.appendChild(b),g=b}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,a.Z)(function*(){V(ye()&&!So(),f.auth,"internal-error"),yield function sf(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function Io(y){return Ao.apply(this,arguments)}(f.auth);V(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ka{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=gs._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function lf(){return(lf=(0,a.Z)(function*(y,f,g){const b=Vn(y),I=yield cf(b,f,(0,x.m9)(g));return new Ka(I,R=>an(b,R))})).apply(this,arguments)}function uf(){return(uf=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y);yield Ko(!1,b,"phone");const I=yield cf(b.auth,f,(0,x.m9)(g));return new Ka(I,R=>La(b,R))})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y),I=yield cf(b.auth,f,(0,x.m9)(g));return new Ka(I,R=>Gl(b,R))})).apply(this,arguments)}function cf(y,f,g){return df.apply(this,arguments)}function df(){return df=(0,a.Z)(function*(y,f,g){var b;const I=yield g.verify();try{let R;if(V("string"==typeof I,y,"argument-error"),V(g.type===rf,y,"argument-error"),R="string"==typeof f?{phoneNumber:f}:f,"session"in R){const Z=R.session;if("phoneNumber"in R)return V("enroll"===Z.type,y,"internal-error"),(yield function di(y,f){return Mt(y,"POST","/v2/accounts/mfaEnrollment:start",nt(y,f))}(y,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{V("signin"===Z.type,y,"internal-error");const le=(null===(b=R.multiFactorHint)||void 0===b?void 0:b.uid)||R.multiFactorUid;return V(le,y,"missing-multi-factor-info"),(yield function Ed(y,f){return Mt(y,"POST","/v2/accounts/mfaSignIn:start",nt(y,f))}(y,{mfaPendingCredential:Z.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function $u(y,f){return kl.apply(this,arguments)}(y,{phoneNumber:R.phoneNumber,recaptchaToken:I});return Z}}finally{g._reset()}}),df.apply(this,arguments)}function Ya(){return(Ya=(0,a.Z)(function*(y,f){yield ka((0,x.m9)(y),f)})).apply(this,arguments)}let vs=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Vn(g)}verifyPhoneNumber(g,b){return cf(this.auth,g,(0,x.m9)(b))}static credential(g,b){return gs._fromVerification(g,b)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:b,temporaryProof:I}=g;return b&&I?gs._fromTokenResponse(b,I):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function da(y,f){return f?vt(f):(V(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ur extends sr{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Gn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Gn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Gn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function Qs(y){return Hs(y.auth,new Ur(y),y.bypassAuthState)}function hc(y){const{auth:f,user:g}=y;return V(g,f,"internal-error"),Ku(g,new Ur(y),y.bypassAuthState)}function Qa(y){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(y){const{auth:f,user:g}=y;return V(g,f,"internal-error"),ka(g,new Ur(y),y.bypassAuthState)})).apply(this,arguments)}class fc{constructor(f,g,b,I,R=!1){this.auth=f,this.resolver=b,this.user=I,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,a.Z)(function*(b,I){f.pendingPromise={resolve:b,reject:I};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(R){f.reject(R)}});return function(b,I){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,a.Z)(function*(){const{urlResponse:b,sessionId:I,postBody:R,tenantId:Z,error:le,type:He}=f;if(le)return void g.reject(le);const st={auth:g.auth,requestUri:b,sessionId:I,tenantId:Z||void 0,postBody:R||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(He)(st))}catch(bt){g.reject(bt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return Qs;case"linkViaPopup":case"linkViaRedirect":return Qa;case"reauthViaPopup":case"reauthViaRedirect":return hc;default:we(this.auth,"internal-error")}}resolve(f){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){ke(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hf=new et(2e3,1e4);function xg(){return(xg=(0,a.Z)(function*(y,f,g){const b=Vn(y);Ve(y,f,ms);const I=da(b,g);return new mn(b,"signInViaPopup",f,I).executeNotNull()})).apply(this,arguments)}function Ai(){return(Ai=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y);Ve(b.auth,f,ms);const I=da(b.auth,g);return new mn(b.auth,"reauthViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y);Ve(b.auth,f,ms);const I=da(b.auth,g);return new mn(b.auth,"linkViaPopup",f,I,b).executeNotNull()})).apply(this,arguments)}let mn=(()=>{class y extends fc{constructor(g,b,I,R,Z){super(g,b,R,Z),this.provider=I,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,a.Z)(function*(){const b=yield g.execute();return V(b,g.auth,"internal-error"),b})()}onExecution(){var g=this;return(0,a.Z)(function*(){ke(1===g.filter.length,"Popup operations only handle one event");const b=rs();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],b),g.authWindow.associatedEvent=b,g.resolver._originValidation(g.auth).catch(I=>{g.reject(I)}),g.resolver._isIframeWebStorageSupported(g.auth,I=>{I||g.reject(ve(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var b,I;this.pollId=null!==(I=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==I&&I.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,hf.get())};g()}}return y.currentPopupAction=null,y})();const ff="pendingRedirect",Xs=new Map;class Nn extends fc{constructor(f,g,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,a.Z)(function*(){let b=Xs.get(g.auth._key());if(!b){try{const R=(yield function pf(y,f){return bs.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;b=()=>Promise.resolve(R)}catch(I){b=()=>Promise.reject(I)}Xs.set(g.auth._key(),b)}return g.bypassAuthState||Xs.set(g.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,b=this;return(0,a.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(b,f);if("unknown"!==f.type){if(f.eventId){const I=yield b.auth._redirectUserForId(f.eventId);if(I)return b.user=I,g().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function bs(){return(bs=(0,a.Z)(function*(y,f){const g=ct(f),b=Vi(y);if(!(yield b._isAvailable()))return!1;const I="true"===(yield b._get(g));return yield b._remove(g),I})).apply(this,arguments)}function pc(y,f){return eu.apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(y,f){return Vi(y)._set(ct(f),"true")})).apply(this,arguments)}function Ja(y,f){Xs.set(y._key(),f)}function Vi(y){return vt(y._redirectPersistence)}function ct(y){return U(ff,y.config.apiKey,y.name)}function S(y,f,g){return function C(y,f,g){return N.apply(this,arguments)}(y,f,g)}function N(){return(N=(0,a.Z)(function*(y,f,g){const b=Vn(y);Ve(y,f,ms),yield b._initializationPromise;const I=da(b,g);return yield pc(I,b),I._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function B(y,f,g){return function $(y,f,g){return te.apply(this,arguments)}(y,f,g)}function te(){return(te=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y);Ve(b.auth,f,ms),yield b.auth._initializationPromise;const I=da(b.auth,g);yield pc(I,b.auth);const R=yield jn(b);return I._openRedirect(b.auth,f,"reauthViaRedirect",R)})).apply(this,arguments)}function Me(y,f,g){return function dt(y,f,g){return ht.apply(this,arguments)}(y,f,g)}function ht(){return(ht=(0,a.Z)(function*(y,f,g){const b=(0,x.m9)(y);Ve(b.auth,f,ms),yield b.auth._initializationPromise;const I=da(b.auth,g);yield Ko(!1,b,f.providerId),yield pc(I,b.auth);const R=yield jn(b);return I._openRedirect(b.auth,f,"linkViaRedirect",R)})).apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(y,f){return yield Vn(y)._initializationPromise,Ct(y,f,!1)})).apply(this,arguments)}function Ct(y,f){return yn.apply(this,arguments)}function yn(){return(yn=(0,a.Z)(function*(y,f,g=!1){const b=Vn(y),I=da(b,f),Z=yield new Nn(b,I,g).execute();return Z&&!g&&(delete Z.user._redirectEventId,yield b._persistUserIfCurrent(Z.user),yield b._setRedirectUser(null,f)),Z})).apply(this,arguments)}function jn(y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,a.Z)(function*(y){const f=rs(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Gi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(g=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Ln(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hi(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var b;if(f.error&&!hi(f)){const I=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";g.onError(ve(this.auth,I))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const b=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($n(f))}saveEventToCache(f){this.cachedEventUids.add($n(f)),this.lastProcessedEventTime=Date.now()}}function $n(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function hi({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===f?.code}function Nd(y){return tu.apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(y,f={}){return Mt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const On=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,En=/^https?/;function hn(){return(hn=(0,a.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield Nd(y);for(const g of f)try{if(Vr(g))return}catch{}we(y,"unauthorized-domain")})).apply(this,arguments)}function Vr(y){const f=de(),{protocol:g,hostname:b}=new URL(f);if(y.startsWith("chrome-extension://")){const Z=new URL(y);return""===Z.hostname&&""===b?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&Z.hostname===b}if(!En.test(g))return!1;if(On.test(y))return b===y;const I=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(b)}const ru=new et(3e4,6e4);function kg(){const y=Dn().___jsl;if(y?.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Mi=null;const Er=new et(5e3,15e3),el="__/auth/iframe",Pb="emulator/auth/iframe",Od={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mf(y){const f=y.config;V(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?Je(f,Pb):`https://${y.config.authDomain}/${el}`,b={apiKey:f.apiKey,appName:y.name,v:ne.SDK_VERSION},I=gf.get(y.config.apiHost);I&&(b.eid=I);const R=y._getFrameworks();return R.length&&(b.fw=R.join(",")),`${g}?${(0,x.xO)(b).slice(1)}`}function gc(){return gc=(0,a.Z)(function*(y){const f=yield function iu(y){return Mi=Mi||function Rb(y){return new Promise((f,g)=>{var b,I,R;function Z(){kg(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{kg(),g(ve(y,"network-request-failed"))},timeout:ru.get()})}if(null!==(I=null===(b=Dn().gapi)||void 0===b?void 0:b.iframes)&&void 0!==I&&I.Iframe)f(gapi.iframes.getContext());else{if(null===(R=Dn().gapi)||void 0===R||!R.load){const le=Br("iframefcb");return Dn()[le]=()=>{gapi.load?Z():g(ve(y,"network-request-failed"))},Jl(`https://apis.google.com/js/api.js?onload=${le}`).catch(He=>g(He))}Z()}}).catch(f=>{throw Mi=null,f})}(y),Mi}(y),g=Dn().gapi;return V(g,y,"internal-error"),f.open({where:document.body,url:mf(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Od,dontclear:!0},b=>new Promise(function(){var I=(0,a.Z)(function*(R,Z){yield b.restyle({setHideOnLeave:!1});const le=ve(y,"network-request-failed"),He=Dn().setTimeout(()=>{Z(le)},Er.get());function st(){Dn().clearTimeout(He),R(b)}b.ping(st).then(st,()=>{Z(le)})});return function(R,Z){return I.apply(this,arguments)}}()))}),gc.apply(this,arguments)}const Rd={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Bt=500,Ni=600,J_="_blank",su="http://localhost";class Fg{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Bg="__/auth/handler",Ug="emulator/auth/handler";function Pd(y,f,g,b,I,R){V(y.config.authDomain,y,"auth-domain-config-required"),V(y.config.apiKey,y,"invalid-api-key");const Z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:b,v:ne.SDK_VERSION,eventId:I};if(f instanceof ms){f.setDefaultLanguage(y.languageCode),Z.providerId=f.providerId||"",(0,x.xb)(f.getCustomParameters())||(Z.customParameters=JSON.stringify(f.getCustomParameters()));for(const[He,st]of Object.entries(R||{}))Z[He]=st}if(f instanceof vo){const He=f.getScopes().filter(st=>""!==st);He.length>0&&(Z.scopes=He.join(","))}y.tenantId&&(Z.tid=y.tenantId);const le=Z;for(const He of Object.keys(le))void 0===le[He]&&delete le[He];return`${function X_({config:y}){return y.emulator?Je(y,Ug):`https://${y.authDomain}/${Bg}`}(y)}?${(0,x.xO)(le).slice(1)}`}const br="webStorageSupport",Sr=class fa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ci,this._completeRedirectFn=Ct,this._overrideRedirectResult=Ja}_openPopup(f,g,b,I){var R=this;return(0,a.Z)(function*(){var Z;ke(null===(Z=R.eventManagers[f._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const le=Pd(f,g,b,de(),I);return function Lg(y,f,g,b=Bt,I=Ni){const R=Math.max((window.screen.availHeight-I)/2,0).toString(),Z=Math.max((window.screen.availWidth-b)/2,0).toString();let le="";const He=Object.assign(Object.assign({},Rd),{width:b.toString(),height:I.toString(),top:R,left:Z}),st=(0,x.z$)().toLowerCase();g&&(le=Ye(st)?J_:g),X(st)&&(f=f||su,He.scrollbars="yes");const bt=Object.entries(He).reduce((ur,[ss,ll])=>`${ur}${ss}=${ll},`,"");if(function Ji(y=(0,x.z$)()){var f;return Ft(y)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(st)&&"_self"!==le)return function is(y,f){const g=document.createElement("a");g.href=y,g.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(b)}(f||"",le),new Fg(null);const gt=window.open(f||"",le,bt);V(gt,y,"popup-blocked");try{gt.focus()}catch{}return new Fg(gt)}(f,le,rs())})()}_openRedirect(f,g,b,I){var R=this;return(0,a.Z)(function*(){return yield R._originValidation(f),function zs(y){Dn().location.href=y}(Pd(f,g,b,de(),I)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:I,promise:R}=this.eventManagers[g];return I?Promise.resolve(I):(ke(R,"If manager is not set, promise should be"),R)}const b=this.initAndGetManager(f);return this.eventManagers[g]={promise:b},b.catch(()=>{delete this.eventManagers[g]}),b}initAndGetManager(f){var g=this;return(0,a.Z)(function*(){const b=yield function _f(y){return gc.apply(this,arguments)}(f),I=new Gi(f);return b.register("authEvent",R=>(V(R?.authEvent,f,"invalid-auth-event"),{status:I.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:I},g.iframes[f._key()]=b,I})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(br,{type:br},I=>{var R;const Z=null===(R=I?.[0])||void 0===R?void 0:R[br];void 0!==Z&&g(!!Z),we(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function nu(y){return hn.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return Wh()||rt()||Ft()}};class yf{constructor(f){this.factorId=f}_process(f,g,b){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,b);case"signin":return this._finalizeSignIn(f,g.credential);default:return _e("unexpected MultiFactorSessionType")}}}class mc extends yf{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new mc(f)}_finalizeEnroll(f,g,b){return function Ig(y,f){return Mt(y,"POST","/v2/accounts/mfaEnrollment:finalize",nt(y,f))}(f,{idToken:g,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function Ui(y,f){return Mt(y,"POST","/v2/accounts/mfaSignIn:finalize",nt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xd=(()=>{class y{constructor(){}static assertion(g){return mc._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var bf="@firebase/auth";class ga{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,a.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);g&&(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function rl(){return window}(0,x.Pz)("authIdTokenMaxAge"),function _c(y){(0,ne._registerComponent)(new fe.wA("auth",(f,{options:g})=>{const b=f.getProvider("app").getImmediate(),I=f.getProvider("heartbeat"),{apiKey:R,authDomain:Z}=b.options;return((le,He)=>{V(R&&!R.includes(":"),"invalid-api-key",{appName:le.name}),V(!Z?.includes(":"),"argument-error",{appName:le.name});const st={apiKey:R,authDomain:Z,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rl(y)},bt=new Zh(le,He,st);return function se(y,f){const g=f?.persistence||[],b=(Array.isArray(g)?g:[g]).map(vt);f?.errorMap&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(b,f?.popupRedirectResolver)}(bt,g),bt})(b,I)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,b)=>{f.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new fe.wA("auth-internal",f=>{const g=Vn(f.getProvider("auth").getImmediate());return new ga(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(bf,"0.22.0",function Kt(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ne.registerVersion)(bf,"0.22.0","esm2017")}("Browser");const ma=2e3;function Fd(){return Fd=(0,a.Z)(function*(y,f,g){var b;const{BuildInfo:I}=rl();ke(f.sessionId,"AuthEvent did not contain a session ID");const R=yield function e0(y){return bc.apply(this,arguments)}(f.sessionId),Z={};return Ft()?Z.ibi=I.packageName:kn()?Z.apn=I.packageName:we(y,"operation-not-supported-in-this-environment"),I.displayName&&(Z.appDisplayName=I.displayName),Z.sessionId=R,Pd(y,g,f.type,void 0,null!==(b=f.eventId)&&void 0!==b?b:void 0,Z)}),Fd.apply(this,arguments)}function vc(){return(vc=(0,a.Z)(function*(y){const{BuildInfo:f}=rl(),g={};Ft()?g.iosBundleId=f.packageName:kn()?g.androidPackageName=f.packageName:we(y,"operation-not-supported-in-this-environment"),yield Nd(y,g)})).apply(this,arguments)}function uu(){return(uu=(0,a.Z)(function*(y,f,g){const{cordova:b}=rl();let I=()=>{};try{yield new Promise((R,Z)=>{let le=null;function He(){var gt;R();const ur=null===(gt=b.plugins.browsertab)||void 0===gt?void 0:gt.close;"function"==typeof ur&&ur(),"function"==typeof g?.close&&g.close()}function st(){le||(le=window.setTimeout(()=>{Z(ve(y,"redirect-cancelled-by-user"))},ma))}function bt(){"visible"===document?.visibilityState&&st()}f.addPassiveListener(He),document.addEventListener("resume",st,!1),kn()&&document.addEventListener("visibilitychange",bt,!1),I=()=>{f.removePassiveListener(He),document.removeEventListener("resume",st,!1),document.removeEventListener("visibilitychange",bt,!1),le&&window.clearTimeout(le)}})}finally{I()}})).apply(this,arguments)}function bc(){return(bc=(0,a.Z)(function*(y){const f=function t0(y){if(ke(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let b=0;b<y.length;b++)g[b]=y.charCodeAt(b);return g}(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Bd=20;class n0 extends Gi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,a.Z)(function*(){yield f.initPromise})()}}function Hg(y){return Ud.apply(this,arguments)}function Ud(){return(Ud=(0,a.Z)(function*(y){const f=yield Dc()._get(Oo(y));return f&&(yield Dc()._remove(Oo(y))),f})).apply(this,arguments)}function wc(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<Bd;g++){const b=Math.floor(Math.random()*f.length);y.push(f.charAt(b))}return y.join("")}function Dc(){return vt(ac)}function Oo(y){return U("authEvent",y.config.apiKey,y.name)}function cu(y){if(!y?.includes("?"))return{};const[f,...g]=y.split("?");return(0,x.zd)(g.join("?"))}const du=class jg{constructor(){this._redirectPersistence=Ci,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ct,this._overrideRedirectResult=Ja}_initialize(f){var g=this;return(0,a.Z)(function*(){const b=f._key();let I=g.eventManagers.get(b);return I||(I=new n0(f),g.eventManagers.set(b,I),g.attachCallbackListeners(f,I)),I})()}_openPopup(f){we(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,b,I){var R=this;return(0,a.Z)(function*(){!function Tf(y){var f,g,b,I,R,Z,le,He,st,bt;const gt=rl();V("function"==typeof(null===(f=gt?.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V(typeof(null===(g=gt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"==typeof(null===(R=null===(I=null===(b=gt?.cordova)||void 0===b?void 0:b.plugins)||void 0===I?void 0:I.browsertab)||void 0===R?void 0:R.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(He=null===(le=null===(Z=gt?.cordova)||void 0===Z?void 0:Z.plugins)||void 0===le?void 0:le.browsertab)||void 0===He?void 0:He.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"==typeof(null===(bt=null===(st=gt?.cordova)||void 0===st?void 0:st.InAppBrowser)||void 0===bt?void 0:bt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const Z=yield R._initialize(f);yield Z.initialized(),Z.resetRedirect(),function ha(){Xs.clear()}(),yield R._originValidation(f);const le=function r0(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:wc(),postBody:null,tenantId:y.tenantId,error:ve(y,"no-auth-event")}}(f,b,I);yield function s0(y,f){return Dc()._set(Oo(y),f)}(f,le);const He=yield function yc(y,f,g){return Fd.apply(this,arguments)}(f,le,g),st=yield function Ld(y){const{cordova:f}=rl();return new Promise(g=>{f.plugins.browsertab.isAvailable(b=>{let I=null;b?f.plugins.browsertab.openUrl(y):I=f.InAppBrowser.open(y,function Kr(y=(0,x.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(I)})})}(He);return function No(y,f,g){return uu.apply(this,arguments)}(f,Z,st)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function lu(y){return vc.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:b,handleOpenURL:I,BuildInfo:R}=rl(),Z=setTimeout((0,a.Z)(function*(){yield Hg(f),g.onEvent(hu())}),500),le=function(){var bt=(0,a.Z)(function*(gt){clearTimeout(Z);const ur=yield Hg(f);let ss=null;ur&&gt?.url&&(ss=function Tc(y,f){var g,b;const I=function o0(y){const f=cu(y),g=f.link?decodeURIComponent(f.link):void 0,b=cu(g).link,I=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return cu(I).link||I||b||g||y}(f);if(I.includes("/__/auth/callback")){const R=cu(I),Z=R.firebaseError?function wf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(R.firebaseError)):null,le=null===(b=null===(g=Z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===b?void 0:b[1],He=le?ve(le):null;return He?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:He,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:I,postBody:null}}return null}(ur,gt.url)),g.onEvent(ss||hu())});return function(ur){return bt.apply(this,arguments)}}();typeof b<"u"&&"function"==typeof b.subscribe&&b.subscribe(null,le);const He=I,st=`${R.packageName.toLowerCase()}://`;rl().handleOpenURL=function(){var bt=(0,a.Z)(function*(gt){if(gt.toLowerCase().startsWith(st)&&le({url:gt}),"function"==typeof He)try{He(gt)}catch(ur){console.error(ur)}});return function(gt){return bt.apply(this,arguments)}}()}};function hu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ve("no-auth-event")}}const Df=1e3;function Ts(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Vd(y=(0,x.z$)()){return!("file:"!==Ts()&&"ionic:"!==Ts()&&"capacitor:"!==Ts()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Hd(){try{const y=self.localStorage,f=rs();if(y)return y.setItem(f,"1"),y.removeItem(f),!function il(y=(0,x.z$)()){return function Gd(){return(0,x.w1)()&&11===document?.documentMode}()||function fu(y=(0,x.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,x.hl)()}catch{return sl()&&(0,x.hl)()}return!1}function sl(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Cc(){return(function zg(){return"http:"===Ts()||"https:"===Ts()}()||(0,x.ru)()||Vd())&&!function Ef(){return(0,x.b$)()||(0,x.UG)()}()&&Hd()&&!sl()}function ol(){return Vd()&&typeof document<"u"}function ya(){return(ya=(0,a.Z)(function*(){return!!ol()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},Df);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const pi={LOCAL:"local",NONE:"none",SESSION:"session"},ws=V,pu="persistence";function va(y){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,a.Z)(function*(y){yield y._initializationPromise;const f=Zg(),g=U(pu,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function Zg(){var y;try{return(null===(y=function eo(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const a0=V;class al{constructor(){this.browserResolver=vt(Sr),this.cordovaResolver=vt(du),this.underlyingResolver=null,this._redirectPersistence=Ci,this._completeRedirectFn=Ct,this._overrideRedirectResult=Ja}_initialize(f){var g=this;return(0,a.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,b,I){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openPopup(f,g,b,I)})()}_openRedirect(f,g,b,I){var R=this;return(0,a.Z)(function*(){return yield R.selectUnderlyingResolver(),R.assertedUnderlyingResolver._openRedirect(f,g,b,I)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return ol()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a0(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,a.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Wg(){return ya.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function qg(y){return y.unwrap()}function l0(y){return Mc(y)}function Mc(y){const{_tokenResponse:f}=y instanceof x.ZR?y.customData:y;if(!f)return null;if(!(y instanceof x.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return vs.credentialFromResult(y);const g=f.providerId;if(!g||g===ue.PASSWORD)return null;let b;switch(g){case ue.GOOGLE:b=qh;break;case ue.FACEBOOK:b=zu;break;case ue.GITHUB:b=dd;break;case ue.TWITTER:b=bg;break;default:const{oauthIdToken:I,oauthAccessToken:R,oauthTokenSecret:Z,pendingToken:le,nonce:He}=f;return R||Z||I||le?le?g.startsWith("saml.")?Zo._create(g,le):ps._fromParams({providerId:g,signInMethod:g,pendingToken:le,idToken:I,accessToken:R}):new Wo(g).credential({idToken:I,accessToken:R,rawNonce:He}):null}return y instanceof x.ZR?b.credentialFromError(y):b.credentialFromResult(y)}function Xr(y,f){return f.catch(g=>{throw g instanceof x.ZR&&function Kg(y,f){var g;const b=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f?.code)f.resolver=new Yg(y,function Cg(y,f){var g;const b=(0,x.m9)(y),I=f;return V(f.customData.operationType,b,"argument-error"),V(null===(g=I.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,b,"argument-error"),Qn._fromError(b,I)}(y,f));else if(b){const I=Mc(f),R=f;I&&(R.credential=I,R.tenantId=b.tenantId||void 0,R.email=b.email||void 0,R.phoneNumber=b.phoneNumber||void 0)}}(y,g),g}).then(g=>{const I=g.user;return{operationType:g.operationType,credential:l0(g),additionalUserInfo:Dg(g),user:to.getOrCreate(I)}})}function Nc(y,f){return jd.apply(this,arguments)}function jd(){return(jd=(0,a.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:b=>Xr(y,g.confirm(b))}})).apply(this,arguments)}class Yg{constructor(f,g){this.resolver=g,this.auth=function Sf(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Xr(qg(this.auth),this.resolver.resolveSignIn(f))}}class to{constructor(f){this._delegate=f,this.multiFactor=function $s(y){const f=(0,x.m9)(y);return Eo.has(f)||Eo.set(f,ea._fromUser(f)),Eo.get(f)}(f)}static getOrCreate(f){return to.USER_MAP.has(f)||to.USER_MAP.set(f,new to(f)),to.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,a.Z)(function*(){return Xr(g.auth,La(g._delegate,f))})()}linkWithPhoneNumber(f,g){var b=this;return(0,a.Z)(function*(){return Nc(b.auth,function Q_(y,f,g){return uf.apply(this,arguments)}(b._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,a.Z)(function*(){return Xr(g.auth,function it(y,f,g){return Jt.apply(this,arguments)}(g._delegate,f,al))})()}linkWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield va(Vn(g.auth)),Me(g._delegate,f,al)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,a.Z)(function*(){return Xr(g.auth,Gl(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Nc(this.auth,function Rg(y,f,g){return ca.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Xr(this.auth,function jt(y,f,g){return Ai.apply(this,arguments)}(this._delegate,f,al))}reauthenticateWithRedirect(f){var g=this;return(0,a.Z)(function*(){return yield va(Vn(g.auth)),B(g._delegate,f,al)})()}sendEmailVerification(f){return function _d(y,f){return zl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,a.Z)(function*(){return yield function hd(y,f){return wo.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Wl(y,f){return vd((0,x.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function yd(y,f){return vd((0,x.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function lr(y,f){return Ya.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function Ha(y,f){return Ei.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function ec(y,f,g){return Hn.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}to.USER_MAP=new WeakMap;const Oc=V;let Qg=(()=>{class y{constructor(g,b){if(this.app=g,b.isInitialized())return this._delegate=b.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=g.options;Oc(I,"invalid-api-key",{appName:g.name}),Oc(I,"invalid-api-key",{appName:g.name});const R=typeof window<"u"?al:void 0;this._delegate=b.initialize({options:{persistence:If(I,g.name),popupRedirectResolver:R}}),this._delegate._updateErrorMap(qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?to.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,b){!function Hu(y,f,g){const b=Vn(y);V(b._canInitEmulator,b,"emulator-config-failed"),V(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const I=!!g?.disableWarnings,R=nn(f),{host:Z,port:le}=function Yn(y){const f=nn(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const b=g[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(b);if(I){const R=I[1];return{host:R,port:_r(b.substr(R.length+1))}}{const[R,Z]=b.split(":");return{host:R,port:_r(Z)}}}(f);b.config.emulator={url:`${R}//${Z}${null===le?"":`:${le}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:Z,port:le,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function Vs(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,b)}applyActionCode(g){return function pd(y,f){return Hl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return gd(this._delegate,g)}confirmPasswordReset(g,b){return function Ju(y,f,g){return Ot.apply(this,arguments)}(this._delegate,g,b)}createUserWithEmailAndPassword(g,b){var I=this;return(0,a.Z)(function*(){return Xr(I._delegate,function Yh(y,f,g){return Mn.apply(this,arguments)}(I._delegate,g,b))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function md(y,f){return Xo.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Qh(y,f){return"EMAIL_SIGNIN"===Fr.parseLink(f)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,a.Z)(function*(){Oc(Cc(),g._delegate,"operation-not-supported-in-this-environment");const b=yield function _t(y,f){return qt.apply(this,arguments)}(g._delegate,al);return b?Xr(g._delegate,Promise.resolve(b)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Ec(y,f){Vn(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,b,I){const{next:R,error:Z,complete:le}=Cf(g,b,I);return this._delegate.onAuthStateChanged(R,Z,le)}onIdTokenChanged(g,b,I){const{next:R,error:Z,complete:le}=Cf(g,b,I);return this._delegate.onIdTokenChanged(R,Z,le)}sendSignInLinkToEmail(g,b){return function sn(y,f,g){return $l.apply(this,arguments)}(this._delegate,g,b)}sendPasswordResetEmail(g,b){return function _s(y,f,g){return Qo.apply(this,arguments)}(this._delegate,g,b||void 0)}setPersistence(g){var b=this;return(0,a.Z)(function*(){let I;switch(function Ic(y,f){ws(Object.values(pi).includes(f),y,"invalid-persistence-type"),(0,x.b$)()?ws(f!==pi.SESSION,y,"unsupported-persistence-type"):(0,x.UG)()?ws(f===pi.NONE,y,"unsupported-persistence-type"):sl()?ws(f===pi.NONE||f===pi.LOCAL&&(0,x.hl)(),y,"unsupported-persistence-type"):ws(f===pi.NONE||Hd(),y,"unsupported-persistence-type")}(b._delegate,g),g){case pi.SESSION:I=Ci;break;case pi.LOCAL:I=(yield vt(ys)._isAvailable())?ys:ac;break;case pi.NONE:I=G;break;default:return we("argument-error",{appName:b._delegate.name})}return b._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xr(this._delegate,function Ll(y){return To.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xr(this._delegate,an(this._delegate,g))}signInWithCustomToken(g){return Xr(this._delegate,function Yu(y,f){return ns.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,b){return Xr(this._delegate,function Ce(y,f,g){return an((0,x.m9)(y),cd.credential(f,g))}(this._delegate,g,b))}signInWithEmailLink(g,b){return Xr(this._delegate,function ar(y,f,g){return Xu.apply(this,arguments)}(this._delegate,g,b))}signInWithPhoneNumber(g,b){return Nc(this._delegate,function af(y,f,g){return lf.apply(this,arguments)}(this._delegate,g,b))}signInWithPopup(g){var b=this;return(0,a.Z)(function*(){return Oc(Cc(),b._delegate,"operation-not-supported-in-this-environment"),Xr(b._delegate,function Pg(y,f,g){return xg.apply(this,arguments)}(b._delegate,g,al))})()}signInWithRedirect(g){var b=this;return(0,a.Z)(function*(){return Oc(Cc(),b._delegate,"operation-not-supported-in-this-environment"),yield va(b._delegate),S(b._delegate,g,al)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Kh(y,f){return jl.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=pi,y})();function Cf(y,f,g){let b=y;"function"!=typeof y&&({next:b,error:f,complete:g}=y);const I=b;return{next:Z=>I(Z&&to.getOrCreate(Z)),error:f,complete:g}}function If(y,f){const g=function gu(y,f){const g=Zg();if(!g)return[];const b=U(pu,y,f);switch(g.getItem(b)){case pi.NONE:return[G];case pi.LOCAL:return[ys,Ci];case pi.SESSION:return[Ci];default:return[]}}(y,f);if(typeof self<"u"&&!g.includes(ys)&&g.push(ys),typeof window<"u")for(const b of[ac,Ci])g.includes(b)||g.push(b);return g.includes(G)||g.push(G),g}class Rc{constructor(){this.providerId="phone",this._delegate=new vs(qg(Y.Z.auth()))}static credential(f,g){return vs.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}Rc.PHONE_SIGN_IN_METHOD=vs.PHONE_SIGN_IN_METHOD,Rc.PROVIDER_ID=vs.PROVIDER_ID;const ei=V;class no{constructor(f,g,b=Y.Z.app()){var I;ei(null===(I=b.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:b.name}),this._delegate=new bn(f,g,b.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function u0(y){y.INTERNAL.registerComponent(new fe.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),b=f.getProvider("auth");return new Qg(g,b)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:q_EMAIL_SIGNIN,PASSWORD_RESET:q_PASSWORD_RESET,RECOVER_EMAIL:q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:q_VERIFY_EMAIL}},EmailAuthProvider:cd,FacebookAuthProvider:zu,GithubAuthProvider:dd,GoogleAuthProvider:qh,OAuthProvider:Wo,SAMLAuthProvider:es,PhoneAuthProvider:Rc,PhoneMultiFactorGenerator:xd,RecaptchaVerifier:no,TwitterAuthProvider:bg,Auth:Qg,AuthCredential:sr,Error:x.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.3.7")}(Y.Z)},8766:(yt,be,k)=>{k.d(be,{Lj:()=>we,X3:()=>Le});var a=k(5861);const Y=(V,_e)=>_e.some(ke=>V instanceof ke);let x,ne;const fe=new WeakMap,ce=new WeakMap,ue=new WeakMap,H=new WeakMap,j=new WeakMap;let De={get(V,_e,ke){if(V instanceof IDBTransaction){if("done"===_e)return ce.get(V);if("objectStoreNames"===_e)return V.objectStoreNames||ue.get(V);if("store"===_e)return ke.objectStoreNames[1]?void 0:ke.objectStore(ke.objectStoreNames[0])}return Ee(V[_e])},set:(V,_e,ke)=>(V[_e]=ke,!0),has:(V,_e)=>V instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in V};function he(V){return"function"==typeof V?function pt(V){return V!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(V)?function(..._e){return V.apply(Se(this),_e),Ee(fe.get(this))}:function(..._e){return Ee(V.apply(Se(this),_e))}:function(_e,...ke){const Ze=V.call(Se(this),_e,...ke);return ue.set(Ze,_e.sort?_e.sort():[_e]),Ee(Ze)}}(V):(V instanceof IDBTransaction&&function je(V){if(ce.has(V))return;const _e=new Promise((ke,Ze)=>{const vt=()=>{V.removeEventListener("complete",ot),V.removeEventListener("error",se),V.removeEventListener("abort",se)},ot=()=>{ke(),vt()},se=()=>{Ze(V.error||new DOMException("AbortError","AbortError")),vt()};V.addEventListener("complete",ot),V.addEventListener("error",se),V.addEventListener("abort",se)});ce.set(V,_e)}(V),Y(V,function ie(){return x||(x=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(V,De):V)}function Ee(V){if(V instanceof IDBRequest)return function q(V){const _e=new Promise((ke,Ze)=>{const vt=()=>{V.removeEventListener("success",ot),V.removeEventListener("error",se)},ot=()=>{ke(Ee(V.result)),vt()},se=()=>{Ze(V.error),vt()};V.addEventListener("success",ot),V.addEventListener("error",se)});return _e.then(ke=>{ke instanceof IDBCursor&&fe.set(ke,V)}).catch(()=>{}),j.set(_e,V),_e}(V);if(H.has(V))return H.get(V);const _e=he(V);return _e!==V&&(H.set(V,_e),j.set(_e,V)),_e}const Se=V=>j.get(V);function Le(V,_e,{blocked:ke,upgrade:Ze,blocking:vt,terminated:ot}={}){const se=indexedDB.open(V,_e),de=Ee(se);return Ze&&se.addEventListener("upgradeneeded",ye=>{Ze(Ee(se.result),ye.oldVersion,ye.newVersion,Ee(se.transaction))}),ke&&se.addEventListener("blocked",()=>ke()),de.then(ye=>{ot&&ye.addEventListener("close",()=>ot()),vt&&ye.addEventListener("versionchange",()=>vt())}).catch(()=>{}),de}function we(V,{blocked:_e}={}){const ke=indexedDB.deleteDatabase(V);return _e&&ke.addEventListener("blocked",()=>_e()),Ee(ke).then(()=>{})}const ve=["get","getKey","getAll","getAllKeys","count"],Ie=["put","add","delete","clear"],Ve=new Map;function Re(V,_e){if(!(V instanceof IDBDatabase)||_e in V||"string"!=typeof _e)return;if(Ve.get(_e))return Ve.get(_e);const ke=_e.replace(/FromIndex$/,""),Ze=_e!==ke,vt=Ie.includes(ke);if(!(ke in(Ze?IDBIndex:IDBObjectStore).prototype)||!vt&&!ve.includes(ke))return;const ot=function(){var se=(0,a.Z)(function*(de,...ye){const Ae=this.transaction(de,vt?"readwrite":"readonly");let xe=Ae.store;return Ze&&(xe=xe.index(ye.shift())),(yield Promise.all([xe[ke](...ye),vt&&Ae.done]))[0]});return function(ye){return se.apply(this,arguments)}}();return Ve.set(_e,ot),ot}!function qe(V){De=V(De)}(V=>({...V,get:(_e,ke,Ze)=>Re(_e,ke)||V.get(_e,ke,Ze),has:(_e,ke)=>!!Re(_e,ke)||V.has(_e,ke)}))},5861:(yt,be,k)=>{function a(x,ne,ie,ee,fe,ce,ue){try{var H=x[ce](ue),j=H.value}catch(q){return void ie(q)}H.done?ne(j):Promise.resolve(j).then(ee,fe)}function Y(x){return function(){var ne=this,ie=arguments;return new Promise(function(ee,fe){var ce=x.apply(ne,ie);function ue(j){a(ce,ee,fe,ue,H,"next",j)}function H(j){a(ce,ee,fe,ue,H,"throw",j)}ue(void 0)})}}k.d(be,{Z:()=>Y})}},yt=>{yt(yt.s=7431)}]);